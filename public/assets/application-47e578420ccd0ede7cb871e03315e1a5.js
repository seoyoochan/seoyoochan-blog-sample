!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=se.type(t);return"function"===i||se.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(se.isFunction(e))return se.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return se.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(he.test(e))return se.filter(e,t,i);e=se.filter(e,t)}return se.grep(t,function(t){return se.inArray(t,e)>=0!==i})}function s(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function a(t){var e=_e[t]={};return se.each(t.match(ye)||[],function(t,i){e[i]=!0}),e}function r(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",o,!1),t.removeEventListener("load",o,!1)):(fe.detachEvent("onreadystatechange",o),t.detachEvent("onload",o))}function o(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(r(),se.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Se,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Ce.test(i)?se.parseJSON(i):i}catch(s){}se.data(t,e,i)}else i=void 0}return i}function c(t){var e;for(e in t)if(("data"!==e||!se.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function d(t,e,i,n){if(se.acceptData(t)){var s,a,r=se.expando,o=t.nodeType,l=o?se.cache:t,c=o?t[r]:t[r]&&r;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof e)return c||(c=o?t[r]=G.pop()||se.guid++:r),l[c]||(l[c]=o?{}:{toJSON:se.noop}),("object"==typeof e||"function"==typeof e)&&(n?l[c]=se.extend(l[c],e):l[c].data=se.extend(l[c].data,e)),a=l[c],n||(a.data||(a.data={}),a=a.data),void 0!==i&&(a[se.camelCase(e)]=i),"string"==typeof e?(s=a[e],null==s&&(s=a[se.camelCase(e)])):s=a,s}}function u(t,e,i){if(se.acceptData(t)){var n,s,a=t.nodeType,r=a?se.cache:t,o=a?t[se.expando]:se.expando;if(r[o]){if(e&&(n=i?r[o]:r[o].data)){se.isArray(e)?e=e.concat(se.map(e,se.camelCase)):e in n?e=[e]:(e=se.camelCase(e),e=e in n?[e]:e.split(" ")),s=e.length;for(;s--;)delete n[e[s]];if(i?!c(n):!se.isEmptyObject(n))return}(i||(delete r[o].data,c(r[o])))&&(a?se.cleanData([t],!0):ie.deleteExpando||r!=r.window?delete r[o]:r[o]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(t){}}function m(t){var e=je.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function g(t,e){var i,n,s=0,a=typeof t.getElementsByTagName!==ke?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==ke?t.querySelectorAll(e||"*"):void 0;if(!a)for(a=[],i=t.childNodes||t;null!=(n=i[s]);s++)!e||se.nodeName(n,e)?a.push(n):se.merge(a,g(n,e));return void 0===e||e&&se.nodeName(t,e)?se.merge([t],a):a}function v(t){Fe.test(t.type)&&(t.defaultChecked=t.checked)}function b(t,e){return se.nodeName(t,"table")&&se.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==se.find.attr(t,"type"))+"/"+t.type,t}function _(t){var e=Xe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){for(var i,n=0;null!=(i=t[n]);n++)se._data(i,"globalEval",!e||se._data(e[n],"globalEval"))}function w(t,e){if(1===e.nodeType&&se.hasData(t)){var i,n,s,a=se._data(t),r=se._data(e,a),o=a.events;if(o){delete r.handle,r.events={};for(i in o)for(n=0,s=o[i].length;s>n;n++)se.event.add(e,i,o[i][n])}r.data&&(r.data=se.extend({},r.data))}}function k(t,e){var i,n,s;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ie.noCloneEvent&&e[se.expando]){s=se._data(e);for(n in s.events)se.removeEvent(e,n,s.handle);e.removeAttribute(se.expando)}"script"===i&&e.text!==t.text?(y(e).text=t.text,_(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ie.html5Clone&&t.innerHTML&&!se.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Fe.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function C(e,i){var n,s=se(i.createElement(e)).appendTo(i.body),a=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(s[0]))?n.display:se.css(s[0],"display");return s.detach(),a}function S(t){var e=fe,i=Ze[t];return i||(i=C(t,e),"none"!==i&&i||(Je=(Je||se("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Je[0].contentWindow||Je[0].contentDocument).document,e.write(),e.close(),i=C(t,e),Je.detach()),Ze[t]=i),i}function T(t,e){return{get:function(){var i=t();if(null!=i)return i?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,s=hi.length;s--;)if(e=hi[s]+i,e in t)return e;return n}function $(t,e){for(var i,n,s,a=[],r=0,o=t.length;o>r;r++)n=t[r],n.style&&(a[r]=se._data(n,"olddisplay"),i=n.style.display,e?(a[r]||"none"!==i||(n.style.display=""),""===n.style.display&&$e(n)&&(a[r]=se._data(n,"olddisplay",S(n.nodeName)))):(s=$e(n),(i&&"none"!==i||!s)&&se._data(n,"olddisplay",s?i:se.css(n,"display"))));for(r=0;o>r;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?a[r]||"":"none"));return t}function E(t,e,i){var n=li.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function F(t,e,i,n,s){for(var a=i===(n?"border":"content")?4:"width"===e?1:0,r=0;4>a;a+=2)"margin"===i&&(r+=se.css(t,i+Ae[a],!0,s)),n?("content"===i&&(r-=se.css(t,"padding"+Ae[a],!0,s)),"margin"!==i&&(r-=se.css(t,"border"+Ae[a]+"Width",!0,s))):(r+=se.css(t,"padding"+Ae[a],!0,s),"padding"!==i&&(r+=se.css(t,"border"+Ae[a]+"Width",!0,s)));return r}function N(t,e,i){var n=!0,s="width"===e?t.offsetWidth:t.offsetHeight,a=ti(t),r=ie.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,a);if(0>=s||null==s){if(s=ei(t,e,a),(0>s||null==s)&&(s=t.style[e]),ni.test(s))return s;n=r&&(ie.boxSizingReliable()||s===t.style[e]),s=parseFloat(s)||0}return s+F(t,e,i||(r?"border":"content"),n,a)+"px"}function D(t,e,i,n,s){return new D.prototype.init(t,e,i,n,s)}function L(){return setTimeout(function(){pi=void 0}),pi=se.now()}function R(t,e){var i,n={height:t},s=0;for(e=e?1:0;4>s;s+=2-e)i=Ae[s],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function H(t,e,i){for(var n,s=(yi[e]||[]).concat(yi["*"]),a=0,r=s.length;r>a;a++)if(n=s[a].call(i,e,t))return n}function j(t,e,i){var n,s,a,r,o,l,c,d,u=this,h={},p=t.style,f=t.nodeType&&$e(t),m=se._data(t,"fxshow");i.queue||(o=se._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,se.queue(t,"fx").length||o.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=se.css(t,"display"),d="none"===c?se._data(t,"olddisplay")||S(t.nodeName):c,"inline"===d&&"none"===se.css(t,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==S(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ie.shrinkWrapBlocks()||u.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],mi.exec(s)){if(delete e[n],a=a||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;f=!0}h[n]=m&&m[n]||se.style(t,n)}else c=void 0;if(se.isEmptyObject(h))"inline"===("none"===c?S(t.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=se._data(t,"fxshow",{}),a&&(m.hidden=!f),f?se(t).show():u.done(function(){se(t).hide()}),u.done(function(){var e;se._removeData(t,"fxshow");for(e in h)se.style(t,e,h[e])});for(n in h)r=H(f?m[n]:0,n,u),n in m||(m[n]=r.start,f&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function z(t,e){var i,n,s,a,r;for(i in t)if(n=se.camelCase(i),s=e[n],a=t[i],se.isArray(a)&&(s=a[1],a=t[i]=a[0]),i!==n&&(t[n]=a,delete t[i]),r=se.cssHooks[n],r&&"expand"in r){a=r.expand(a),delete t[n];for(i in a)i in t||(t[i]=a[i],e[i]=s)}else e[n]=s}function P(t,e,i){var n,s,a=0,r=bi.length,o=se.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=pi||L(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,a=1-n,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(a);return o.notifyWith(t,[c,a,i]),1>a&&l?i:(o.resolveWith(t,[c]),!1)},c=o.promise({elem:t,props:se.extend({},e),opts:se.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:pi||L(),duration:i.duration,tweens:[],createTween:function(e,i){var n=se.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)c.tweens[i].run(1);return e?o.resolveWith(t,[c,e]):o.rejectWith(t,[c,e]),this}}),d=c.props;for(z(d,c.opts.specialEasing);r>a;a++)if(n=bi[a].call(c,t,d,c.opts))return n;return se.map(d,H,c),se.isFunction(c.opts.start)&&c.opts.start.call(t,c),se.fx.timer(se.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function I(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,a=e.toLowerCase().match(ye)||[];if(se.isFunction(i))for(;n=a[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function O(t,e,i,n){function s(o){var l;return a[o]=!0,se.each(t[o]||[],function(t,o){var c=o(e,i,n);return"string"!=typeof c||r||a[c]?r?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),l}var a={},r=t===qi;return s(e.dataTypes[0])||!a["*"]&&s("*")}function M(t,e){var i,n,s=se.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((s[n]?t:i||(i={}))[n]=e[n]);return i&&se.extend(!0,t,i),t}function B(t,e,i){for(var n,s,a,r,o=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=t.mimeType||e.getResponseHeader("Content-Type"));if(s)for(r in o)if(o[r]&&o[r].test(s)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}n||(n=r)}a=a||n}return a?(a!==l[0]&&l.unshift(a),i[a]):void 0}function q(t,e,i,n){var s,a,r,o,l,c={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(a=d.shift();a;)if(t.responseFields[a]&&(i[t.responseFields[a]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=d.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(r=c[l+" "+a]||c["* "+a],!r)for(s in c)if(o=s.split(" "),o[1]===a&&(r=c[l+" "+o[0]]||c["* "+o[0]])){r===!0?r=c[s]:c[s]!==!0&&(a=o[0],d.unshift(o[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function W(t,e,i,n){var s;if(se.isArray(e))se.each(e,function(e,s){i||Xi.test(t)?n(t,s):W(t+"["+("object"==typeof s?e:"")+"]",s,i,n)});else if(i||"object"!==se.type(e))n(t,e);else for(s in e)W(t+"["+s+"]",e[s],i,n)}function U(){try{return new t.XMLHttpRequest}catch(e){}}function K(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function X(t){return se.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var G=[],V=G.slice,Q=G.concat,Y=G.push,J=G.indexOf,Z={},te=Z.toString,ee=Z.hasOwnProperty,ie={},ne="1.11.1",se=function(t,e){return new se.fn.init(t,e)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/^-ms-/,oe=/-([\da-z])/gi,le=function(t,e){return e.toUpperCase()};se.fn=se.prototype={jquery:ne,constructor:se,selector:"",length:0,toArray:function(){return V.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:V.call(this)},pushStack:function(t){var e=se.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return se.each(this,t,e)},map:function(t){return this.pushStack(se.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:G.sort,splice:G.splice},se.extend=se.fn.extend=function(){var t,e,i,n,s,a,r=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[o]||{},o++),"object"==typeof r||se.isFunction(r)||(r={}),o===l&&(r=this,o--);l>o;o++)if(null!=(s=arguments[o]))for(n in s)t=r[n],i=s[n],r!==i&&(c&&i&&(se.isPlainObject(i)||(e=se.isArray(i)))?(e?(e=!1,a=t&&se.isArray(t)?t:[]):a=t&&se.isPlainObject(t)?t:{},r[n]=se.extend(c,a,i)):void 0!==i&&(r[n]=i));return r},se.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===se.type(t)},isArray:Array.isArray||function(t){return"array"===se.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!se.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==se.type(t)||t.nodeType||se.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ie.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[te.call(t)]||"object":typeof t},globalEval:function(e){e&&se.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(re,"ms-").replace(oe,le)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var s,a=0,r=t.length,o=i(t);if(n){if(o)for(;r>a&&(s=e.apply(t[a],n),s!==!1);a++);else for(a in t)if(s=e.apply(t[a],n),s===!1)break}else if(o)for(;r>a&&(s=e.call(t[a],a,t[a]),s!==!1);a++);else for(a in t)if(s=e.call(t[a],a,t[a]),s===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ae,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?se.merge(n,"string"==typeof t?[t]:t):Y.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(J)return J.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;i>n;)t[s++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[s++]=e[n++];return t.length=s,t},grep:function(t,e,i){for(var n,s=[],a=0,r=t.length,o=!i;r>a;a++)n=!e(t[a],a),n!==o&&s.push(t[a]);return s},map:function(t,e,n){var s,a=0,r=t.length,o=i(t),l=[];if(o)for(;r>a;a++)s=e(t[a],a,n),null!=s&&l.push(s);else for(a in t)s=e(t[a],a,n),null!=s&&l.push(s);return Q.apply([],l)},guid:1,proxy:function(t,e){var i,n,s;return"string"==typeof e&&(s=t[e],e=t,t=s),se.isFunction(t)?(i=V.call(arguments,2),n=function(){return t.apply(e||this,i.concat(V.call(arguments)))},n.guid=t.guid=t.guid||se.guid++,n):void 0},now:function(){return+new Date},support:ie}),se.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var ce=function(t){function e(t,e,i,n){var s,a,r,o,l,c,u,p,f,m;if((e?e.ownerDocument||e:O)!==D&&N(e),e=e||D,i=i||[],!t||"string"!=typeof t)return i;if(1!==(o=e.nodeType)&&9!==o)return[];if(R&&!n){if(s=be.exec(t))if(r=s[1]){if(9===o){if(a=e.getElementById(r),!a||!a.parentNode)return i;if(a.id===r)return i.push(a),i}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(r))&&P(e,a)&&a.id===r)return i.push(a),i}else{if(s[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((r=s[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(r)),i}if(x.qsa&&(!H||!H.test(t))){if(p=u=I,f=e,m=9===o&&t,1===o&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(u=e.getAttribute("id"))?p=u.replace(_e,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=ye.test(t)&&d(e.parentNode)||e,m=c.join(",")}if(m)try{return Z.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{u||e.removeAttribute("id")}}}return A(t.replace(le,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[I]=!0,t}function s(t){var e=D.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var i=t.split("|"),n=t.length;n--;)w.attrHandle[i[n]]=e}function r(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function o(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var s,a=t([],i.length,e),r=a.length;r--;)i[s=a[r]]&&(i[s]=!(n[s]=i[s]))})})}function d(t){return t&&typeof t.getElementsByTagName!==X&&t}function u(){}function h(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,s=i&&"parentNode"===n,a=B++;return e.first?function(e,i,a){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,a)}:function(e,i,r){var o,l,c=[M,a];if(r){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,r))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(l=e[I]||(e[I]={}),(o=l[n])&&o[0]===M&&o[1]===a)return c[2]=o[2];if(l[n]=c,c[2]=t(e,i,r))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var s=0,a=i.length;a>s;s++)e(t,i[s],n);return n}function g(t,e,i,n,s){for(var a,r=[],o=0,l=t.length,c=null!=e;l>o;o++)(a=t[o])&&(!i||i(a,n,s))&&(r.push(a),c&&e.push(o));return r}function v(t,e,i,s,a,r){return s&&!s[I]&&(s=v(s)),a&&!a[I]&&(a=v(a,r)),n(function(n,r,o,l){var c,d,u,h=[],p=[],f=r.length,v=n||m(e||"*",o.nodeType?[o]:o,[]),b=!t||!n&&e?v:g(v,h,t,o,l),y=i?a||(n?t:f||s)?[]:r:b;if(i&&i(b,y,o,l),s)for(c=g(y,p),s(c,[],o,l),d=c.length;d--;)(u=c[d])&&(y[p[d]]=!(b[p[d]]=u));if(n){if(a||t){if(a){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(b[d]=u);a(null,y=[],c,l)}for(d=y.length;d--;)(u=y[d])&&(c=a?ee.call(n,u):h[d])>-1&&(n[c]=!(r[c]=u))}}else y=g(y===r?y.splice(f,y.length):y),a?a(null,r,y,l):Z.apply(r,y)})}function b(t){for(var e,i,n,s=t.length,a=w.relative[t[0].type],r=a||w.relative[" "],o=a?1:0,l=p(function(t){return t===e},r,!0),c=p(function(t){return ee.call(e,t)>-1},r,!0),d=[function(t,i,n){return!a&&(n||i!==$)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];s>o;o++)if(i=w.relative[t[o].type])d=[p(f(d),i)];else{if(i=w.filter[t[o].type].apply(null,t[o].matches),i[I]){for(n=++o;s>n&&!w.relative[t[n].type];n++);return v(o>1&&f(d),o>1&&h(t.slice(0,o-1).concat({value:" "===t[o-2].type?"*":""})).replace(le,"$1"),i,n>o&&b(t.slice(o,n)),s>n&&b(t=t.slice(n)),s>n&&h(t))}d.push(i)}return f(d)}function y(t,i){var s=i.length>0,a=t.length>0,r=function(n,r,o,l,c){var d,u,h,p=0,f="0",m=n&&[],v=[],b=$,y=n||a&&w.find.TAG("*",c),_=M+=null==b?1:Math.random()||.1,x=y.length;for(c&&($=r!==D&&r);f!==x&&null!=(d=y[f]);f++){if(a&&d){for(u=0;h=t[u++];)if(h(d,r,o)){l.push(d);break}c&&(M=_)}s&&((d=!h&&d)&&p--,n&&m.push(d))}if(p+=f,s&&f!==p){for(u=0;h=i[u++];)h(m,v,r,o);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Y.call(l));v=g(v)}Z.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return c&&(M=_,$=b),m};return s?n(r):r}var _,x,w,k,C,S,T,A,$,E,F,N,D,L,R,H,j,z,P,I="sizzle"+-new Date,O=t.document,M=0,B=0,q=i(),W=i(),U=i(),K=function(t,e){return t===e&&(F=!0),0},X="undefined",G=1<<31,V={}.hasOwnProperty,Q=[],Y=Q.pop,J=Q.push,Z=Q.push,te=Q.slice,ee=Q.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=se.replace("w","w#"),re="\\["+ne+"*("+se+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ae+"))|)"+ne+"*\\]",oe=":("+se+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),de=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),pe=new RegExp("^"+ae+"$"),fe={ID:new RegExp("^#("+se+")"),CLASS:new RegExp("^\\.("+se+")"),TAG:new RegExp("^("+se.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.apply(Q=te.call(O.childNodes),O.childNodes),Q[O.childNodes.length].nodeType}catch(ke){Z={apply:Q.length?function(t,e){J.apply(t,te.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},N=e.setDocument=function(t){var e,i=t?t.ownerDocument||t:O,n=i.defaultView;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,L=i.documentElement,R=!C(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){N()},!1):n.attachEvent&&n.attachEvent("onunload",function(){N()})),x.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=s(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(i.getElementsByClassName)&&s(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),x.getById=s(function(t){return L.appendChild(t).id=I,!i.getElementsByName||!i.getElementsByName(I).length}),x.getById?(w.find.ID=function(t,e){if(typeof e.getElementById!==X&&R){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(t){var e=t.replace(xe,we);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(xe,we);return function(t){var i=typeof t.getAttributeNode!==X&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=x.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==X?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],s=0,a=e.getElementsByTagName(t);if("*"===t){for(;i=a[s++];)1===i.nodeType&&n.push(i);return n}return a},w.find.CLASS=x.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==X&&R?e.getElementsByClassName(t):void 0},j=[],H=[],(x.qsa=ve.test(i.querySelectorAll))&&(s(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&H.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||H.push("\\["+ne+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||H.push(":checked")}),s(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&H.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),H.push(",.*:")})),(x.matchesSelector=ve.test(z=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&s(function(t){x.disconnectedMatch=z.call(t,"div"),z.call(t,"[s!='']:x"),j.push("!=",oe)}),H=H.length&&new RegExp(H.join("|")),j=j.length&&new RegExp(j.join("|")),e=ve.test(L.compareDocumentPosition),P=e||ve.test(L.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=e?function(t,e){if(t===e)return F=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===O&&P(O,t)?-1:e===i||e.ownerDocument===O&&P(O,e)?1:E?ee.call(E,t)-ee.call(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return F=!0,0;var n,s=0,a=t.parentNode,o=e.parentNode,l=[t],c=[e];if(!a||!o)return t===i?-1:e===i?1:a?-1:o?1:E?ee.call(E,t)-ee.call(E,e):0;if(a===o)return r(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[s]===c[s];)s++;return s?r(l[s],c[s]):l[s]===O?-1:c[s]===O?1:0},i):D},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==D&&N(t),i=i.replace(ue,"='$1']"),!(!x.matchesSelector||!R||j&&j.test(i)||H&&H.test(i)))try{var n=z.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(s){}return e(i,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&N(t),P(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&N(t);var i=w.attrHandle[e.toLowerCase()],n=i&&V.call(w.attrHandle,e.toLowerCase())?i(t,e,!R):void 0;return void 0!==n?n:x.attributes||!R?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,s=0;if(F=!x.detectDuplicates,E=!x.sortStable&&t.slice(0),t.sort(K),F){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return E=null,t},k=e.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},w=e.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,we),t[3]=(t[3]||t[4]||t[5]||"").replace(xe,we),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return fe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&he.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,we).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==X&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(s){var a=e.attr(s,t);return null==a?"!="===i:i?(a+="","="===i?a===n:"!="===i?a!==n:"^="===i?n&&0===a.indexOf(n):"*="===i?n&&a.indexOf(n)>-1:"$="===i?n&&a.slice(-n.length)===n:"~="===i?(" "+a+" ").indexOf(n)>-1:"|="===i?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,s){var a="nth"!==t.slice(0,3),r="last"!==t.slice(-4),o="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,l){var c,d,u,h,p,f,m=a!==r?"nextSibling":"previousSibling",g=e.parentNode,v=o&&e.nodeName.toLowerCase(),b=!l&&!o;if(g){if(a){for(;m;){for(u=e;u=u[m];)if(o?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(d=g[I]||(g[I]={}),c=d[t]||[],p=c[0]===M&&c[1],h=c[0]===M&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===e){d[t]=[M,p,h];break}}else if(b&&(c=(e[I]||(e[I]={}))[t])&&c[0]===M)h=c[1];else for(;(u=++p&&u&&u[m]||(h=p=0)||f.pop())&&((o?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(b&&((u[I]||(u[I]={}))[t]=[M,h]),u!==e)););return h-=s,h===n||h%n===0&&h/n>=0}}},PSEUDO:function(t,i){var s,a=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[I]?a(i):a.length>1?(s=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,s=a(t,i),r=s.length;r--;)n=ee.call(t,s[r]),t[n]=!(e[n]=s[r])}):function(t){return a(t,0,s)}):a}},pseudos:{not:n(function(t){var e=[],i=[],s=T(t.replace(le,"$1"));return s[I]?n(function(t,e,i,n){for(var a,r=s(t,null,n,[]),o=t.length;o--;)(a=r[o])&&(t[o]=!(e[o]=a))}):function(t,n,a){return e[0]=t,s(e,null,a,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,we).toLowerCase(),function(e){var i;do if(i=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[0>i?i+e:i]}),even:c(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},w.pseudos.nth=w.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[_]=o(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=l(_);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,S=e.tokenize=function(t,i){var n,s,a,r,o,l,c,d=W[t+" "];if(d)return i?0:d.slice(0);for(o=t,l=[],c=w.preFilter;o;){(!n||(s=ce.exec(o)))&&(s&&(o=o.slice(s[0].length)||o),l.push(a=[])),n=!1,(s=de.exec(o))&&(n=s.shift(),a.push({value:n,type:s[0].replace(le," ")}),o=o.slice(n.length));for(r in w.filter)!(s=fe[r].exec(o))||c[r]&&!(s=c[r](s))||(n=s.shift(),a.push({value:n,type:r,matches:s}),o=o.slice(n.length));if(!n)break}return i?o.length:o?e.error(t):W(t,l).slice(0)},T=e.compile=function(t,e){var i,n=[],s=[],a=U[t+" "];if(!a){for(e||(e=S(t)),i=e.length;i--;)a=b(e[i]),a[I]?n.push(a):s.push(a);a=U(t,y(s,n)),a.selector=t}return a},A=e.select=function(t,e,i,n){var s,a,r,o,l,c="function"==typeof t&&t,u=!n&&S(t=c.selector||t);if(i=i||[],1===u.length){if(a=u[0]=u[0].slice(0),a.length>2&&"ID"===(r=a[0]).type&&x.getById&&9===e.nodeType&&R&&w.relative[a[1].type]){if(e=(w.find.ID(r.matches[0].replace(xe,we),e)||[])[0],!e)return i;c&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(s=fe.needsContext.test(t)?0:a.length;s--&&(r=a[s],!w.relative[o=r.type]);)if((l=w.find[o])&&(n=l(r.matches[0].replace(xe,we),ye.test(a[0].type)&&d(e.parentNode)||e))){if(a.splice(s,1),t=n.length&&h(a),!t)return Z.apply(i,n),i;
break}}return(c||T(t,u))(n,e,!R,i,ye.test(t)&&d(e.parentNode)||e),i},x.sortStable=I.split("").sort(K).join("")===I,x.detectDuplicates=!!F,N(),x.sortDetached=s(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||a(ie,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);se.find=ce,se.expr=ce.selectors,se.expr[":"]=se.expr.pseudos,se.unique=ce.uniqueSort,se.text=ce.getText,se.isXMLDoc=ce.isXML,se.contains=ce.contains;var de=se.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;se.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?se.find.matchesSelector(n,t)?[n]:[]:se.find.matches(t,se.grep(e,function(t){return 1===t.nodeType}))},se.fn.extend({find:function(t){var e,i=[],n=this,s=n.length;if("string"!=typeof t)return this.pushStack(se(t).filter(function(){for(e=0;s>e;e++)if(se.contains(n[e],this))return!0}));for(e=0;s>e;e++)se.find(t,n[e],i);return i=this.pushStack(s>1?se.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&de.test(t)?se(t):t||[],!1).length}});var pe,fe=t.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=se.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:me.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||pe).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof se?e[0]:e,se.merge(this,se.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:fe,!0)),ue.test(i[1])&&se.isPlainObject(e))for(i in e)se.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(n=fe.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return pe.find(t);this.length=1,this[0]=n}return this.context=fe,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):se.isFunction(t)?"undefined"!=typeof pe.ready?pe.ready(t):t(se):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),se.makeArray(t,this))};ge.prototype=se.fn,pe=se(fe);var ve=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};se.extend({dir:function(t,e,i){for(var n=[],s=t[e];s&&9!==s.nodeType&&(void 0===i||1!==s.nodeType||!se(s).is(i));)1===s.nodeType&&n.push(s),s=s[e];return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),se.fn.extend({has:function(t){var e,i=se(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(se.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,a=[],r=de.test(t)||"string"!=typeof t?se(t,e||this.context):0;s>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&se.find.matchesSelector(i,t))){a.push(i);break}return this.pushStack(a.length>1?se.unique(a):a)},index:function(t){return t?"string"==typeof t?se.inArray(this[0],se(t)):se.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(se.unique(se.merge(this.get(),se(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),se.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return se.dir(t,"parentNode")},parentsUntil:function(t,e,i){return se.dir(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return se.dir(t,"nextSibling")},prevAll:function(t){return se.dir(t,"previousSibling")},nextUntil:function(t,e,i){return se.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return se.dir(t,"previousSibling",i)},siblings:function(t){return se.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return se.sibling(t.firstChild)},contents:function(t){return se.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:se.merge([],t.childNodes)}},function(t,e){se.fn[t]=function(i,n){var s=se.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=se.filter(n,s)),this.length>1&&(be[t]||(s=se.unique(s)),ve.test(t)&&(s=s.reverse())),this.pushStack(s)}});var ye=/\S+/g,_e={};se.Callbacks=function(t){t="string"==typeof t?_e[t]||a(t):se.extend({},t);var e,i,n,s,r,o,l=[],c=!t.once&&[],d=function(a){for(i=t.memory&&a,n=!0,r=o||0,o=0,s=l.length,e=!0;l&&s>r;r++)if(l[r].apply(a[0],a[1])===!1&&t.stopOnFalse){i=!1;break}e=!1,l&&(c?c.length&&d(c.shift()):i?l=[]:u.disable())},u={add:function(){if(l){var n=l.length;!function a(e){se.each(e,function(e,i){var n=se.type(i);"function"===n?t.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==n&&a(i)})}(arguments),e?s=l.length:i&&(o=n,d(i))}return this},remove:function(){return l&&se.each(arguments,function(t,i){for(var n;(n=se.inArray(i,l,n))>-1;)l.splice(n,1),e&&(s>=n&&s--,r>=n&&r--)}),this},has:function(t){return t?se.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=c=i=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,i||u.disable(),this},locked:function(){return!c},fireWith:function(t,i){return!l||n&&!c||(i=i||[],i=[t,i.slice?i.slice():i],e?c.push(i):d(i)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},se.extend({Deferred:function(t){var e=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return se.Deferred(function(i){se.each(e,function(e,a){var r=se.isFunction(t[e])&&t[e];s[a[1]](function(){var t=r&&r.apply(this,arguments);t&&se.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a[0]+"With"](this===n?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?se.extend(t,n):n}},s={};return n.pipe=n.then,se.each(e,function(t,a){var r=a[2],o=a[3];n[a[1]]=r.add,o&&r.add(function(){i=o},e[1^t][2].disable,e[2][2].lock),s[a[0]]=function(){return s[a[0]+"With"](this===s?n:this,arguments),this},s[a[0]+"With"]=r.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,a=V.call(arguments),r=a.length,o=1!==r||t&&se.isFunction(t.promise)?r:0,l=1===o?t:se.Deferred(),c=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?V.call(arguments):s,n===e?l.notifyWith(i,n):--o||l.resolveWith(i,n)}};if(r>1)for(e=new Array(r),i=new Array(r),n=new Array(r);r>s;s++)a[s]&&se.isFunction(a[s].promise)?a[s].promise().done(c(s,n,a)).fail(l.reject).progress(c(s,i,e)):--o;return o||l.resolveWith(n,a),l.promise()}});var xe;se.fn.ready=function(t){return se.ready.promise().done(t),this},se.extend({isReady:!1,readyWait:1,holdReady:function(t){t?se.readyWait++:se.ready(!0)},ready:function(t){if(t===!0?!--se.readyWait:!se.isReady){if(!fe.body)return setTimeout(se.ready);se.isReady=!0,t!==!0&&--se.readyWait>0||(xe.resolveWith(fe,[se]),se.fn.triggerHandler&&(se(fe).triggerHandler("ready"),se(fe).off("ready")))}}}),se.ready.promise=function(e){if(!xe)if(xe=se.Deferred(),"complete"===fe.readyState)setTimeout(se.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",o,!1),t.addEventListener("load",o,!1);else{fe.attachEvent("onreadystatechange",o),t.attachEvent("onload",o);var i=!1;try{i=null==t.frameElement&&fe.documentElement}catch(n){}i&&i.doScroll&&!function s(){if(!se.isReady){try{i.doScroll("left")}catch(t){return setTimeout(s,50)}r(),se.ready()}}()}return xe.promise(e)};var we,ke="undefined";for(we in se(ie))break;ie.ownLast="0"!==we,ie.inlineBlockNeedsLayout=!1,se(function(){var t,e,i,n;i=fe.getElementsByTagName("body")[0],i&&i.style&&(e=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==ke&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}t=null}(),se.acceptData=function(t){var e=se.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e};var Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;se.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?se.cache[t[se.expando]]:t[se.expando],!!t&&!c(t)},data:function(t,e,i){return d(t,e,i)},removeData:function(t,e){return u(t,e)},_data:function(t,e,i){return d(t,e,i,!0)},_removeData:function(t,e){return u(t,e,!0)}}),se.fn.extend({data:function(t,e){var i,n,s,a=this[0],r=a&&a.attributes;if(void 0===t){if(this.length&&(s=se.data(a),1===a.nodeType&&!se._data(a,"parsedAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=se.camelCase(n.slice(5)),l(a,n,s[n])));se._data(a,"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){se.data(this,t)}):arguments.length>1?this.each(function(){se.data(this,t,e)}):a?l(a,t,se.data(a,t)):void 0},removeData:function(t){return this.each(function(){se.removeData(this,t)})}}),se.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=se._data(t,e),i&&(!n||se.isArray(i)?n=se._data(t,e,se.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=se.queue(t,e),n=i.length,s=i.shift(),a=se._queueHooks(t,e),r=function(){se.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete a.stop,s.call(t,r,a)),!n&&a&&a.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return se._data(t,i)||se._data(t,i,{empty:se.Callbacks("once memory").add(function(){se._removeData(t,e+"queue"),se._removeData(t,i)})})}}),se.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?se.queue(this[0],t):void 0===e?this:this.each(function(){var i=se.queue(this,t,e);se._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&se.dequeue(this,t)})},dequeue:function(t){return this.each(function(){se.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=se.Deferred(),a=this,r=this.length,o=function(){--n||s.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)i=se._data(a[r],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(o));return o(),s.promise(e)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=["Top","Right","Bottom","Left"],$e=function(t,e){return t=e||t,"none"===se.css(t,"display")||!se.contains(t.ownerDocument,t)},Ee=se.access=function(t,e,i,n,s,a,r){var o=0,l=t.length,c=null==i;if("object"===se.type(i)){s=!0;for(o in i)se.access(t,e,o,i[o],!0,a,r)}else if(void 0!==n&&(s=!0,se.isFunction(n)||(r=!0),c&&(r?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(se(t),i)})),e))for(;l>o;o++)e(t[o],i,r?n:n.call(t[o],o,e(t[o],i)));return s?t:c?e.call(t):l?e(t[0],i):a},Fe=/^(?:checkbox|radio)$/i;!function(){var t=fe.createElement("input"),e=fe.createElement("div"),i=fe.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===e.firstChild.nodeType,ie.tbody=!e.getElementsByTagName("tbody").length,ie.htmlSerialize=!!e.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,i.appendChild(t),ie.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,i.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ie.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(n){ie.deleteExpando=!1}}}(),function(){var e,i,n=fe.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ie[e+"Bubbles"]=i in t)||(n.setAttribute(i,"t"),ie[e+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Ne=/^(?:input|select|textarea)$/i,De=/^key/,Le=/^(?:mouse|pointer|contextmenu)|click/,Re=/^(?:focusinfocus|focusoutblur)$/,He=/^([^.]*)(?:\.(.+)|)$/;se.event={global:{},add:function(t,e,i,n,s){var a,r,o,l,c,d,u,h,p,f,m,g=se._data(t);if(g){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=se.guid++),(r=g.events)||(r=g.events={}),(d=g.handle)||(d=g.handle=function(t){return typeof se===ke||t&&se.event.triggered===t.type?void 0:se.event.dispatch.apply(d.elem,arguments)},d.elem=t),e=(e||"").match(ye)||[""],o=e.length;o--;)a=He.exec(e[o])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(c=se.event.special[p]||{},p=(s?c.delegateType:c.bindType)||p,c=se.event.special[p]||{},u=se.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&se.expr.match.needsContext.test(s),namespace:f.join(".")},l),(h=r[p])||(h=r[p]=[],h.delegateCount=0,c.setup&&c.setup.call(t,n,f,d)!==!1||(t.addEventListener?t.addEventListener(p,d,!1):t.attachEvent&&t.attachEvent("on"+p,d))),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),s?h.splice(h.delegateCount++,0,u):h.push(u),se.event.global[p]=!0);t=null}},remove:function(t,e,i,n,s){var a,r,o,l,c,d,u,h,p,f,m,g=se.hasData(t)&&se._data(t);if(g&&(d=g.events)){for(e=(e||"").match(ye)||[""],c=e.length;c--;)if(o=He.exec(e[c])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p){for(u=se.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,h=d[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=h.length;a--;)r=h[a],!s&&m!==r.origType||i&&i.guid!==r.guid||o&&!o.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(h.splice(a,1),r.selector&&h.delegateCount--,u.remove&&u.remove.call(t,r));l&&!h.length&&(u.teardown&&u.teardown.call(t,f,g.handle)!==!1||se.removeEvent(t,p,g.handle),delete d[p])}else for(p in d)se.event.remove(t,p+e[c],i,n,!0);se.isEmptyObject(d)&&(delete g.handle,se._removeData(t,"events"))}},trigger:function(e,i,n,s){var a,r,o,l,c,d,u,h=[n||fe],p=ee.call(e,"type")?e.type:e,f=ee.call(e,"namespace")?e.namespace.split("."):[];if(o=d=n=n||fe,3!==n.nodeType&&8!==n.nodeType&&!Re.test(p+se.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),r=p.indexOf(":")<0&&"on"+p,e=e[se.expando]?e:new se.Event(p,"object"==typeof e&&e),e.isTrigger=s?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:se.makeArray(i,[e]),c=se.event.special[p]||{},s||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!s&&!c.noBubble&&!se.isWindow(n)){for(l=c.delegateType||p,Re.test(l+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),d=o;d===(n.ownerDocument||fe)&&h.push(d.defaultView||d.parentWindow||t)}for(u=0;(o=h[u++])&&!e.isPropagationStopped();)e.type=u>1?l:c.bindType||p,a=(se._data(o,"events")||{})[e.type]&&se._data(o,"handle"),a&&a.apply(o,i),a=r&&o[r],a&&a.apply&&se.acceptData(o)&&(e.result=a.apply(o,i),e.result===!1&&e.preventDefault());if(e.type=p,!s&&!e.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),i)===!1)&&se.acceptData(n)&&r&&n[p]&&!se.isWindow(n)){d=n[r],d&&(n[r]=null),se.event.triggered=p;try{n[p]()}catch(m){}se.event.triggered=void 0,d&&(n[r]=d)}return e.result}},dispatch:function(t){t=se.event.fix(t);var e,i,n,s,a,r=[],o=V.call(arguments),l=(se._data(this,"events")||{})[t.type]||[],c=se.event.special[t.type]||{};if(o[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(r=se.event.handlers.call(this,t,l),e=0;(s=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,a=0;(n=s.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(n.namespace))&&(t.handleObj=n,t.data=n.data,i=((se.event.special[n.origType]||{}).handle||n.handler).apply(s.elem,o),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,a,r=[],o=e.delegateCount,l=t.target;if(o&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(s=[],a=0;o>a;a++)n=e[a],i=n.selector+" ",void 0===s[i]&&(s[i]=n.needsContext?se(i,this).index(l)>=0:se.find(i,this,null,[l]).length),s[i]&&s.push(n);s.length&&r.push({elem:l,handlers:s})}return o<e.length&&r.push({elem:this,handlers:e.slice(o)}),r},fix:function(t){if(t[se.expando])return t;var e,i,n,s=t.type,a=t,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=Le.test(s)?this.mouseHooks:De.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new se.Event(a),e=n.length;e--;)i=n[e],t[i]=a[i];return t.target||(t.target=a.srcElement||fe),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,a):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,a=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||fe,s=n.documentElement,i=n.body,t.pageX=e.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return se.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return se.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var s=se.extend(new se.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?se.event.trigger(s,null,e):se.event.dispatch.call(e,s),s.isDefaultPrevented()&&i.preventDefault()}},se.removeEvent=fe.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===ke&&(t[n]=null),t.detachEvent(n,i))},se.Event=function(t,e){return this instanceof se.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?h:p):this.type=t,e&&se.extend(this,e),this.timeStamp=t&&t.timeStamp||se.now(),void(this[se.expando]=!0)):new se.Event(t,e)},se.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){se.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,a=t.handleObj;return(!s||s!==n&&!se.contains(n,s))&&(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),ie.submitBubbles||(se.event.special.submit={setup:function(){return se.nodeName(this,"form")?!1:void se.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=se.nodeName(e,"input")||se.nodeName(e,"button")?e.form:void 0;i&&!se._data(i,"submitBubbles")&&(se.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),se._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&se.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return se.nodeName(this,"form")?!1:void se.event.remove(this,"._submit")}}),ie.changeBubbles||(se.event.special.change={setup:function(){return Ne.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(se.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),se.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),se.event.simulate("change",this,t,!0)})),!1):void se.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ne.test(e.nodeName)&&!se._data(e,"changeBubbles")&&(se.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||se.event.simulate("change",this.parentNode,t,!0)}),se._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return se.event.remove(this,"._change"),!Ne.test(this.nodeName)}}),ie.focusinBubbles||se.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){se.event.simulate(e,t.target,se.event.fix(t),!0)};se.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=se._data(n,e);s||n.addEventListener(t,i,!0),se._data(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=se._data(n,e)-1;s?se._data(n,e,s):(n.removeEventListener(t,i,!0),se._removeData(n,e))}}}),se.fn.extend({on:function(t,e,i,n,s){var a,r;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(a in t)this.on(a,e,i,t[a],s);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=p;else if(!n)return this;return 1===s&&(r=n,n=function(t){return se().off(t),r.apply(this,arguments)},n.guid=r.guid||(r.guid=se.guid++)),this.each(function(){se.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,se(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=p),this.each(function(){se.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){se.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?se.event.trigger(t,e,i,!0):void 0}});var je="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ze=/ jQuery\d+="(?:null|\d+)"/g,Pe=new RegExp("<(?:"+je+")[\\s/>]","i"),Ie=/^\s+/,Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Me=/<([\w:]+)/,Be=/<tbody/i,qe=/<|&#?\w+;/,We=/<(?:script|style|link)/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,Ke=/^$|\/(?:java|ecma)script/i,Xe=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ve={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(fe),Ye=Qe.appendChild(fe.createElement("div"));Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,se.extend({clone:function(t,e,i){var n,s,a,r,o,l=se.contains(t.ownerDocument,t);if(ie.html5Clone||se.isXMLDoc(t)||!Pe.test("<"+t.nodeName+">")?a=t.cloneNode(!0):(Ye.innerHTML=t.outerHTML,Ye.removeChild(a=Ye.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||se.isXMLDoc(t)))for(n=g(a),o=g(t),r=0;null!=(s=o[r]);++r)n[r]&&k(s,n[r]);if(e)if(i)for(o=o||g(t),n=n||g(a),r=0;null!=(s=o[r]);r++)w(s,n[r]);else w(t,a);return n=g(a,"script"),n.length>0&&x(n,!l&&g(t,"script")),n=o=s=null,a},buildFragment:function(t,e,i,n){for(var s,a,r,o,l,c,d,u=t.length,h=m(e),p=[],f=0;u>f;f++)if(a=t[f],a||0===a)if("object"===se.type(a))se.merge(p,a.nodeType?[a]:a);else if(qe.test(a)){for(o=o||h.appendChild(e.createElement("div")),l=(Me.exec(a)||["",""])[1].toLowerCase(),d=Ve[l]||Ve._default,o.innerHTML=d[1]+a.replace(Oe,"<$1></$2>")+d[2],s=d[0];s--;)o=o.lastChild;if(!ie.leadingWhitespace&&Ie.test(a)&&p.push(e.createTextNode(Ie.exec(a)[0])),!ie.tbody)for(a="table"!==l||Be.test(a)?"<table>"!==d[1]||Be.test(a)?0:o:o.firstChild,s=a&&a.childNodes.length;s--;)se.nodeName(c=a.childNodes[s],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(se.merge(p,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=h.lastChild}else p.push(e.createTextNode(a));for(o&&h.removeChild(o),ie.appendChecked||se.grep(g(p,"input"),v),f=0;a=p[f++];)if((!n||-1===se.inArray(a,n))&&(r=se.contains(a.ownerDocument,a),o=g(h.appendChild(a),"script"),r&&x(o),i))for(s=0;a=o[s++];)Ke.test(a.type||"")&&i.push(a);return o=null,h},cleanData:function(t,e){for(var i,n,s,a,r=0,o=se.expando,l=se.cache,c=ie.deleteExpando,d=se.event.special;null!=(i=t[r]);r++)if((e||se.acceptData(i))&&(s=i[o],a=s&&l[s])){if(a.events)for(n in a.events)d[n]?se.event.remove(i,n):se.removeEvent(i,n,a.handle);l[s]&&(delete l[s],c?delete i[o]:typeof i.removeAttribute!==ke?i.removeAttribute(o):i[o]=null,G.push(s))}}}),se.fn.extend({text:function(t){return Ee(this,function(t){return void 0===t?se.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?se.filter(t,this):this,s=0;null!=(i=n[s]);s++)e||1!==i.nodeType||se.cleanData(g(i)),i.parentNode&&(e&&se.contains(i.ownerDocument,i)&&x(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&se.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&se.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return se.clone(this,t,e)})},html:function(t){return Ee(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(ze,""):void 0;if(!("string"!=typeof t||We.test(t)||!ie.htmlSerialize&&Pe.test(t)||!ie.leadingWhitespace&&Ie.test(t)||Ve[(Me.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Oe,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(se.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(s){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,se.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Q.apply([],t);var i,n,s,a,r,o,l=0,c=this.length,d=this,u=c-1,h=t[0],p=se.isFunction(h);if(p||c>1&&"string"==typeof h&&!ie.checkClone&&Ue.test(h))return this.each(function(i){var n=d.eq(i);p&&(t[0]=h.call(this,i,n.html())),n.domManip(t,e)});if(c&&(o=se.buildFragment(t,this[0].ownerDocument,!1,this),i=o.firstChild,1===o.childNodes.length&&(o=i),i)){for(a=se.map(g(o,"script"),y),s=a.length;c>l;l++)n=o,l!==u&&(n=se.clone(n,!0,!0),s&&se.merge(a,g(n,"script"))),e.call(this[l],n,l);if(s)for(r=a[a.length-1].ownerDocument,se.map(a,_),l=0;s>l;l++)n=a[l],Ke.test(n.type||"")&&!se._data(n,"globalEval")&&se.contains(r,n)&&(n.src?se._evalUrl&&se._evalUrl(n.src):se.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Ge,"")));o=i=null}return this}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){se.fn[t]=function(t){for(var i,n=0,s=[],a=se(t),r=a.length-1;r>=n;n++)i=n===r?this:this.clone(!0),se(a[n])[e](i),Y.apply(s,i.get());return this.pushStack(s)}});var Je,Ze={};!function(){var t;ie.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=fe.getElementsByTagName("body")[0],i&&i.style?(e=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==ke&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(fe.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var ti,ei,ii=/^margin/,ni=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),si=/^(top|right|bottom|left)$/;t.getComputedStyle?(ti=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},ei=function(t,e,i){var n,s,a,r,o=t.style;return i=i||ti(t),r=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==r||se.contains(t.ownerDocument,t)||(r=se.style(t,e)),ni.test(r)&&ii.test(e)&&(n=o.width,s=o.minWidth,a=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=i.width,o.width=n,o.minWidth=s,o.maxWidth=a)),void 0===r?r:r+""}):fe.documentElement.currentStyle&&(ti=function(t){return t.currentStyle},ei=function(t,e,i){var n,s,a,r,o=t.style;return i=i||ti(t),r=i?i[e]:void 0,null==r&&o&&o[e]&&(r=o[e]),ni.test(r)&&!si.test(e)&&(n=o.left,s=t.runtimeStyle,a=s&&s.left,a&&(s.left=t.currentStyle.left),o.left="fontSize"===e?"1em":r,r=o.pixelLeft+"px",o.left=n,a&&(s.left=a)),void 0===r?r:r+""||"auto"}),function(){function e(){var e,i,n,s;i=fe.getElementsByTagName("body")[0],i&&i.style&&(e=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=r=!1,l=!0,t.getComputedStyle&&(a="1%"!==(t.getComputedStyle(e,null)||{}).top,r="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,s=e.appendChild(fe.createElement("div")),s.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",s.style.marginRight=s.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(s,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=e.getElementsByTagName("td"),s[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===s[0].offsetHeight,o&&(s[0].style.display="",s[1].style.display="none",o=0===s[0].offsetHeight),i.removeChild(n))}var i,n,s,a,r,o,l;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",s=i.getElementsByTagName("a")[0],n=s&&s.style,n&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,se.extend(ie,{reliableHiddenOffsets:function(){return null==o&&e(),o
},boxSizingReliable:function(){return null==r&&e(),r},pixelPosition:function(){return null==a&&e(),a},reliableMarginRight:function(){return null==l&&e(),l}}))}(),se.swap=function(t,e,i,n){var s,a,r={};for(a in e)r[a]=t.style[a],t.style[a]=e[a];s=i.apply(t,n||[]);for(a in e)t.style[a]=r[a];return s};var ai=/alpha\([^)]*\)/i,ri=/opacity\s*=\s*([^)]*)/,oi=/^(none|table(?!-c[ea]).+)/,li=new RegExp("^("+Te+")(.*)$","i"),ci=new RegExp("^([+-])=("+Te+")","i"),di={position:"absolute",visibility:"hidden",display:"block"},ui={letterSpacing:"0",fontWeight:"400"},hi=["Webkit","O","Moz","ms"];se.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ei(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,a,r,o=se.camelCase(e),l=t.style;if(e=se.cssProps[o]||(se.cssProps[o]=A(l,o)),r=se.cssHooks[e]||se.cssHooks[o],void 0===i)return r&&"get"in r&&void 0!==(s=r.get(t,!1,n))?s:l[e];if(a=typeof i,"string"===a&&(s=ci.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(se.css(t,e)),a="number"),null!=i&&i===i&&("number"!==a||se.cssNumber[o]||(i+="px"),ie.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(r&&"set"in r&&void 0===(i=r.set(t,i,n)))))try{l[e]=i}catch(c){}}},css:function(t,e,i,n){var s,a,r,o=se.camelCase(e);return e=se.cssProps[o]||(se.cssProps[o]=A(t.style,o)),r=se.cssHooks[e]||se.cssHooks[o],r&&"get"in r&&(a=r.get(t,!0,i)),void 0===a&&(a=ei(t,e,n)),"normal"===a&&e in ui&&(a=ui[e]),""===i||i?(s=parseFloat(a),i===!0||se.isNumeric(s)?s||0:a):a}}),se.each(["height","width"],function(t,e){se.cssHooks[e]={get:function(t,i,n){return i?oi.test(se.css(t,"display"))&&0===t.offsetWidth?se.swap(t,di,function(){return N(t,e,n)}):N(t,e,n):void 0},set:function(t,i,n){var s=n&&ti(t);return E(t,i,n?F(t,e,n,ie.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,s),s):0)}}}),ie.opacity||(se.cssHooks.opacity={get:function(t,e){return ri.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=se.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===se.trim(a.replace(ai,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ai.test(a)?a.replace(ai,s):a+" "+s)}}),se.cssHooks.marginRight=T(ie.reliableMarginRight,function(t,e){return e?se.swap(t,{display:"inline-block"},ei,[t,"marginRight"]):void 0}),se.each({margin:"",padding:"",border:"Width"},function(t,e){se.cssHooks[t+e]={expand:function(i){for(var n=0,s={},a="string"==typeof i?i.split(" "):[i];4>n;n++)s[t+Ae[n]+e]=a[n]||a[n-2]||a[0];return s}},ii.test(t)||(se.cssHooks[t+e].set=E)}),se.fn.extend({css:function(t,e){return Ee(this,function(t,e,i){var n,s,a={},r=0;if(se.isArray(e)){for(n=ti(t),s=e.length;s>r;r++)a[e[r]]=se.css(t,e[r],!1,n);return a}return void 0!==i?se.style(t,e,i):se.css(t,e)},t,e,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$e(this)?se(this).show():se(this).hide()})}}),se.Tween=D,D.prototype={constructor:D,init:function(t,e,i,n,s,a){this.elem=t,this.prop=i,this.easing=s||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=a||(se.cssNumber[i]?"":"px")},cur:function(){var t=D.propHooks[this.prop];return t&&t.get?t.get(this):D.propHooks._default.get(this)},run:function(t){var e,i=D.propHooks[this.prop];return this.pos=e=this.options.duration?se.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=se.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){se.fx.step[t.prop]?se.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[se.cssProps[t.prop]]||se.cssHooks[t.prop])?se.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},se.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},se.fx=D.prototype.init,se.fx.step={};var pi,fi,mi=/^(?:toggle|show|hide)$/,gi=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),vi=/queueHooks$/,bi=[j],yi={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),s=gi.exec(e),a=s&&s[3]||(se.cssNumber[t]?"":"px"),r=(se.cssNumber[t]||"px"!==a&&+n)&&gi.exec(se.css(i.elem,t)),o=1,l=20;if(r&&r[3]!==a){a=a||r[3],s=s||[],r=+n||1;do o=o||".5",r/=o,se.style(i.elem,t,r+a);while(o!==(o=i.cur()/n)&&1!==o&&--l)}return s&&(r=i.start=+r||+n||0,i.unit=a,i.end=s[1]?r+(s[1]+1)*s[2]:+s[2]),i}]};se.Animation=se.extend(P,{tweener:function(t,e){se.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,s=t.length;s>n;n++)i=t[n],yi[i]=yi[i]||[],yi[i].unshift(e)},prefilter:function(t,e){e?bi.unshift(t):bi.push(t)}}),se.speed=function(t,e,i){var n=t&&"object"==typeof t?se.extend({},t):{complete:i||!i&&e||se.isFunction(t)&&t,duration:t,easing:i&&e||e&&!se.isFunction(e)&&e};return n.duration=se.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in se.fx.speeds?se.fx.speeds[n.duration]:se.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){se.isFunction(n.old)&&n.old.call(this),n.queue&&se.dequeue(this,n.queue)},n},se.fn.extend({fadeTo:function(t,e,i,n){return this.filter($e).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=se.isEmptyObject(t),a=se.speed(e,i,n),r=function(){var e=P(this,se.extend({},t),a);(s||se._data(this,"finish"))&&e.stop(!0)};return r.finish=r,s||a.queue===!1?this.each(r):this.queue(a.queue,r)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",a=se.timers,r=se._data(this);if(s)r[s]&&r[s].stop&&n(r[s]);else for(s in r)r[s]&&r[s].stop&&vi.test(s)&&n(r[s]);for(s=a.length;s--;)a[s].elem!==this||null!=t&&a[s].queue!==t||(a[s].anim.stop(i),e=!1,a.splice(s,1));(e||!i)&&se.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=se._data(this),n=i[t+"queue"],s=i[t+"queueHooks"],a=se.timers,r=n?n.length:0;for(i.finish=!0,se.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;r>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),se.each(["toggle","show","hide"],function(t,e){var i=se.fn[e];se.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(R(e,!0),t,n,s)}}),se.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){se.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),se.timers=[],se.fx.tick=function(){var t,e=se.timers,i=0;for(pi=se.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||se.fx.stop(),pi=void 0},se.fx.timer=function(t){se.timers.push(t),t()?se.fx.start():se.timers.pop()},se.fx.interval=13,se.fx.start=function(){fi||(fi=setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){clearInterval(fi),fi=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fn.delay=function(t,e){return t=se.fx?se.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t,e,i,n,s;e=fe.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("a")[0],i=fe.createElement("select"),s=i.appendChild(fe.createElement("option")),t=e.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==e.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!t.value,ie.optSelected=s.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!s.disabled,t=fe.createElement("input"),t.setAttribute("value",""),ie.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ie.radioValue="t"===t.value}();var _i=/\r/g;se.fn.extend({val:function(t){var e,i,n,s=this[0];{if(arguments.length)return n=se.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=n?t.call(this,i,se(this).val()):t,null==s?s="":"number"==typeof s?s+="":se.isArray(s)&&(s=se.map(s,function(t){return null==t?"":t+""})),e=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))});if(s)return e=se.valHooks[s.type]||se.valHooks[s.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(_i,""):null==i?"":i)}}}),se.extend({valHooks:{option:{get:function(t){var e=se.find.attr(t,"value");return null!=e?e:se.trim(se.text(t))}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,a="select-one"===t.type||0>s,r=a?null:[],o=a?s+1:n.length,l=0>s?o:a?s:0;o>l;l++)if(i=n[l],!(!i.selected&&l!==s||(ie.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&se.nodeName(i.parentNode,"optgroup"))){if(e=se(i).val(),a)return e;r.push(e)}return r},set:function(t,e){for(var i,n,s=t.options,a=se.makeArray(e),r=s.length;r--;)if(n=s[r],se.inArray(se.valHooks.option.get(n),a)>=0)try{n.selected=i=!0}catch(o){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),s}}}}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(t,e){return se.isArray(e)?t.checked=se.inArray(se(t).val(),e)>=0:void 0}},ie.checkOn||(se.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var xi,wi,ki=se.expr.attrHandle,Ci=/^(?:checked|selected)$/i,Si=ie.getSetAttribute,Ti=ie.input;se.fn.extend({attr:function(t,e){return Ee(this,se.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){se.removeAttr(this,t)})}}),se.extend({attr:function(t,e,i){var n,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===ke?se.prop(t,e,i):(1===a&&se.isXMLDoc(t)||(e=e.toLowerCase(),n=se.attrHooks[e]||(se.expr.match.bool.test(e)?wi:xi)),void 0===i?n&&"get"in n&&null!==(s=n.get(t,e))?s:(s=se.find.attr(t,e),null==s?void 0:s):null!==i?n&&"set"in n&&void 0!==(s=n.set(t,i,e))?s:(t.setAttribute(e,i+""),i):void se.removeAttr(t,e))},removeAttr:function(t,e){var i,n,s=0,a=e&&e.match(ye);if(a&&1===t.nodeType)for(;i=a[s++];)n=se.propFix[i]||i,se.expr.match.bool.test(i)?Ti&&Si||!Ci.test(i)?t[n]=!1:t[se.camelCase("default-"+i)]=t[n]=!1:se.attr(t,i,""),t.removeAttribute(Si?i:n)},attrHooks:{type:{set:function(t,e){if(!ie.radioValue&&"radio"===e&&se.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),wi={set:function(t,e,i){return e===!1?se.removeAttr(t,i):Ti&&Si||!Ci.test(i)?t.setAttribute(!Si&&se.propFix[i]||i,i):t[se.camelCase("default-"+i)]=t[i]=!0,i}},se.each(se.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ki[e]||se.find.attr;ki[e]=Ti&&Si||!Ci.test(e)?function(t,e,n){var s,a;return n||(a=ki[e],ki[e]=s,s=null!=i(t,e,n)?e.toLowerCase():null,ki[e]=a),s}:function(t,e,i){return i?void 0:t[se.camelCase("default-"+e)]?e.toLowerCase():null}}),Ti&&Si||(se.attrHooks.value={set:function(t,e,i){return se.nodeName(t,"input")?void(t.defaultValue=e):xi&&xi.set(t,e,i)}}),Si||(xi={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},ki.id=ki.name=ki.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},se.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:xi.set},se.attrHooks.contenteditable={set:function(t,e,i){xi.set(t,""===e?!1:e,i)}},se.each(["width","height"],function(t,e){se.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ie.style||(se.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ai=/^(?:input|select|textarea|button|object)$/i,$i=/^(?:a|area)$/i;se.fn.extend({prop:function(t,e){return Ee(this,se.prop,t,e,arguments.length>1)},removeProp:function(t){return t=se.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),se.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,s,a,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return a=1!==r||!se.isXMLDoc(t),a&&(e=se.propFix[e]||e,s=se.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=se.find.attr(t,"tabindex");return e?parseInt(e,10):Ai.test(t.nodeName)||$i.test(t.nodeName)&&t.href?0:-1}}}}),ie.hrefNormalized||se.each(["href","src"],function(t,e){se.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ie.optSelected||(se.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this}),ie.enctype||(se.propFix.enctype="encoding");var Ei=/[\t\r\n\f]/g;se.fn.extend({addClass:function(t){var e,i,n,s,a,r,o=0,l=this.length,c="string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(ye)||[];l>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ei," "):" ")){for(a=0;s=e[a++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r=se.trim(n),i.className!==r&&(i.className=r)}return this},removeClass:function(t){var e,i,n,s,a,r,o=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(ye)||[];l>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ei," "):"")){for(a=0;s=e[a++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");r=t?se.trim(n):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(se.isFunction(t)?function(i){se(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,s=se(this),a=t.match(ye)||[];e=a[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else(i===ke||"boolean"===i)&&(this.className&&se._data(this,"__className__",this.className),this.className=this.className||t===!1?"":se._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ei," ").indexOf(e)>=0)return!0;return!1}}),se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){se.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),se.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Fi=se.now(),Ni=/\?/,Di=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;se.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,s=se.trim(e+"");return s&&!se.trim(s.replace(Di,function(t,e,s,a){return i&&e&&(n=0),0===n?t:(i=s||e,n+=!a-!s,"")}))?Function("return "+s)():se.error("Invalid JSON: "+e)},se.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new DOMParser,i=n.parseFromString(e,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(s){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||se.error("Invalid XML: "+e),i};var Li,Ri,Hi=/#.*$/,ji=/([?&])_=[^&]*/,zi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ii=/^(?:GET|HEAD)$/,Oi=/^\/\//,Mi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bi={},qi={},Wi="*/".concat("*");try{Ri=location.href}catch(Ui){Ri=fe.createElement("a"),Ri.href="",Ri=Ri.href}Li=Mi.exec(Ri.toLowerCase())||[],se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ri,type:"GET",isLocal:Pi.test(Li[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?M(M(t,se.ajaxSettings),e):M(se.ajaxSettings,t)},ajaxPrefilter:I(Bi),ajaxTransport:I(qi),ajax:function(t,e){function i(t,e,i,n){var s,d,v,b,_,w=e;2!==y&&(y=2,o&&clearTimeout(o),c=void 0,r=n||"",x.readyState=t>0?4:0,s=t>=200&&300>t||304===t,i&&(b=B(u,x,i)),b=q(u,b,x,s),s?(u.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(se.lastModified[a]=_),_=x.getResponseHeader("etag"),_&&(se.etag[a]=_)),204===t||"HEAD"===u.type?w="nocontent":304===t?w="notmodified":(w=b.state,d=b.data,v=b.error,s=!v)):(v=w,(t||!w)&&(w="error",0>t&&(t=0))),x.status=t,x.statusText=(e||w)+"",s?f.resolveWith(h,[d,w,x]):f.rejectWith(h,[x,w,v]),x.statusCode(g),g=void 0,l&&p.trigger(s?"ajaxSuccess":"ajaxError",[x,u,s?d:v]),m.fireWith(h,[x,w]),l&&(p.trigger("ajaxComplete",[x,u]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,s,a,r,o,l,c,d,u=se.ajaxSetup({},e),h=u.context||u,p=u.context&&(h.nodeType||h.jquery)?se(h):se.event,f=se.Deferred(),m=se.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,_="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!d)for(d={};e=zi.exec(r);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=b[i]=b[i]||t,v[t]=e),this},overrideMimeType:function(t){return y||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)g[e]=[g[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||_;return c&&c.abort(e),i(0,e),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,u.url=((t||u.url||Ri)+"").replace(Hi,"").replace(Oi,Li[1]+"//"),u.type=e.method||e.type||u.method||u.type,u.dataTypes=se.trim(u.dataType||"*").toLowerCase().match(ye)||[""],null==u.crossDomain&&(n=Mi.exec(u.url.toLowerCase()),u.crossDomain=!(!n||n[1]===Li[1]&&n[2]===Li[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Li[3]||("http:"===Li[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=se.param(u.data,u.traditional)),O(Bi,u,e,x),2===y)return x;l=u.global,l&&0===se.active++&&se.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Ii.test(u.type),a=u.url,u.hasContent||(u.data&&(a=u.url+=(Ni.test(a)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=ji.test(a)?a.replace(ji,"$1_="+Fi++):a+(Ni.test(a)?"&":"?")+"_="+Fi++)),u.ifModified&&(se.lastModified[a]&&x.setRequestHeader("If-Modified-Since",se.lastModified[a]),se.etag[a]&&x.setRequestHeader("If-None-Match",se.etag[a])),(u.data&&u.hasContent&&u.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Wi+"; q=0.01":""):u.accepts["*"]);for(s in u.headers)x.setRequestHeader(s,u.headers[s]);if(u.beforeSend&&(u.beforeSend.call(h,x,u)===!1||2===y))return x.abort();_="abort";for(s in{success:1,error:1,complete:1})x[s](u[s]);if(c=O(qi,u,e,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(o=setTimeout(function(){x.abort("timeout")},u.timeout));try{y=1,c.send(v,i)}catch(w){if(!(2>y))throw w;i(-1,w)}}else i(-1,"No Transport");return x},getJSON:function(t,e,i){return se.get(t,e,i,"json")},getScript:function(t,e){return se.get(t,void 0,e,"script")}}),se.each(["get","post"],function(t,e){se[e]=function(t,i,n,s){return se.isFunction(i)&&(s=s||n,n=i,i=void 0),se.ajax({url:t,type:e,dataType:s,data:i,success:n})}}),se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){se.fn[e]=function(t){return this.on(e,t)}}),se._evalUrl=function(t){return se.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},se.fn.extend({wrapAll:function(t){if(se.isFunction(t))return this.each(function(e){se(this).wrapAll(t.call(this,e))});if(this[0]){var e=se(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(se.isFunction(t)?function(e){se(this).wrapInner(t.call(this,e))}:function(){var e=se(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=se.isFunction(t);return this.each(function(i){se(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}}),se.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||se.css(t,"display"))},se.expr.filters.visible=function(t){return!se.expr.filters.hidden(t)};var Ki=/%20/g,Xi=/\[\]$/,Gi=/\r?\n/g,Vi=/^(?:submit|button|image|reset|file)$/i,Qi=/^(?:input|select|textarea|keygen)/i;se.param=function(t,e){var i,n=[],s=function(t,e){e=se.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(t)||t.jquery&&!se.isPlainObject(t))se.each(t,function(){s(this.name,this.value)});else for(i in t)W(i,t[i],e,s);return n.join("&").replace(Ki,"+")},se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=se.prop(this,"elements");return t?se.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!se(this).is(":disabled")&&Qi.test(this.nodeName)&&!Vi.test(t)&&(this.checked||!Fe.test(t))}).map(function(t,e){var i=se(this).val();return null==i?null:se.isArray(i)?se.map(i,function(t){return{name:e.name,value:t.replace(Gi,"\r\n")}}):{name:e.name,value:i.replace(Gi,"\r\n")}}).get()}}),se.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||K()}:U;var Yi=0,Ji={},Zi=se.ajaxSettings.xhr();t.ActiveXObject&&se(t).on("unload",function(){for(var t in Ji)Ji[t](void 0,!0)}),ie.cors=!!Zi&&"withCredentials"in Zi,Zi=ie.ajax=!!Zi,Zi&&se.ajaxTransport(function(t){if(!t.crossDomain||ie.cors){var e;return{send:function(i,n){var s,a=t.xhr(),r=++Yi;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)void 0!==i[s]&&a.setRequestHeader(s,i[s]+"");a.send(t.hasContent&&t.data||null),e=function(i,s){var o,l,c;if(e&&(s||4===a.readyState))if(delete Ji[r],e=void 0,a.onreadystatechange=se.noop,s)4!==a.readyState&&a.abort();else{c={},o=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(d){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&n(o,l,c,a.getAllResponseHeaders())},t.async?4===a.readyState?setTimeout(e):a.onreadystatechange=Ji[r]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return se.globalEval(t),t}}}),se.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),se.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=fe.head||se("head")[0]||fe.documentElement;return{send:function(n,s){e=fe.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||s(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||se.expando+"_"+Fi++;return this[t]=!0,t}}),se.ajaxPrefilter("json jsonp",function(e,i,n){var s,a,r,o=e.jsonp!==!1&&(en.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");return o||"jsonp"===e.dataTypes[0]?(s=e.jsonpCallback=se.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(en,"$1"+s):e.jsonp!==!1&&(e.url+=(Ni.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return r||se.error(s+" was not called"),r[0]},e.dataTypes[0]="json",a=t[s],t[s]=function(){r=arguments},n.always(function(){t[s]=a,e[s]&&(e.jsonpCallback=i.jsonpCallback,tn.push(s)),r&&se.isFunction(a)&&a(r[0]),r=a=void 0}),"script"):void 0}),se.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||fe;var n=ue.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=se.buildFragment([t],e,s),s&&s.length&&se(s).remove(),se.merge([],n.childNodes))};var nn=se.fn.load;se.fn.load=function(t,e,i){if("string"!=typeof t&&nn)return nn.apply(this,arguments);var n,s,a,r=this,o=t.indexOf(" ");return o>=0&&(n=se.trim(t.slice(o,t.length)),t=t.slice(0,o)),se.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(a="POST"),r.length>0&&se.ajax({url:t,type:a,dataType:"html",data:e}).done(function(t){s=arguments,r.html(n?se("<div>").append(se.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){r.each(i,s||[t.responseText,e,t])}),this},se.expr.filters.animated=function(t){return se.grep(se.timers,function(e){return t===e.elem}).length};var sn=t.document.documentElement;se.offset={setOffset:function(t,e,i){var n,s,a,r,o,l,c,d=se.css(t,"position"),u=se(t),h={};"static"===d&&(t.style.position="relative"),o=u.offset(),a=se.css(t,"top"),l=se.css(t,"left"),c=("absolute"===d||"fixed"===d)&&se.inArray("auto",[a,l])>-1,c?(n=u.position(),r=n.top,s=n.left):(r=parseFloat(a)||0,s=parseFloat(l)||0),se.isFunction(e)&&(e=e.call(t,i,o)),null!=e.top&&(h.top=e.top-o.top+r),null!=e.left&&(h.left=e.left-o.left+s),"using"in e?e.using.call(t,h):u.css(h)}},se.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){se.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},s=this[0],a=s&&s.ownerDocument;if(a)return e=a.documentElement,se.contains(e,s)?(typeof s.getBoundingClientRect!==ke&&(n=s.getBoundingClientRect()),i=X(a),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===se.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),se.nodeName(t[0],"html")||(i=t.offset()),i.top+=se.css(t[0],"borderTopWidth",!0),i.left+=se.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-se.css(n,"marginTop",!0),left:e.left-i.left-se.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||sn;t&&!se.nodeName(t,"html")&&"static"===se.css(t,"position");)t=t.offsetParent;return t||sn})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);se.fn[t]=function(n){return Ee(this,function(t,n,s){var a=X(t);return void 0===s?a?e in a?a[e]:a.document.documentElement[n]:t[n]:void(a?a.scrollTo(i?se(a).scrollLeft():s,i?s:se(a).scrollTop()):t[n]=s)},t,n,arguments.length,null)}}),se.each(["top","left"],function(t,e){se.cssHooks[e]=T(ie.pixelPosition,function(t,i){return i?(i=ei(t,e),ni.test(i)?se(t).position()[e]+"px":i):void 0})}),se.each({Height:"height",Width:"width"},function(t,e){se.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){se.fn[n]=function(n,s){var a=arguments.length&&(i||"boolean"!=typeof n),r=i||(n===!0||s===!0?"margin":"border");return Ee(this,function(e,i,n){var s;return se.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===n?se.css(e,i,r):se.style(e,i,n,r)},e,a?n:void 0,a,null)}})}),se.fn.size=function(){return this.length},se.fn.andSelf=se.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return se});var an=t.jQuery,rn=t.$;return se.noConflict=function(e){return t.$===se&&(t.$=rn),e&&t.jQuery===se&&(t.jQuery=an),se},typeof e===ke&&(t.jQuery=t.$=se),se}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)},fire:function(e,i,n){var s=t.Event(i);return e.trigger(s,n),s.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var s,a,r,o,l,c,d,u;if(i.fire(n,"ajax:before")){if(o=n.data("cross-domain"),l=o===e?null:o,c=n.data("with-credentials")||null,d=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){s=n.attr("method"),a=n.attr("action"),r=n.serializeArray();var h=n.data("ujs:submit-button");h&&(r.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(s=n.data("method"),a=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",a=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):(s=n.data("method"),a=i.href(n),r=n.data("params")||null);
return u={type:s||"GET",data:r,dataType:d,beforeSend:function(t,s){return s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),i.fire(n,"ajax:beforeSend",[t,s])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},c&&(u.xhrFields={withCredentials:c}),a&&(u.url=a),i.ajax(u)}return!1},handleMethod:function(n){var s=i.href(n),a=n.data("method"),r=n.attr("target"),o=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+s+'"></form>'),d='<input name="_method" value="'+a+'" type="hidden" />';l!==e&&o!==e&&(d+='<input name="'+l+'" value="'+o+'" type="hidden" />'),r&&c.attr("target",r),c.hide().append(d).appendTo("body"),c.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),t.data("ujs:enable-with",t[i]()),n!==e&&t[i](n),t.prop("disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,n=t.data("confirm"),s=!1;return n?(i.fire(t,"confirm")&&(s=i.confirm(n),e=i.fire(t,"confirm:complete",[s])),s&&e):!0},blankInputs:function(e,i,n){var s,a,r=t(),o=i||"input,textarea",l=e.find(o);return l.each(function(){if(s=t(this),a=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val(),!a==!n){if(s.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;r=r.add(s)}}),r.length?r:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");t.data("ujs:enable-with",t.html()),n!==e&&t.html(n),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var s=t(this),a=s.data("method"),r=s.data("params"),o=n.metaKey||n.ctrlKey;if(!i.allowAction(s))return i.stopEverything(n);if(!o&&s.is(i.linkDisableSelector)&&i.disableElement(s),s.data("remote")!==e){if(o&&(!a||"GET"===a)&&!r)return!0;var l=i.handleRemote(s);return l===!1?i.enableElement(s):l.error(function(){i.enableElement(s)}),!1}return s.data("method")?(i.handleMethod(s),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var s=i.handleRemote(n);return s===!1?i.enableFormElement(n):s.error(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var s,a,r=t(this),o=r.data("remote")!==e;if(!i.allowAction(r))return i.stopEverything(n);if(r.attr("novalidate")==e&&(s=i.blankInputs(r,i.requiredInputSelector),s&&i.fire(r,"ajax:aborted:required",[s])))return i.stopEverything(n);if(o){if(a=i.nonBlankInputs(r,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return i.handleRemote(r),!1}setTimeout(function(){i.disableFormElements(r)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var s=n.attr("name"),a=s?{name:s,value:n.val()}:null;n.closest("form").data("ujs:submit-button",a)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),window.Modernizr=function(t,e,i){function n(t){y.cssText=t}function s(t,e){return n(k.join(t+";")+(e||""))}function a(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function o(t,e){for(var n in t){var s=t[n];if(!r(s,"-")&&y[s]!==i)return"pfx"==e?s:!0}return!1}function l(t,e,n){for(var s in t){var r=e[t[s]];if(r!==i)return n===!1?t[s]:a(r,"function")?r.bind(n||e):r}return!1}function c(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+S.join(n+" ")+n).split(" ");return a(e,"string")||a(e,"undefined")?o(s,e):(s=(t+" "+T.join(n+" ")+n).split(" "),l(s,e,i))}function d(){f.input=function(i){for(var n=0,s=i.length;s>n;n++)F[i[n]]=!!(i[n]in _);return F.list&&(F.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),F}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(t){for(var n,s,a,r=0,o=t.length;o>r;r++)_.setAttribute("type",s=t[r]),n="text"!==_.type,n&&(_.value=x,_.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&_.style.WebkitAppearance!==i?(g.appendChild(_),a=e.defaultView,n=a.getComputedStyle&&"textfield"!==a.getComputedStyle(_,null).WebkitAppearance&&0!==_.offsetHeight,g.removeChild(_)):/^(search|tel)$/.test(s)||(n=/^(url|email)$/.test(s)?_.checkValidity&&_.checkValidity()===!1:_.value!=x)),E[t[r]]=!!n;return E}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u,h,p="2.8.3",f={},m=!0,g=e.documentElement,v="modernizr",b=e.createElement(v),y=b.style,_=e.createElement("input"),x=":)",w={}.toString,k=" -webkit- -moz- -o- -ms- ".split(" "),C="Webkit Moz O ms",S=C.split(" "),T=C.toLowerCase().split(" "),A={svg:"http://www.w3.org/2000/svg"},$={},E={},F={},N=[],D=N.slice,L=function(t,i,n,s){var a,r,o,l,c=e.createElement("div"),d=e.body,u=d||e.createElement("body");if(parseInt(n,10))for(;n--;)o=e.createElement("div"),o.id=s?s[n]:v+(n+1),c.appendChild(o);return a=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),c.id=v,(d?c:u).innerHTML+=a,u.appendChild(c),d||(u.style.background="",u.style.overflow="hidden",l=g.style.overflow,g.style.overflow="hidden",g.appendChild(u)),r=i(c,t),d?c.parentNode.removeChild(c):(u.parentNode.removeChild(u),g.style.overflow=l),!!r},R=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e)&&i(e).matches||!1;var n;return L("@media "+e+" { #"+v+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},H=function(){function t(t,s){s=s||e.createElement(n[t]||"div"),t="on"+t;var r=t in s;return r||(s.setAttribute||(s=e.createElement("div")),s.setAttribute&&s.removeAttribute&&(s.setAttribute(t,""),r=a(s[t],"function"),a(s[t],"undefined")||(s[t]=i),s.removeAttribute(t))),s=null,r}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),j={}.hasOwnProperty;h=a(j,"undefined")||a(j.call,"undefined")?function(t,e){return e in t&&a(t.constructor.prototype[e],"undefined")}:function(t,e){return j.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=D.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var a=new s,r=e.apply(a,i.concat(D.call(arguments)));return Object(r)===r?r:a}return e.apply(t,i.concat(D.call(arguments)))};return n}),$.flexbox=function(){return c("flexWrap")},$.flexboxlegacy=function(){return c("boxDirection")},$.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},$.canvastext=function(){return!(!f.canvas||!a(e.createElement("canvas").getContext("2d").fillText,"function"))},$.webgl=function(){return!!t.WebGLRenderingContext},$.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:L(["@media (",k.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i},$.geolocation=function(){return"geolocation"in navigator},$.postmessage=function(){return!!t.postMessage},$.websqldatabase=function(){return!!t.openDatabase},$.indexedDB=function(){return!!c("indexedDB",t)},$.hashchange=function(){return H("hashchange",t)&&(e.documentMode===i||e.documentMode>7)},$.history=function(){return!(!t.history||!history.pushState)},$.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},$.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},$.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),r(y.backgroundColor,"rgba")},$.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),r(y.backgroundColor,"rgba")||r(y.backgroundColor,"hsla")},$.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(y.background)},$.backgroundsize=function(){return c("backgroundSize")},$.borderimage=function(){return c("borderImage")},$.borderradius=function(){return c("borderRadius")},$.boxshadow=function(){return c("boxShadow")},$.textshadow=function(){return""===e.createElement("div").style.textShadow},$.opacity=function(){return s("opacity:.55"),/^0.55$/.test(y.opacity)},$.cssanimations=function(){return c("animationName")},$.csscolumns=function(){return c("columnCount")},$.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return n((t+"-webkit- ".split(" ").join(e+t)+k.join(i+t)).slice(0,-t.length)),r(y.backgroundImage,"gradient")},$.cssreflections=function(){return c("boxReflect")},$.csstransforms=function(){return!!c("transform")},$.csstransforms3d=function(){var t=!!c("perspective");return t&&"webkitPerspective"in g.style&&L("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},$.csstransitions=function(){return c("transition")},$.fontface=function(){var t;return L('@font-face {font-family:"font";src:url("https://")}',function(i,n){var s=e.getElementById("smodernizr"),a=s.sheet||s.styleSheet,r=a?a.cssRules&&a.cssRules[0]?a.cssRules[0].cssText:a.cssText||"":"";t=/src/i.test(r)&&0===r.indexOf(n.split(" ")[0])}),t},$.generatedcontent=function(){var t;return L(["#",v,"{font:0/0 a}#",v,':after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},$.video=function(){var t=e.createElement("video"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return i},$.audio=function(){var t=e.createElement("audio"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return i},$.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},$.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},$.webworkers=function(){return!!t.Worker},$.applicationcache=function(){return!!t.applicationCache},$.svg=function(){return!!e.createElementNS&&!!e.createElementNS(A.svg,"svg").createSVGRect},$.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==A.svg},$.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(w.call(e.createElementNS(A.svg,"animate")))},$.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(w.call(e.createElementNS(A.svg,"clipPath")))};for(var z in $)h($,z)&&(u=z.toLowerCase(),f[u]=$[z](),N.push((f[u]?"":"no-")+u));return f.input||d(),f.addTest=function(t,e){if("object"==typeof t)for(var n in t)h(t,n)&&f.addTest(n,t[n]);else{if(t=t.toLowerCase(),f[t]!==i)return f;e="function"==typeof e?e():e,"undefined"!=typeof m&&m&&(g.className+=" "+(e?"":"no-")+t),f[t]=e}return f},n(""),b=_=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=b.elements;return"string"==typeof t?t.split(" "):t}function s(t){var e=v[t[m]];return e||(e={},g++,t[m]=g,v[g]=e),e}function a(t,i,n){if(i||(i=e),d)return i.createElement(t);n||(n=s(i));var a;return a=n.cache[t]?n.cache[t].cloneNode():f.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),!a.canHaveChildren||p.test(t)||a.tagUrn?a:n.frag.appendChild(a)}function r(t,i){if(t||(t=e),d)return t.createDocumentFragment();i=i||s(t);for(var a=i.frag.cloneNode(),r=0,o=n(),l=o.length;l>r;r++)a.createElement(o[r]);return a}function o(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return b.shivMethods?a(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(b,e.frag)}function l(t){t||(t=e);var n=s(t);return!b.shivCSS||c||n.hasCSS||(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||o(t,n),t}var c,d,u="3.7.0",h=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",g=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,d=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(i){c=!0,d=!0}}();var b={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:h.shivCSS!==!1,supportsUnknownElements:d,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:r};t.html5=b,l(e)}(this,e),f._version=p,f._prefixes=k,f._domPrefixes=T,f._cssomPrefixes=S,f.mq=R,f.hasEvent=H,f.testProp=function(t){return o([t])},f.testAllProps=c,f.testStyles=L,f.prefixed=function(t,e,i){return e?c(t,e,i):c(t,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+N.join(" "):""),f}(this,this.document),function(){this.GoogleAnalytics=function(){function t(){}return t.load=function(){var e,i;return window._gaq=[],window._gaq.push(["_setAccount",t.analyticsId()]),i=document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(i,e),"undefined"!=typeof Turbolinks&&Turbolinks.supported?document.addEventListener("page:change",function(){return t.trackPageview()},!0):t.trackPageview()},t.trackPageview=function(e){return t.isLocalRequest()?void 0:(window._gaq.push(e?["_trackPageview",e]:["_trackPageview"]),window._gaq.push(["_trackPageLoadTime"]))},t.isLocalRequest=function(){return t.documentDomainIncludes("local")},t.documentDomainIncludes=function(t){return-1!==document.domain.indexOf(t)},t.analyticsId=function(){return"UA-55121874-1"},t}(),GoogleAnalytics.load()}.call(this),function(t){var e=function(){"use strict";var t="s",i=2011,n=function(t){var e=-t.getTimezoneOffset();return null!==e?e:0},s=function(t,e,i){var n=new Date;return void 0!==t&&n.setFullYear(t),n.setDate(i),n.setMonth(e),n},a=function(t){return n(s(t,0,2))},r=function(t){return n(s(t,5,2))},o=function(t){var e=t.getMonth()>7?r(t.getFullYear()):a(t.getFullYear()),i=n(t);return e-i!==0},l=function(){var e=a(i),n=r(i),s=e-n;return 0>s?e+",1":s>0?n+",1,"+t:e+",0"},c=function(){var t=l();return new e.TimeZone(e.olson.timezones[t])},d=function(t){var e=new Date(2010,6,15,1,0,0,0),i={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,10,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":e,"Asia/Yekaterinburg":e,"Asia/Omsk":e,"Asia/Krasnoyarsk":e,"Asia/Irkutsk":e,"Asia/Yakutsk":e,"Asia/Vladivostok":e,"Asia/Kamchatka":e,"Europe/Minsk":e,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return i[t]};return{determine:c,date_is_dst:o,dst_start_for:d}}();e.TimeZone=function(t){"use strict";var i={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Beirut","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Asia/Gaza"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Pacific/Tongatapu":["Pacific/Apia"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},n=t,s=function(){for(var t=i[n],s=t.length,a=0,r=t[0];s>a;a+=1)if(r=t[a],e.date_is_dst(e.dst_start_for(r)))return void(n=r)},a=function(){return"undefined"!=typeof i[n]};return a()&&s(),{name:function(){return n}}},e.olson={},e.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"!=typeof exports?exports.jstz=e:t.jstz=e}(this),!function(t){"use strict";function e(t){return null!==t&&t===t.window}function i(t){return e(t)?t:9===t.nodeType&&t.defaultView}function n(t){var e,n,s={top:0,left:0},a=t&&t.ownerDocument;return e=a.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(s=t.getBoundingClientRect()),n=i(a),{top:s.top+n.pageYOffset-e.clientTop,left:s.left+n.pageXOffset-e.clientLeft}}function s(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=i+":"+t[i]+";");return e}var a=a||{},r=document.querySelectorAll.bind(document),o={duration:500,show:function(t){var e=this,i=document.createElement("div");i.className="waves-ripple",e.appendChild(i);var a=n(e),r=t.pageY-a.top-45,l=t.pageX-a.left-45,c="scale("+e.clientWidth/100*2.5+")";i.setAttribute("data-hold",Date.now()),i.setAttribute("data-scale",c),i.setAttribute("data-x",l),i.setAttribute("data-y",r);var d={top:r+"px",left:l+"px"};i.className=i.className+" waves-notransition",i.setAttribute("style",s(d)),i.className=i.className.replace("waves-notransition",""),d["-webkit-transform"]=c,d["-moz-transform"]=c,d["-ms-transform"]=c,d["-o-transform"]=c,d.transform=c,d.opacity="1",d["-webkit-transition-duration"]=o.duration+"ms",d["-moz-transition-duration"]=o.duration+"ms",d["-o-transition-duration"]=o.duration+"ms",d["transition-duration"]=o.duration+"ms",i.setAttribute("style",s(d))},hide:function(){for(var t=this,e=(1.4*t.clientWidth,null),i=t.children.length,n=0;i>n;n++)-1===t.children[n].className.indexOf("waves-ripple")||(e=t.children[n]);if(!e)return!1;var a=e.getAttribute("data-x"),r=e.getAttribute("data-y"),l=e.getAttribute("data-scale"),c=Date.now()-Number(e.getAttribute("data-hold")),d=500-c;0>d&&(d=0),setTimeout(function(){var i={top:r+"px",left:a+"px",opacity:"0","-webkit-transition-duration":o.duration+"ms","-moz-transition-duration":o.duration+"ms","-o-transition-duration":o.duration+"ms","transition-duration":o.duration+"ms","-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l};e.setAttribute("style",s(i)),setTimeout(function(){try{t.removeChild(e)}catch(i){return!1}},o.duration)},d)},wrapInput:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("input"===i.tagName.toLowerCase()){var n=i.parentNode;if("i"===n.tagName.toLowerCase()&&-1!==n.className.indexOf("waves-effect"))return!1;var s=document.createElement("i");s.className=i.className+" waves-input-wrapper";var a=i.getAttribute("style"),r="width:"+i.offsetWidth+"px;height:"+i.clientHeight+"px;";a||(a=""),s.setAttribute("style",r+a),i.className="waves-button-input",i.removeAttribute("style"),n.replaceChild(s,i),s.appendChild(i)}}}};a.displayEffect=function(t){t=t||{},"duration"in t&&(o.duration=t.duration),o.wrapInput(r(".waves-effect")),Array.prototype.forEach.call(r(".waves-effect"),function(t){t.addEventListener("mousedown",o.show,!1),t.addEventListener("mouseup",o.hide,!1),t.addEventListener("mouseleave",o.hide,!1)})},t.Waves=a}(window),function(){var t=!1,e=$(window).height();$(".menu-button").click(function(){$(".menu-wrap").toggle("slide"),t?(t=!1,$("body").removeClass("menu_open")):(t=!0,$("body").addClass("menu_open"),$(".menu-side ul").css("height",e+"px"))})}(),function(t,e,i,n){"use strict";function s(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),t}var a=function(e){for(var i=e.length,n=t("head");i--;)0===n.has("."+e[i]).length&&n.append('<meta class="'+e[i]+'" />')};a(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),t(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof i.body&&FastClick.attach(i.body)});var r=function(e,n){if("string"==typeof e){if(n){var s;if(n.jquery){if(s=n[0],!s)return n}else s=n;return t(s.querySelectorAll(e))}return t(i.querySelectorAll(e))}return t(e,n)},o=function(t){var e=[];return t||e.push("data"),this.namespace.length>0&&e.push(this.namespace),e.push(this.name),e.join("-")},l=function(t){for(var e=t.split("-"),i=e.length,n=[];i--;)0!==i?n.push(e[i]):this.namespace.length>0?n.push(this.namespace,e[i]):n.push(e[i]);return n.reverse().join("-")},c=function(e,i){var n=this,s=!r(this).data(this.attr_name(!0));return r(this.scope).is("["+this.attr_name()+"]")?(r(this.scope).data(this.attr_name(!0)+"-init",t.extend({},this.settings,i||e,this.data_options(r(this.scope)))),s&&this.events(this.scope)):r("["+this.attr_name()+"]",this.scope).each(function(){var s=!r(this).data(n.attr_name(!0)+"-init");r(this).data(n.attr_name(!0)+"-init",t.extend({},n.settings,i||e,n.data_options(r(this)))),s&&n.events(this)}),"string"==typeof e?this[e].call(this,i):void 0},d=function(t,e){function i(){e(t[0])}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?i():n.call(t)):void i()};e.matchMedia=e.matchMedia||function(t){var e,i=t.documentElement,n=i.firstElementChild||i.firstChild,s=t.createElement("body"),a=t.createElement("div");return a.id="mq-test-1",a.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(a),function(t){return a.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(s,n),e=42===a.offsetWidth,i.removeChild(s),{matches:e,media:t}}}(i),function(){function t(){i&&(a(t),o&&jQuery.fx.tick())}for(var i,n=0,s=["webkit","moz"],a=e.requestAnimationFrame,r=e.cancelAnimationFrame,o="undefined"!=typeof jQuery.fx;n<s.length&&!a;n++)a=e[s[n]+"RequestAnimationFrame"],r=r||e[s[n]+"CancelAnimationFrame"]||e[s[n]+"CancelRequestAnimationFrame"];a?(e.requestAnimationFrame=a,e.cancelAnimationFrame=r,o&&(jQuery.fx.timer=function(e){e()&&jQuery.timers.push(e)&&!i&&(i=!0,t())},jQuery.fx.stop=function(){i=!1})):(e.requestAnimationFrame=function(t){var i=(new Date).getTime(),s=Math.max(0,16-(i-n)),a=e.setTimeout(function(){t(i+s)},s);return n=i+s,a},e.cancelAnimationFrame=function(t){clearTimeout(t)})}(jQuery),e.Foundation={name:"Foundation",version:"5.3.3",media_queries:{small:r(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:r(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:r(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:r(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:r(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:t("<style></style>").appendTo("head")[0].sheet,global:{namespace:n},init:function(t,i,n,s,a){var o=[t,n,s,a],l=[];if(this.rtl=/rtl/i.test(r("html").attr("dir")),this.scope=t||this.scope,this.set_namespace(),i&&"string"==typeof i&&!/reflow/i.test(i))this.libs.hasOwnProperty(i)&&l.push(this.init_lib(i,o));else for(var c in this.libs)l.push(this.init_lib(c,i));return r(e).load(function(){r(e).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),t},init_lib:function(e,i){return this.libs.hasOwnProperty(e)?(this.patch(this.libs[e]),i&&i.hasOwnProperty(e)?("undefined"!=typeof this.libs[e].settings?t.extend(!0,this.libs[e].settings,i[e]):"undefined"!=typeof this.libs[e].defaults&&t.extend(!0,this.libs[e].defaults,i[e]),this.libs[e].init.apply(this.libs[e],[this.scope,i[e]])):(i=i instanceof Array?i:new Array(i),this.libs[e].init.apply(this.libs[e],i))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=o,t.add_namespace=l,t.bindings=c,t.S=this.utils.S},inherit:function(t,e){for(var i=e.split(" "),n=i.length;n--;)this.utils.hasOwnProperty(i[n])&&(t[i[n]]=this.utils[i[n]])},set_namespace:function(){var e=this.global.namespace===n?t(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=e===n||/false/i.test(e)?"":e},libs:{},utils:{S:r,throttle:function(t,e){var i=null;return function(){var n=this,s=arguments;null==i&&(i=setTimeout(function(){t.apply(n,s),i=null},e))}},debounce:function(t,e,i){var n,s;return function(){var a=this,r=arguments,o=function(){n=null,i||(s=t.apply(a,r))},l=i&&!n;return clearTimeout(n),n=setTimeout(o,e),l&&(s=t.apply(a,r)),s}},data_options:function(e,i){function n(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function s(e){return"string"==typeof e?t.trim(e):e}i=i||"options";var a,r,o,l={},c=function(t){var e=Foundation.global.namespace;return t.data(e.length>0?e+"-"+i:i)},d=c(e);if("object"==typeof d)return d;for(o=(d||":").split(";"),a=o.length;a--;)r=o[a].split(":"),r=[r[0],r.slice(1).join(":")],/true/i.test(r[1])&&(r[1]=!0),/false/i.test(r[1])&&(r[1]=!1),n(r[1])&&(r[1]=-1===r[1].indexOf(".")?parseInt(r[1],10):parseFloat(r[1])),2===r.length&&r[0].length>0&&(l[s(r[0])]=s(r[1]));return l},register_media:function(e,i){Foundation.media_queries[e]===n&&(t("head").append('<meta class="'+i+'"/>'),Foundation.media_queries[e]=s(t("."+i).css("font-family")))},add_custom_rule:function(t,e){if(e===n&&Foundation.stylesheet)Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length);else{var i=Foundation.media_queries[e];i!==n&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }")}},image_loaded:function(t,e){var i=this,n=t.length;0===n&&e(t),t.each(function(){d(i.S(this),function(){n-=1,0===n&&e(t)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)}}},t.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.slider={name:"slider",version:"5.3.3",settings:{start:0,end:100,step:1,initial:null,display_selector:"",vertical:!1,on_change:function(){}},cache:{},init:function(t,e,i){Foundation.inherit(this,"throttle"),this.bindings(e,i),this.reflow()},events:function(){var i=this;t(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+i.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(e){i.cache.active||(e.preventDefault(),i.set_active_slider(t(e.target)))
}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(n){if(i.cache.active)if(n.preventDefault(),t.data(i.cache.active[0],"settings").vertical){var s=0;n.pageY||(s=e.scrollY),i.calculate_position(i.cache.active,(n.pageY||n.originalEvent.clientY||n.originalEvent.touches[0].clientY||n.currentPoint.y)+s)}else i.calculate_position(i.cache.active,n.pageX||n.originalEvent.clientX||n.originalEvent.touches[0].clientX||n.currentPoint.x)}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(){i.remove_active_slider()}).on("change.fndtn.slider",function(){i.settings.on_change()}),i.S(e).on("resize.fndtn.slider",i.throttle(function(){i.reflow()},300))},set_active_slider:function(t){this.cache.active=t},remove_active_slider:function(){this.cache.active=null},calculate_position:function(e,i){var n=this,s=t.data(e[0],"settings"),a=(t.data(e[0],"handle_l"),t.data(e[0],"handle_o"),t.data(e[0],"bar_l")),r=t.data(e[0],"bar_o");requestAnimationFrame(function(){var t;t=Foundation.rtl&&!s.vertical?n.limit_to((r+a-i)/a,0,1):n.limit_to((i-r)/a,0,1),t=s.vertical?1-t:t;var o=n.normalized_value(t,s.start,s.end,s.step);n.set_ui(e,o)})},set_ui:function(e,i){var n=t.data(e[0],"settings"),s=t.data(e[0],"handle_l"),a=t.data(e[0],"bar_l"),r=this.normalized_percentage(i,n.start,n.end),o=r*(a-s)-1,l=100*r;Foundation.rtl&&!n.vertical&&(o=-o),o=n.vertical?-o+a-s+1:o,this.set_translate(e,o,n.vertical),n.vertical?e.siblings(".range-slider-active-segment").css("height",l+"%"):e.siblings(".range-slider-active-segment").css("width",l+"%"),e.parent().attr(this.attr_name(),i).trigger("change").trigger("change.fndtn.slider"),e.parent().children("input[type=hidden]").val(i),""!=n.input_id&&t(n.display_selector).each(function(){this.hasOwnProperty("value")?t(this).val(i):t(this).text(i)})},normalized_percentage:function(t,e,i){return Math.min(1,(t-e)/(i-e))},normalized_value:function(t,e,i,n){var s=i-e,a=t*s,r=(a-a%n)/n,o=a%n,l=o>=.5*n?n:0;return r*n+l+e},set_translate:function(e,i,n){n?t(e).css("-webkit-transform","translateY("+i+"px)").css("-moz-transform","translateY("+i+"px)").css("-ms-transform","translateY("+i+"px)").css("-o-transform","translateY("+i+"px)").css("transform","translateY("+i+"px)"):t(e).css("-webkit-transform","translateX("+i+"px)").css("-moz-transform","translateX("+i+"px)").css("-ms-transform","translateX("+i+"px)").css("-o-transform","translateX("+i+"px)").css("transform","translateX("+i+"px)")},limit_to:function(t,e,i){return Math.min(Math.max(t,e),i)},initialize_settings:function(e){var i=t.extend({},this.settings,this.data_options(t(e).parent()));i.vertical?(t.data(e,"bar_o",t(e).parent().offset().top),t.data(e,"bar_l",t(e).parent().outerHeight()),t.data(e,"handle_o",t(e).offset().top),t.data(e,"handle_l",t(e).outerHeight())):(t.data(e,"bar_o",t(e).parent().offset().left),t.data(e,"bar_l",t(e).parent().outerWidth()),t.data(e,"handle_o",t(e).offset().left),t.data(e,"handle_l",t(e).outerWidth())),t.data(e,"bar",t(e).parent()),t.data(e,"settings",i)},set_initial_position:function(e){var i=t.data(e.children(".range-slider-handle")[0],"settings"),n=i.initial?i.initial:Math.floor(.5*(i.end-i.start)/i.step)*i.step+i.start,s=e.children(".range-slider-handle");this.set_ui(s,n)},set_value:function(e){var i=this;t("["+i.attr_name()+"]",this.scope).each(function(){t(this).attr(i.attr_name(),e)}),!t(this.scope).attr(i.attr_name())||t(this.scope).attr(i.attr_name(),e),i.reflow()},reflow:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var i=t(this).children(".range-slider-handle")[0],n=t(this).attr(e.attr_name());e.initialize_settings(i),n?e.set_ui(t(i),parseFloat(n)):e.set_initial_position(t(this))})}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";var s=s||!1;Foundation.libs.joyride={name:"joyride",version:"5.3.3",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(e,i,n){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||t.extend({},this.defaults,n||i),this.bindings(i,n)},go_next:function(){this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){this.settings.$li.prev().length<1||(this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var i=this;t(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(t){t.preventDefault(),this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(t){t.preventDefault(),this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(t){t.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.joyride",function(t){if(this.settings.keyboard)switch(t.which){case 39:t.preventDefault(),this.go_next();break;case 37:t.preventDefault(),this.go_prev();break;case 27:t.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this)),t(e).off(".joyride").on("resize.fndtn.joyride",i.throttle(function(){if(t("["+i.attr_name()+"]").length>0&&i.settings.$next_tip&&i.settings.riding){if(i.settings.exposed.length>0){var e=t(i.settings.exposed);e.each(function(){var e=t(this);i.un_expose(e),i.expose(e)})}i.is_phone()?i.pos_phone():i.pos_default(!1)}},100))},start:function(){var e=this,i=t("["+this.attr_name()+"]",this.scope),n=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],s=n.length;!i.length>0||(this.settings.init||this.events(),this.settings=i.data(this.attr_name(!0)+"-init"),this.settings.$content_el=i,this.settings.$body=t(this.settings.tip_container),this.settings.body_offset=t(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,"function"!=typeof t.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!t.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(i){var a=t(this);this.settings=t.extend({},e.defaults,e.data_options(a));for(var r=s;r--;)e.settings[n[r]]=parseInt(e.settings[n[r]],10);e.create({$li:a,index:i})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(e){var i,n;return e.tip_class=e.tip_class||"",i=t(this.settings.template.tip).addClass(e.tip_class),n=t.trim(t(e.li).html())+this.prev_button_text(e.prev_button_text,e.index)+this.button_text(e.button_text)+this.settings.template.link+this.timer_instance(e.index),i.append(t(this.settings.template.wrapper)),i.first().attr(this.add_namespace("data-index"),e.index),t(".joyride-content-wrapper",i).append(n),i[0]},timer_instance:function(e){var i;return i=0===e&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":t(this.settings.template.timer)[0].outerHTML},button_text:function(e){return this.settings.tip_settings.next_button?(e=t.trim(e)||"Next",e=t(this.settings.template.button).append(e)[0].outerHTML):e="",e},prev_button_text:function(e,i){return this.settings.tip_settings.prev_button?(e=t.trim(e)||"Previous",e=0==i?t(this.settings.template.prev_button).append(e).addClass("disabled")[0].outerHTML:t(this.settings.template.prev_button).append(e)[0].outerHTML):e="",e},create:function(e){this.settings.tip_settings=t.extend({},this.settings,this.data_options(e.$li));var i=e.$li.attr(this.add_namespace("data-button"))||e.$li.attr(this.add_namespace("data-text")),n=e.$li.attr(this.add_namespace("data-button-prev"))||e.$li.attr(this.add_namespace("data-prev-text")),s=e.$li.attr("class"),a=t(this.tip_template({tip_class:s,index:e.index,button_text:i,prev_button_text:n,li:e.$li}));t(this.settings.tip_container).append(a)},show:function(e,i){var s=null;this.settings.$li===n||-1===t.inArray(this.settings.$li.index(),this.settings.pause_after)?(this.settings.paused?this.settings.paused=!1:this.set_li(e,i),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(e&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=t.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),s=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(s.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){s.animate({width:s.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(s.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){s.animate({width:s.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&this.settings.$target.length<1?this.show():this.end()):this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||t(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(t.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(t,e){t?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=e?this.settings.$li.prev():this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=t(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var e=this.settings.$li.attr(this.add_namespace("data-class")),n=this.settings.$li.attr(this.add_namespace("data-id")),s=function(){return n?t(i.getElementById(n)):e?t("."+e).first():t("body")};this.settings.$target=s()},scroll_to:function(){var i,n;i=t(e).height()/2,n=Math.ceil(this.settings.$target.offset().top-i+this.settings.$next_tip.outerHeight()),0!=n&&t("html, body").stop().animate({scrollTop:n},this.settings.scroll_speed,"swing")},paused:function(){return-1===t.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=n,this.show("init")},pos_default:function(t){var e=this.settings.$next_tip.find(".joyride-nub"),i=Math.ceil(e.outerWidth()/2),n=Math.ceil(e.outerHeight()/2),s=t||!1;if(s&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(e);else{var a=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,r=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top+n+this.settings.$target.outerHeight()+a,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+r}:{top:this.settings.$target.offset().top+n+this.settings.$target.outerHeight()+a,left:this.settings.$target.offset().left+r}),this.nub_position(e,this.settings.tip_settings.nub_position,"top")):this.top()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-n+a,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-n+a,left:this.settings.$target.offset().left+r}),this.nub_position(e,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+a,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+i+r}),this.nub_position(e,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+a,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-i+r}),this.nub_position(e,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}s&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(e){var i=this.settings.$next_tip.outerHeight(),n=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),s=t(".joyride-nub",this.settings.$next_tip),a=Math.ceil(s.outerHeight()/2),r=e||!1;s.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),r&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(s):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-i-a}),s.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+n+a}),s.addClass("top")),r&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(t){this.center(),t.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var e=t(".joyride-modal-bg");e.length<1&&t("body").append(this.settings.template.modal).show(),/pop/i.test(this.settings.tip_animation)?e.show():e.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var i,n,s,a,r,o="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof t)s=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;s=this.settings.$target}return s.length<1?(e.console&&console.error("element not valid",s),!1):(i=t(this.settings.template.expose),this.settings.$body.append(i),i.css({top:s.offset().top,left:s.offset().left,width:s.outerWidth(!0),height:s.outerHeight(!0)}),n=t(this.settings.template.expose_cover),a={zIndex:s.css("z-index"),position:s.css("position")},r=null==s.attr("class")?"":s.attr("class"),s.css("z-index",parseInt(i.css("z-index"))+1),"static"==a.position&&s.css("position","relative"),s.data("expose-css",a),s.data("orig-class",r),s.attr("class",r+" "+this.settings.expose_add_class),n.css({top:s.offset().top,left:s.offset().left,width:s.outerWidth(!0),height:s.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(n),i.addClass(o),n.addClass(o),s.data("expose",o),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,s),this.add_exposed(s),void 0)},un_expose:function(){var i,n,s,a,r,o=!1;if(arguments.length>0&&arguments[0]instanceof t)n=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;n=this.settings.$target}return n.length<1?(e.console&&console.error("element not valid",n),!1):(i=n.data("expose"),s=t("."+i),arguments.length>1&&(o=arguments[1]),o===!0?t(".joyride-expose-wrapper,.joyride-expose-cover").remove():s.remove(),a=n.data("expose-css"),"auto"==a.zIndex?n.css("z-index",""):n.css("z-index",a.zIndex),a.position!=n.css("position")&&("static"==a.position?n.css("position",""):n.css("position",a.position)),r=n.data("orig-class"),n.attr("class",r),n.removeData("orig-classes"),n.removeData("expose"),n.removeData("expose-z-index"),this.remove_exposed(n),void 0)},add_exposed:function(e){this.settings.exposed=this.settings.exposed||[],e instanceof t||"object"==typeof e?this.settings.exposed.push(e[0]):"string"==typeof e&&this.settings.exposed.push(e)},remove_exposed:function(e){var i,n;for(e instanceof t?i=e[0]:"string"==typeof e&&(i=e),this.settings.exposed=this.settings.exposed||[],n=this.settings.exposed.length;n--;)if(this.settings.exposed[n]==i)return void this.settings.exposed.splice(n,1)},center:function(){var i=t(e);return this.settings.$next_tip.css({top:(i.height()-this.settings.$next_tip.outerHeight())/2+i.scrollTop(),left:(i.width()-this.settings.$next_tip.outerWidth())/2+i.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(i){var n=t(e),s=n.height()/2,a=Math.ceil(this.settings.$target.offset().top-s+this.settings.$next_tip.outerHeight()),r=n.width()+n.scrollLeft(),o=n.height()+a,l=n.height()+n.scrollTop(),c=n.scrollTop();return c>a&&(c=0>a?0:a),o>l&&(l=o),[i.offset().top<c,r<i.offset().left+i.outerWidth(),l<i.offset().top+i.outerHeight(),n.scrollLeft()>i.offset().left]},visible:function(t){for(var e=t.length;e--;)if(t[e])return!1;return!0},nub_position:function(t,e,i){t.addClass("auto"===e?i:e)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(e){this.settings.cookie_monster&&t.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),t(this.scope).off("keyup.joyride"),this.settings.$next_tip.data("closed",!0),this.settings.riding=!1,t(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),("undefined"==typeof e||e===!1)&&(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),t(".joyride-tip-guide").remove()},off:function(){t(this.scope).off(".joyride"),t(e).off(".joyride"),t(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),t(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.3.3",settings:{use_tallest:!0,before_height_change:t.noop,after_height_change:t.noop,equalize_on_stack:!1},init:function(t,e,i){Foundation.inherit(this,"image_loaded"),this.bindings(e,i),this.reflow()},events:function(){this.S(e).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(e){var i=!1,n=e.find("["+this.attr_name()+"-watch]:visible"),s=e.data(this.attr_name(!0)+"-init");if(0!==n.length){var a=n.first().offset().top;if(s.before_height_change(),e.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),n.height("inherit"),n.each(function(){var e=t(this);e.offset().top!==a&&(i=!0)}),s.equalize_on_stack!==!1||!i){var r=n.map(function(){return t(this).outerHeight(!1)}).get();if(s.use_tallest){var o=Math.max.apply(null,r);n.css("height",o)}else{var l=Math.min.apply(null,r);n.css("height",l)}s.after_height_change(),e.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var e=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var i=t(this);e.image_loaded(e.S("img",this),function(){e.equalize(i)})})}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.3.3",settings:{active_class:"open",align:"bottom",is_hover:!1,opened:function(){},closed:function(){}},init:function(t,e,i){Foundation.inherit(this,"throttle"),this.bindings(e,i)},events:function(){var i=this,n=i.S;n(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(e){var s=n(this).data(i.attr_name(!0)+"-init")||i.settings;(!s.is_hover||Modernizr.touch)&&(e.preventDefault(),i.toggle(t(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(t){var e,s,a=n(this);clearTimeout(i.timeout),a.data(i.data_attr())?(e=n("#"+a.data(i.data_attr())),s=a):(e=a,s=n("["+i.attr_name()+"='"+e.attr("id")+"']"));var r=s.data(i.attr_name(!0)+"-init")||i.settings;n(t.target).data(i.data_attr())&&r.is_hover&&i.closeall.call(i),r.is_hover&&i.open.apply(i,[e,s])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var t=n(this);i.timeout=setTimeout(function(){if(t.data(i.data_attr())){var e=t.data(i.data_attr(!0)+"-init")||i.settings;e.is_hover&&i.close.call(i,n("#"+t.data(i.data_attr())))}else{var s=n("["+i.attr_name()+'="'+n(this).attr("id")+'"]'),e=s.data(i.attr_name(!0)+"-init")||i.settings;e.is_hover&&i.close.call(i,t)}}.bind(this),150)}).on("click.fndtn.dropdown",function(e){var s=n(e.target).closest("["+i.attr_name()+"-content]");if(!(n(e.target).closest("["+i.attr_name()+"]").length>0))return!n(e.target).data("revealId")&&s.length>0&&(n(e.target).is("["+i.attr_name()+"-content]")||t.contains(s.first()[0],e.target))?void e.stopPropagation():void i.close.call(i,n("["+i.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.closed.call(this)}),n(e).off(".dropdown").on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50)),this.resize()},close:function(t){var e=this;t.each(function(){e.S(this).hasClass(e.settings.active_class)&&(e.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(e.settings.active_class).prev("["+e.attr_name()+"]").removeClass(e.settings.active_class).removeData("target"),e.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[t]))})},closeall:function(){var e=this;t.each(e.S("["+this.attr_name()+"-content]"),function(){e.close.call(e,e.S(this))})},open:function(t,e){this.css(t.addClass(this.settings.active_class),e),t.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),t.data("target",e.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[t,e])},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(t){var e=this.S("#"+t.data(this.data_attr()));0!==e.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(e)),e.hasClass(this.settings.active_class)?(this.close.call(this,e),e.data("target")!==t.get(0)&&this.open.call(this,e,t)):this.open.call(this,e,t))},resize:function(){var t=this.S("["+this.attr_name()+"-content].open"),e=this.S("["+this.attr_name()+"='"+t.attr("id")+"']");t.length&&e.length&&this.css(t,e)},css:function(t,e){var i=Math.max((e.width()-t.width())/2,8);if(this.clear_idx(),this.small()){var n=this.dirs.bottom.call(t,e);t.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:n.top}),t.css(Foundation.rtl?"right":"left",i)}else{var s=e.data(this.attr_name(!0)+"-init")||this.settings;this.style(t,e,s)}return t},style:function(e,i,n){var s=t.extend({position:"absolute"},this.dirs[n.align].call(e,i,n));e.attr("style","").css(s)},dirs:{_base:function(t){var e=this.offsetParent(),i=e.offset(),n=t.offset();return n.top-=i.top,n.left-=i.left,n},top:function(t){var e=Foundation.libs.dropdown,i=e.dirs._base.call(this,t),n=8;return this.addClass("drop-top"),(t.outerWidth()<this.outerWidth()||e.small())&&e.adjust_pip(n,i),Foundation.rtl?{left:i.left-this.outerWidth()+t.outerWidth(),top:i.top-this.outerHeight()}:{left:i.left,top:i.top-this.outerHeight()}},bottom:function(t){var e=Foundation.libs.dropdown,i=e.dirs._base.call(this,t),n=8;return(t.outerWidth()<this.outerWidth()||e.small())&&e.adjust_pip(n,i),e.rtl?{left:i.left-this.outerWidth()+t.outerWidth(),top:i.top+t.outerHeight()}:{left:i.left,top:i.top+t.outerHeight()}},left:function(t){var e=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-left"),{left:e.left-this.outerWidth(),top:e.top}},right:function(t){var e=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-right"),{left:e.left+t.outerWidth(),top:e.top}}},adjust_pip:function(t,e){var i=Foundation.stylesheet;this.small()&&(t+=e.left-8),this.rule_idx=i.cssRules.length;var n=".f-dropdown.open:before",s=".f-dropdown.open:after",a="left: "+t+"px;",r="left: "+(t-1)+"px;";i.insertRule?(i.insertRule([n,"{",a,"}"].join(" "),this.rule_idx),i.insertRule([s,"{",r,"}"].join(" "),this.rule_idx+1)):(i.addRule(n,a,this.rule_idx),i.addRule(s,r,this.rule_idx+1))},clear_idx:function(){var t=Foundation.stylesheet;this.rule_idx&&(t.deleteRule(this.rule_idx),t.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(e).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.3.3",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(t,e,i){var n=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(e,i),n.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(n.S("li",this.scope)):n.S("["+this.attr_name()+"]",this.scope).each(function(){n.assemble(n.S("li",this))})},events:function(n){var s=this,a=s.S,r=t(".scroll-container");r.length>0&&(this.scope=r),a(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(t,e,i){var e=e||a(this),i=i||e,n=e.next("li"),r=e.closest("["+s.attr_name()+"]").data(s.attr_name(!0)+"-init"),o=a(t.target);t.preventDefault(),r||(s.init(),r=e.closest("["+s.attr_name()+"]").data(s.attr_name(!0)+"-init")),i.hasClass("visible")&&e[0]===i[0]&&n.length>0&&s.is_open(e)&&(i=n,o=a("img",i)),s.open(o,e,i),s.update_paddles(i)}).on("click.fndtn.clearing",".clearing-main-next",function(t){s.nav(t,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(t){s.nav(t,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(t){Foundation.libs.clearing.close(t,this)}),t(i).on("keydown.fndtn.clearing",function(t){s.keydown(t)}),a(e).off(".clearing").on("resize.fndtn.clearing",function(){s.resize()}),this.swipe_events(n)},swipe_events:function(){var t=this,e=t.S;e(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(t){t.touches||(t=t.originalEvent);var i={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:n};e(this).data("swipe-transition",i),t.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(i){if(i.touches||(i=i.originalEvent),!(i.touches.length>1||i.scale&&1!==i.scale)){var n=e(this).data("swipe-transition");if("undefined"==typeof n&&(n={}),n.delta_x=i.touches[0].pageX-n.start_page_x,Foundation.rtl&&(n.delta_x=-n.delta_x),"undefined"==typeof n.is_scrolling&&(n.is_scrolling=!!(n.is_scrolling||Math.abs(n.delta_x)<Math.abs(i.touches[0].pageY-n.start_page_y))),!n.is_scrolling&&!n.active){i.preventDefault();var s=n.delta_x<0?"next":"prev";n.active=!0,t.nav(i,s)}}}).on("touchend.fndtn.clearing",".visible-img",function(t){e(this).data("swipe-transition",{}),t.stopPropagation()})},assemble:function(e){var i=e.parent();if(!i.parent().hasClass("carousel")){i.after('<div id="foundationClearingHolder"></div>');var n=i.detach(),s="";if(null!=n[0]){s=n[0].outerHTML;var a=this.S("#foundationClearingHolder"),r=i.data(this.attr_name(!0)+"-init"),o={grid:'<div class="carousel">'+s+"</div>",viewing:r.templates.viewing},l='<div class="clearing-assembled"><div>'+o.viewing+o.grid+"</div></div>",c=this.settings.touch_label;Modernizr.touch&&(l=t(l).find(".clearing-touch-label").html(c).end()),a.after(l).remove()}}},open:function(e,n,s){function a(){setTimeout(function(){this.image_loaded(h,function(){1!==h.outerWidth()||f?r.call(this,h):a.call(this)}.bind(this))}.bind(this),100)}function r(e){var i=t(e);i.css("visibility","visible"),l.css("overflow","hidden"),c.addClass("clearing-blackout"),d.addClass("clearing-container"),u.show(),this.fix_height(s).caption(o.S(".clearing-caption",u),o.S("img",s)).center_and_label(e,p).shift(n,s,function(){s.closest("li").siblings().removeClass("visible"),s.closest("li").addClass("visible")}),u.trigger("opened.fndtn.clearing")}var o=this,l=t(i.body),c=s.closest(".clearing-assembled"),d=o.S("div",c).first(),u=o.S(".visible-img",d),h=o.S("img",u).not(e),p=o.S(".clearing-touch-label",d),f=!1;t("body").on("touchmove",function(t){t.preventDefault()}),h.error(function(){f=!0}),this.locked()||(u.trigger("open.fndtn.clearing"),h.attr("src",this.load(e)).css("visibility","hidden"),a.call(this))},close:function(e,n){e.preventDefault();var s,a,r=function(t){return/blackout/.test(t.selector)?t:t.closest(".clearing-blackout")}(t(n)),o=t(i.body);return n===e.target&&r&&(o.css("overflow",""),s=t("div",r).first(),a=t(".visible-img",s),a.trigger("close.fndtn.clearing"),this.settings.prev_index=0,t("ul["+this.attr_name()+"]",r).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),s.removeClass("clearing-container"),a.hide(),a.trigger("closed.fndtn.clearing")),t("body").off("touchmove"),!1},is_open:function(t){return t.parent().prop("style").length>0},keydown:function(e){var i=t(".clearing-blackout ul["+this.attr_name()+"]"),n=this.rtl?37:39,s=this.rtl?39:37,a=27;e.which===n&&this.go(i,"next"),e.which===s&&this.go(i,"prev"),e.which===a&&this.S("a.clearing-close").trigger("click").trigger("click.fndtn.clearing")},nav:function(e,i){var n=t("ul["+this.attr_name()+"]",".clearing-blackout");e.preventDefault(),this.go(n,i)
},resize:function(){var e=t("img",".clearing-blackout .visible-img"),i=t(".clearing-touch-label",".clearing-blackout");e.length&&(this.center_and_label(e,i),e.trigger("resized.fndtn.clearing"))},fix_height:function(t){var e=t.parent().children(),i=this;return e.each(function(){var t=i.S(this),e=t.find("img");t.height()>e.outerHeight()&&t.addClass("fix-height")}).closest("ul").width(100*e.length+"%"),this},update_paddles:function(t){t=t.closest("li");var e=t.closest(".carousel").siblings(".visible-img");t.next().length>0?this.S(".clearing-main-next",e).removeClass("disabled"):this.S(".clearing-main-next",e).addClass("disabled"),t.prev().length>0?this.S(".clearing-main-prev",e).removeClass("disabled"):this.S(".clearing-main-prev",e).addClass("disabled")},center_and_label:function(t,e){return this.rtl?(t.css({marginRight:-(t.outerWidth()/2),marginTop:-(t.outerHeight()/2),left:"auto",right:"50%"}),e.length>0&&e.css({marginRight:-(e.outerWidth()/2),marginTop:-(t.outerHeight()/2)-e.outerHeight()-10,left:"auto",right:"50%"})):(t.css({marginLeft:-(t.outerWidth()/2),marginTop:-(t.outerHeight()/2)}),e.length>0&&e.css({marginLeft:-(e.outerWidth()/2),marginTop:-(t.outerHeight()/2)-e.outerHeight()-10})),this},load:function(t){var e;return e="A"===t[0].nodeName?t.attr("href"):t.parent().attr("href"),this.preload(t),e?e:t.attr("src")},preload:function(t){this.img(t.closest("li").next()).img(t.closest("li").prev())},img:function(t){if(t.length){var e=new Image,i=this.S("a",t);e.src=i.length?i.attr("href"):this.S("img",t).attr("src")}return this},caption:function(t,e){var i=e.attr("data-caption");return i?t.html(i).show():t.text("").hide(),this},go:function(t,e){var i=this.S(".visible",t),n=i[e]();this.settings.skip_selector&&0!=n.find(this.settings.skip_selector).length&&(n=n[e]()),n.length&&this.S("img",n).trigger("click",[i,n]).trigger("click.fndtn.clearing",[i,n]).trigger("change.fndtn.clearing")},shift:function(t,e,i){var n,s=e.parent(),a=this.settings.prev_index||e.index(),r=this.direction(s,t,e),o=this.rtl?"right":"left",l=parseInt(s.css("left"),10),c=e.outerWidth(),d={};e.index()===a||/skip/.test(r)?/skip/.test(r)&&(n=e.index()-this.settings.up_count,this.lock(),n>0?(d[o]=-(n*c),s.animate(d,300,this.unlock())):(d[o]=0,s.animate(d,300,this.unlock()))):/left/.test(r)?(this.lock(),d[o]=l+c,s.animate(d,300,this.unlock())):/right/.test(r)&&(this.lock(),d[o]=l-c,s.animate(d,300,this.unlock())),i()},direction:function(t,e,i){var n,s=this.S("li",t),a=s.outerWidth()+s.outerWidth()/4,r=Math.floor(this.S(".clearing-container").outerWidth()/a)-1,o=s.index(i);return this.settings.up_count=r,n=this.adjacent(this.settings.prev_index,o)?o>r&&o>this.settings.prev_index?"right":o>r-1&&o<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=o,n},adjacent:function(t,e){for(var i=e+1;i>=e-1;i--)if(i===t)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(e).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";var s=function(){},a=function(s,a){if(s.hasClass(a.slides_container_class))return this;var c,d,u,h,p,f,m=this,g=s,v=0,b=!1;m.slides=function(){return g.children(a.slide_selector)},m.slides().first().addClass(a.active_slide_class),m.update_slide_number=function(e){a.slide_number&&(d.find("span:first").text(parseInt(e)+1),d.find("span:last").text(m.slides().length)),a.bullets&&(u.children().removeClass(a.bullets_active_class),t(u.children().get(e)).addClass(a.bullets_active_class))},m.update_active_link=function(e){var i=t('[data-orbit-link="'+m.slides().eq(e).attr("data-orbit-slide")+'"]');i.siblings().removeClass(a.bullets_active_class),i.addClass(a.bullets_active_class)},m.build_markup=function(){g.wrap('<div class="'+a.container_class+'"></div>'),c=g.parent(),g.addClass(a.slides_container_class),a.stack_on_small&&c.addClass(a.stack_on_small_class),a.navigation_arrows&&(c.append(t('<a href="#"><span></span></a>').addClass(a.prev_class)),c.append(t('<a href="#"><span></span></a>').addClass(a.next_class))),a.timer&&(h=t("<div>").addClass(a.timer_container_class),h.append("<span>"),h.append(t("<div>").addClass(a.timer_progress_class)),h.addClass(a.timer_paused_class),c.append(h)),a.slide_number&&(d=t("<div>").addClass(a.slide_number_class),d.append("<span></span> "+a.slide_number_text+" <span></span>"),c.append(d)),a.bullets&&(u=t("<ol>").addClass(a.bullets_container_class),c.append(u),u.wrap('<div class="orbit-bullets-container"></div>'),m.slides().each(function(e){var i=t("<li>").attr("data-orbit-slide",e).on("click",m.link_bullet);u.append(i)}))},m._goto=function(e,i){if(e===v)return!1;"object"==typeof f&&f.restart();var n=m.slides(),s="next";if(b=!0,v>e&&(s="prev"),e>=n.length){if(!a.circular)return!1;e=0}else if(0>e){if(!a.circular)return!1;e=n.length-1}var r=t(n.get(v)),o=t(n.get(e));r.css("zIndex",2),r.removeClass(a.active_slide_class),o.css("zIndex",4).addClass(a.active_slide_class),g.trigger("before-slide-change.fndtn.orbit"),a.before_slide_change(),m.update_active_link(e);var l=function(){var t=function(){v=e,b=!1,i===!0&&(f=m.create_timer(),f.start()),m.update_slide_number(v),g.trigger("after-slide-change.fndtn.orbit",[{slide_number:v,total_slides:n.length}]),a.after_slide_change(v,n.length)};g.height()!=o.height()&&a.variable_height?g.animate({height:o.height()},250,"linear",t):t()};if(1===n.length)return l(),!1;var c=function(){"next"===s&&p.next(r,o,l),"prev"===s&&p.prev(r,o,l)};o.height()>g.height()&&a.variable_height?g.animate({height:o.height()},250,"linear",c):c()},m.next=function(t){t.stopImmediatePropagation(),t.preventDefault(),m._goto(v+1)},m.prev=function(t){t.stopImmediatePropagation(),t.preventDefault(),m._goto(v-1)},m.link_custom=function(e){e.preventDefault();var i=t(this).attr("data-orbit-link");if("string"==typeof i&&""!=(i=t.trim(i))){var n=c.find("[data-orbit-slide="+i+"]");-1!=n.index()&&m._goto(n.index())}},m.link_bullet=function(){var e=t(this).attr("data-orbit-slide");if("string"==typeof e&&""!=(e=t.trim(e)))if(isNaN(parseInt(e))){var i=c.find("[data-orbit-slide="+e+"]");-1!=i.index()&&m._goto(i.index()+1)}else m._goto(parseInt(e))},m.timer_callback=function(){m._goto(v+1,!0)},m.compute_dimensions=function(){var e=t(m.slides().get(v)),i=e.height();a.variable_height||m.slides().each(function(){t(this).height()>i&&(i=t(this).height())}),g.height(i)},m.create_timer=function(){var t=new r(c.find("."+a.timer_container_class),a,m.timer_callback);return t},m.stop_timer=function(){"object"==typeof f&&f.stop()},m.toggle_timer=function(){var t=c.find("."+a.timer_container_class);t.hasClass(a.timer_paused_class)?("undefined"==typeof f&&(f=m.create_timer()),f.start()):"object"==typeof f&&f.stop()},m.init=function(){m.build_markup(),a.timer&&(f=m.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),f.start)),p=new l(a,g),"slide"===a.animation&&(p=new o(a,g)),c.on("click","."+a.next_class,m.next),c.on("click","."+a.prev_class,m.prev),a.next_on_click&&c.on("click","."+a.slides_container_class+" [data-orbit-slide]",m.link_bullet),c.on("click",m.toggle_timer),a.swipe&&c.on("touchstart.fndtn.orbit",function(t){t.touches||(t=t.originalEvent);var e={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:n};c.data("swipe-transition",e),t.stopPropagation()}).on("touchmove.fndtn.orbit",function(t){if(t.touches||(t=t.originalEvent),!(t.touches.length>1||t.scale&&1!==t.scale)){var e=c.data("swipe-transition");if("undefined"==typeof e&&(e={}),e.delta_x=t.touches[0].pageX-e.start_page_x,"undefined"==typeof e.is_scrolling&&(e.is_scrolling=!!(e.is_scrolling||Math.abs(e.delta_x)<Math.abs(t.touches[0].pageY-e.start_page_y))),!e.is_scrolling&&!e.active){t.preventDefault();var i=e.delta_x<0?v+1:v-1;e.active=!0,m._goto(i)}}}).on("touchend.fndtn.orbit",function(t){c.data("swipe-transition",{}),t.stopPropagation()}),c.on("mouseenter.fndtn.orbit",function(){a.timer&&a.pause_on_hover&&m.stop_timer()}).on("mouseleave.fndtn.orbit",function(){a.timer&&a.resume_on_mouseout&&f.start()}),t(i).on("click","[data-orbit-link]",m.link_custom),t(e).on("load resize",m.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),m.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){c.prev("."+a.preloader_class).css("display","none"),m.update_slide_number(0),m.update_active_link(0),g.trigger("ready.fndtn.orbit")})},m.init()},r=function(t,e,i){var n,s,a=this,r=e.timer_speed,o=t.find("."+e.timer_progress_class),l=-1;this.update_progress=function(t){var e=o.clone();e.attr("style",""),e.css("width",t+"%"),o.replaceWith(e),o=e},this.restart=function(){clearTimeout(s),t.addClass(e.timer_paused_class),l=-1,a.update_progress(0)},this.start=function(){return t.hasClass(e.timer_paused_class)?(l=-1===l?r:l,t.removeClass(e.timer_paused_class),n=(new Date).getTime(),o.animate({width:"100%"},l,"linear"),s=setTimeout(function(){a.restart(),i()},l),t.trigger("timer-started.fndtn.orbit"),void 0):!0},this.stop=function(){if(t.hasClass(e.timer_paused_class))return!0;clearTimeout(s),t.addClass(e.timer_paused_class);var i=(new Date).getTime();l-=i-n;var o=100-l/r*100;a.update_progress(o),t.trigger("timer-stopped.fndtn.orbit")}},o=function(e){var i=e.animation_speed,n=1===t("html[dir=rtl]").length,s=n?"marginRight":"marginLeft",a={};a[s]="0%",this.next=function(t,e,n){t.animate({marginLeft:"-100%"},i),e.animate(a,i,function(){t.css(s,"100%"),n()})},this.prev=function(t,e,n){t.animate({marginLeft:"100%"},i),e.css(s,"-100%"),e.animate(a,i,function(){t.css(s,"100%"),n()})}},l=function(e){{var i=e.animation_speed;1===t("html[dir=rtl]").length}this.next=function(t,e,n){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},i,"linear",function(){t.css("margin","100%"),n()})},this.prev=function(t,e,n){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},i,"linear",function(){t.css("margin","100%"),n()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.3.3",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:s,after_slide_change:s},init:function(t,e,i){this.bindings(e,i)},events:function(t){var e=new a(this.S(t),this.S(t).data("orbit-init"));this.S(t).data(this.name+"-instance",e)},reflow:function(){var t=this;if(t.S(t.scope).is("[data-orbit]")){var e=t.S(t.scope),i=e.data(t.name+"-instance");i.compute_dimensions()}else t.S("[data-orbit]",t.scope).each(function(e,i){var n=t.S(i),s=(t.data_options(n),n.data(t.name+"-instance"));s.compute_dimensions()})}}}(jQuery,window,window.document),function(){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.3.3",settings:{open_method:"move",close_on_click:!1},init:function(t,e,i){this.bindings(e,i)},events:function(){var t=this,e=t.S,i="",n="",s="";"move"===this.settings.open_method?(i="move-",n="right",s="left"):"overlap_single"===this.settings.open_method?(i="offcanvas-overlap-",n="right",s="left"):"overlap"===this.settings.open_method&&(i="offcanvas-overlap"),e(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(s){t.click_toggle_class(s,i+n),"overlap"!==t.settings.open_method&&e(".left-submenu").removeClass(i+n)}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(s){var a=t.get_settings(s),r=e(this).parent();!a.close_on_click||r.hasClass("has-submenu")||r.hasClass("back")?e(this).parent().hasClass("has-submenu")?(s.preventDefault(),e(this).siblings(".left-submenu").toggleClass(i+n)):r.hasClass("back")&&(s.preventDefault(),r.parent().removeClass(i+n)):(t.hide.call(t,i+n,t.get_wrapper(s)),r.parent().removeClass(i+n))}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(n){t.click_toggle_class(n,i+s),"overlap"!==t.settings.open_method&&e(".right-submenu").removeClass(i+s)}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(n){var a=t.get_settings(n),r=e(this).parent();!a.close_on_click||r.hasClass("has-submenu")||r.hasClass("back")?e(this).parent().hasClass("has-submenu")?(n.preventDefault(),e(this).siblings(".right-submenu").toggleClass(i+s)):r.hasClass("back")&&(n.preventDefault(),r.parent().removeClass(i+s)):(t.hide.call(t,i+s,t.get_wrapper(n)),r.parent().removeClass(i+s))}).on("click.fndtn.offcanvas",".exit-off-canvas",function(a){t.click_remove_class(a,i+s),e(".right-submenu").removeClass(i+s),n&&(t.click_remove_class(a,i+n),e(".left-submenu").removeClass(i+s))})},toggle:function(t,e){e=e||this.get_wrapper(),e.is("."+t)?this.hide(t,e):this.show(t,e)},show:function(t,e){e=e||this.get_wrapper(),e.trigger("open").trigger("open.fndtn.offcanvas"),e.addClass(t)},hide:function(t,e){e=e||this.get_wrapper(),e.trigger("close").trigger("close.fndtn.offcanvas"),e.removeClass(t)},click_toggle_class:function(t,e){t.preventDefault();var i=this.get_wrapper(t);this.toggle(e,i)},click_remove_class:function(t,e){t.preventDefault();var i=this.get_wrapper(t);this.hide(e,i)},get_settings:function(t){var e=this.S(t.target).closest("["+this.attr_name()+"]");return e.data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(t){var e=this.S(t?t.target:this.scope).closest(".off-canvas-wrap");return 0===e.length&&(e=this.S(".off-canvas-wrap")),e},reflow:function(){}}}(jQuery,window,window.document),function(t){"use strict";Foundation.libs.alert={name:"alert",version:"5.3.3",settings:{callback:function(){}},init:function(t,e,i){this.bindings(e,i)},events:function(){var e=this,i=this.S;t(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] a.close",function(t){var n=i(this).closest("["+e.attr_name()+"]"),s=n.data(e.attr_name(!0)+"-init")||e.settings;t.preventDefault(),Modernizr.csstransitions?(n.addClass("alert-close"),n.on("transitionend webkitTransitionEnd oTransitionEnd",function(){i(this).trigger("close").trigger("close.fndtn.alert").remove(),s.callback()})):n.fadeOut(300,function(){i(this).trigger("close").trigger("close.fndtn.alert").remove(),s.callback()})})},reflow:function(){}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";function s(t){var e=/fade/i.test(t),i=/pop/i.test(t);return{animate:e||i,pop:i,fade:e}}Foundation.libs.reveal={name:"reveal",version:"5.3.3",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,i,n){t.extend(!0,this.settings,i,n),this.bindings(i,n)},events:function(){var t=this,e=t.S;return e(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(i){if(i.preventDefault(),!t.locked){var n=e(this),s=n.data(t.data_attr("reveal-ajax"));if(t.locked=!0,"undefined"==typeof s)t.open.call(t,n);else{var a=s===!0?n.attr("href"):s;t.open.call(t,n,{url:a})}}}),e(i).on("click.fndtn.reveal",this.close_targets(),function(i){if(i.preventDefault(),!t.locked){var n=e("["+t.attr_name()+"].open").data(t.attr_name(!0)+"-init"),s=e(i.target)[0]===e("."+n.bg_class)[0];if(s){if(!n.close_on_background_click)return;i.stopPropagation()}t.locked=!0,t.close.call(t,s?e("["+t.attr_name()+"].open"):e(this).closest("["+t.attr_name()+"]"))}}),e("["+t.attr_name()+"]",this.scope).length>0?e(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):e(this.scope).on("open.fndtn.reveal","["+t.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+t.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.close_video),!0},key_up_on:function(){var t=this;return t.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(e){var i=t.S("["+t.attr_name()+"].open"),n=i.data(t.attr_name(!0)+"-init")||t.settings;n&&27===e.which&&n.close_on_esc&&!t.locked&&t.close.call(t,i)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(e,i){var n,s=this;e?"undefined"!=typeof e.selector?n=s.S("#"+e.data(s.data_attr("reveal-id"))).first():(n=s.S(this.scope),i=e):n=s.S(this.scope);var a=n.data(s.attr_name(!0)+"-init");if(a=a||this.settings,n.hasClass("open")&&e.attr("data-reveal-id")==n.attr("id"))return s.close(n);if(!n.hasClass("open")){var r=s.S("["+s.attr_name()+"].open");if("undefined"==typeof n.data("css-top")&&n.data("css-top",parseInt(n.css("top"),10)).data("offset",this.cache_offset(n)),this.key_up_on(n),n.trigger("open").trigger("open.fndtn.reveal"),r.length<1&&this.toggle_bg(n,!0),"string"==typeof i&&(i={url:i}),"undefined"!=typeof i&&i.url){var o="undefined"!=typeof i.success?i.success:null;t.extend(i,{success:function(e,i,l){t.isFunction(o)&&o(e,i,l),n.html(e),s.S(n).foundation("section","reflow"),s.S(n).children().foundation(),r.length>0&&s.hide(r,a.css.close),s.show(n,a.css.open)}}),t.ajax(i)}else r.length>0&&this.hide(r,a.css.close),this.show(n,a.css.open)}},close:function(t){var t=t&&t.length?t:this.S(this.scope),e=this.S("["+this.attr_name()+"].open"),i=t.data(this.attr_name(!0)+"-init")||this.settings;e.length>0&&(this.locked=!0,this.key_up_off(t),t.trigger("close").trigger("close.fndtn.reveal"),this.toggle_bg(t,!1),this.hide(e,i.css.close,i))},close_targets:function(){var t="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?t+", ."+this.settings.bg_class:t},toggle_bg:function(e,i){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=t("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var s=this.settings.bg.filter(":visible").length>0;i!=s&&((i==n?s:!i)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(i,n){if(n){var a=i.data(this.attr_name(!0)+"-init")||this.settings,r=a.root_element;if(0===i.parent(r).length){var o=i.wrap('<div style="display: none;" />').parent();i.on("closed.fndtn.reveal.wrapped",function(){i.detach().appendTo(o),i.unwrap().unbind("closed.fndtn.reveal.wrapped")}),i.detach().appendTo(r)}var l=s(a.animation);if(l.animate||(this.locked=!1),l.pop){n.top=t(e).scrollTop()-i.data("offset")+"px";var c={top:t(e).scrollTop()+i.data("css-top")+"px",opacity:1};return setTimeout(function(){return i.css(n).animate(c,a.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),a.animation_speed/2)}if(l.fade){n.top=t(e).scrollTop()+i.data("css-top")+"px";var c={opacity:1};return setTimeout(function(){return i.css(n).animate(c,a.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),a.animation_speed/2)}return i.css(n).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}var a=this.settings;return s(a.animation).fade?i.fadeIn(a.animation_speed/2):(this.locked=!1,i.show())},hide:function(i,n){if(n){var a=i.data(this.attr_name(!0)+"-init");a=a||this.settings;var r=s(a.animation);if(r.animate||(this.locked=!1),r.pop){var o={top:-t(e).scrollTop()-i.data("offset")+"px",opacity:0};return setTimeout(function(){return i.animate(o,a.animation_speed,"linear",function(){this.locked=!1,i.css(n).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),a.animation_speed/2)}if(r.fade){var o={opacity:0};return setTimeout(function(){return i.animate(o,a.animation_speed,"linear",function(){this.locked=!1,i.css(n).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),a.animation_speed/2)}return i.hide().css(n).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}var a=this.settings;return s(a.animation).fade?i.fadeOut(a.animation_speed/2):i.hide()},close_video:function(e){var i=t(".flex-video",e.target),n=t("iframe",i);n.length>0&&(n.attr("data-src",n[0].src),n.attr("src",n.attr("src")),i.hide())},open_video:function(e){var i=t(".flex-video",e.target),s=i.find("iframe");if(s.length>0){var a=s.attr("data-src");if("string"==typeof a)s[0].src=s.attr("data-src");else{var r=s[0].src;s[0].src=n,s[0].src=r}i.show()}},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10);return t.hide(),e},off:function(){t(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.3.3",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,medium:Foundation.media_queries.medium,large:Foundation.media_queries.large,xlarge:Foundation.media_queries.xlarge,xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(e,i,n){if(/IMG/.test(e[0].nodeName)){var s=e[0].src;if(new RegExp(i,"i").test(s))return;return e[0].src=i,n(e[0].src)}var a=e.data(this.data_attr+"-last-path"),r=this;if(a!=i)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(i)?(t(e).css("background-image","url("+i+")"),e.data("interchange-last-path",i),n(i)):t.get(i,function(t){e.html(t),e.data(r.data_attr+"-last-path",i),n()})}}},init:function(e,i,n){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),t.extend(!0,this.settings,i,n),this.bindings(i,n),this.load("images"),this.load("nodes")},get_media_hash:function(){var t="";for(var e in this.settings.named_queries)t+=matchMedia(this.settings.named_queries[e]).matches.toString();return t},events:function(){var i,n=this;return t(e).off(".interchange").on("resize.fndtn.interchange",n.throttle(function(){var t=n.get_media_hash();t!==i&&n.resize(),i=t},50)),this},resize:function(){var e=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(t.proxy(this.resize,this),50);for(var i in e)if(e.hasOwnProperty(i)){var n=this.results(i,e[i]);n&&this.settings.directives[n.scenario[1]].call(this,n.el,n.scenario[0],function(){if(arguments[0]instanceof Array)var t=arguments[0];else var t=Array.prototype.slice.call(arguments,0);n.el.trigger(n.scenario[1],t)})}},results:function(t,e){var i=e.length;if(i>0)for(var n=this.S("["+this.add_namespace("data-uuid")+'="'+t+'"]');i--;){var s,a=e[i][2];if(s=matchMedia(this.settings.named_queries.hasOwnProperty(a)?this.settings.named_queries[a]:a),s.matches)return{el:n,scenario:e[i]}}return!1},load:function(t,e){return("undefined"==typeof this["cached_"+t]||e)&&this["update_"+t](),this["cached_"+t]},update_images:function(){var t=this.S("img["+this.data_attr+"]"),e=t.length,i=e,n=0,s=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===e;i--;){if(n++,t[i]){var a=t[i].getAttribute(s)||"";a.length>0&&this.cached_images.push(t[i])}n===e&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var t=this.S("["+this.data_attr+"]").not("img"),e=t.length,i=e,n=0,s=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===e;i--;){n++;var a=t[i].getAttribute(s)||"";a.length>0&&this.cached_nodes.push(t[i]),n===e&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(i){for(var n=this["cached_"+i].length;n--;)this.object(t(this["cached_"+i][n]));return t(e).trigger("resize").trigger("resize.fndtn.interchange")},convert_directive:function(t){var e=this.trim(t);return e.length>0?e:"replace"},parse_scenario:function(t){var e=t[0].match(/(.+),\s*(\w+)\s*$/),i=t[1];if(e)var n=e[1],s=e[2];else var a=t[0].split(/,\s*$/),n=a[0],s="";return[this.trim(n),this.convert_directive(s),this.trim(i)]},object:function(t){var e=this.parse_data_attr(t),i=[],n=e.length;if(n>0)for(;n--;){var s=e[n].split(/\((.*?)(\))$/);if(s.length>1){var a=this.parse_scenario(s);i.push(a)}}return this.store(t,i)},store:function(t,e){var i=this.random_str(),n=t.data(this.add_namespace("uuid",!0));return this.cache[n]?this.cache[n]:(t.attr(this.add_namespace("data-uuid"),i),this.cache[i]=e)},trim:function(e){return"string"==typeof e?t.trim(e):e},set_data_attr:function(t){return t?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(t){for(var e=t.attr(this.attr_name()).split(/\[(.*?)\]/),i=e.length,n=[];i--;)e[i].replace(/[\W\d]+/,"").length>4&&n.push(e[i]);return n},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.3.3",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0},init:function(t,e,i){Foundation.inherit(this,"throttle"),this.bindings(e,i)},events:function(){var i=this,n=i.S,s=i.settings;i.set_expedition_position(),n(i.scope).off(".magellan").on("click.fndtn.magellan","["+i.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(e){e.preventDefault();var n=t(this).closest("["+i.attr_name()+"]"),s=n.data("magellan-expedition-init"),a=this.hash.split("#").join(""),r=t("a[name='"+a+"']");0===r.length&&(r=t("#"+a));var o=r.offset().top-s.destination_threshold+1;o-=n.outerHeight(),t("html, body").stop().animate({scrollTop:o},700,"swing",function(){history.pushState?history.pushState(null,null,"#"+a):location.hash="#"+a})}).on("scroll.fndtn.magellan",i.throttle(this.check_for_arrivals.bind(this),s.throttle_delay)),t(e).on("resize.fndtn.magellan",i.throttle(this.set_expedition_position.bind(this),s.throttle_delay))},check_for_arrivals:function(){var t=this;t.update_arrivals(),t.update_expedition_positions()},set_expedition_position:function(){var e=this;t("["+this.attr_name()+"=fixed]",e.scope).each(function(){var i,n,s=t(this),a=s.data("magellan-expedition-init"),r=s.attr("styles");s.attr("style",""),i=s.offset().top+a.threshold,n=parseInt(s.data("magellan-fixed-top")),isNaN(n)||(e.settings.fixed_top=n),s.data(e.data_attr("magellan-top-offset"),i),s.attr("style",r)})},update_expedition_positions:function(){var i=this,n=t(e).scrollTop();t("["+this.attr_name()+"=fixed]",i.scope).each(function(){var e=t(this),s=e.data("magellan-expedition-init"),a=e.attr("style"),r=e.data("magellan-top-offset");if(n+i.settings.fixed_top>=r){var o=e.prev("["+i.add_namespace("data-magellan-expedition-clone")+"]");0===o.length&&(o=e.clone(),o.removeAttr(i.attr_name()),o.attr(i.add_namespace("data-magellan-expedition-clone"),""),e.before(o)),e.css({position:"fixed",top:s.fixed_top}).addClass("fixed")}else e.prev("["+i.add_namespace("data-magellan-expedition-clone")+"]").remove(),e.attr("style",a).css("position","").css("top","").removeClass("fixed")})},update_arrivals:function(){var i=this,n=t(e).scrollTop();t("["+this.attr_name()+"]",i.scope).each(function(){var e=t(this),s=e.data(i.attr_name(!0)+"-init"),a=i.offsets(e,n),r=e.find("["+i.add_namespace("data-magellan-arrival")+"]"),o=!1;a.each(function(t,n){if(n.viewport_offset>=n.top_offset){var a=e.find("["+i.add_namespace("data-magellan-arrival")+"]");return a.not(n.arrival).removeClass(s.active_class),n.arrival.addClass(s.active_class),o=!0,!0}}),o||r.removeClass(s.active_class)})},offsets:function(e,i){var n=this,s=e.data(n.attr_name(!0)+"-init"),a=i;return e.find("["+n.add_namespace("data-magellan-arrival")+"]").map(function(){var i=t(this).data(n.data_attr("magellan-arrival")),r=t("["+n.add_namespace("data-magellan-destination")+"="+i+"]");if(r.length>0){var o=Math.floor(r.offset().top-s.destination_threshold-e.outerHeight());return{destination:r,arrival:t(this),top_offset:o,viewport_offset:a}}}).sort(function(t,e){return t.top_offset<e.top_offset?-1:t.top_offset>e.top_offset?1:0})},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},off:function(){this.S(this.scope).off(".magellan"),this.S(e).off(".magellan")},reflow:function(){var e=this;t("["+e.add_namespace("data-magellan-expedition-clone")+"]",e.scope).remove()}}}(jQuery,window,window.document),function(t){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.3.3",settings:{active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(t,e,i){this.bindings(e,i)},events:function(){var e=this,i=this.S;i(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a",function(n){var s=i(this).closest("["+e.attr_name()+"]"),a=e.attr_name()+"="+s.attr(e.attr_name()),r=s.data(e.attr_name(!0)+"-init"),o=i("#"+this.href.split("#")[1]),l=t("> dd",s),c=l.children(".content"),d=c.filter("."+r.active_class);return n.preventDefault(),s.attr(e.attr_name())&&(c=c.add("["+a+"] dd > .content"),l=l.add("["+a+"] dd")),r.toggleable&&o.is(d)?(o.parent("dd").toggleClass(r.active_class,!1),o.toggleClass(r.active_class,!1),r.callback(o),o.triggerHandler("toggled",[s]),s.triggerHandler("toggled",[o]),void 0):(r.multi_expand||(c.removeClass(r.active_class),l.removeClass(r.active_class)),o.addClass(r.active_class).parent().addClass(r.active_class),r.callback(o),o.triggerHandler("toggled",[s]),s.triggerHandler("toggled",[o]),void 0)})},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(t,e,i){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.3.3",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(e,i,n){Foundation.inherit(this,"add_custom_rule register_media throttle");var s=this;s.register_media("topbar","foundation-mq-topbar"),this.bindings(i,n),s.S("["+this.attr_name()+"]",this.scope).each(function(){{var e=t(this),i=e.data(s.attr_name(!0)+"-init");s.S("section, .top-bar-section",this)}e.data("index",0);var n=e.parent();n.hasClass("fixed")||s.is_sticky(e,n,i)?(s.settings.sticky_class=i.sticky_class,s.settings.sticky_topbar=e,e.data("height",n.outerHeight()),e.data("stickyoffset",n.offset().top)):e.data("height",e.outerHeight()),i.assembled||s.assemble(e),i.is_hover?s.S(".has-dropdown",e).addClass("not-click"):s.S(".has-dropdown",e).removeClass("not-click"),s.add_custom_rule(".f-topbar-fixed { padding-top: "+e.data("height")+"px }"),n.hasClass("fixed")&&s.S("body").addClass("f-topbar-fixed")})},is_sticky:function(t,e,i){var n=e.hasClass(i.sticky_class);return n&&"all"===i.sticky_on?!0:n&&this.small()&&"small"===i.sticky_on?matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:n&&this.medium()&&"medium"===i.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:n&&this.large()&&"large"===i.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&matchMedia(Foundation.media_queries.large).matches:!1
},toggle:function(i){var n,s=this;n=i?s.S(i).closest("["+this.attr_name()+"]"):s.S("["+this.attr_name()+"]");var a=n.data(this.attr_name(!0)+"-init"),r=s.S("section, .top-bar-section",n);s.breakpoint()&&(s.rtl?(r.css({right:"0%"}),t(">.name",r).css({right:"100%"})):(r.css({left:"0%"}),t(">.name",r).css({left:"100%"})),s.S("li.moved",r).removeClass("moved"),n.data("index",0),n.toggleClass("expanded").css("height","")),a.scrolltop?n.hasClass("expanded")?n.parent().hasClass("fixed")&&(a.scrolltop?(n.parent().removeClass("fixed"),n.addClass("fixed"),s.S("body").removeClass("f-topbar-fixed"),e.scrollTo(0,0)):n.parent().removeClass("expanded")):n.hasClass("fixed")&&(n.parent().addClass("fixed"),n.removeClass("fixed"),s.S("body").addClass("f-topbar-fixed")):(s.is_sticky(n,n.parent(),a)&&n.parent().addClass("fixed"),n.parent().hasClass("fixed")&&(n.hasClass("expanded")?(n.addClass("fixed"),n.parent().addClass("expanded"),s.S("body").addClass("f-topbar-fixed")):(n.removeClass("fixed"),n.parent().removeClass("expanded"),s.update_sticky_positioning())))},timer:null,events:function(){var i=this,n=this.S;n(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(t){t.preventDefault(),i.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(){var e=t(this).closest("li");i.breakpoint()&&!e.hasClass("back")&&!e.hasClass("has-dropdown")&&i.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(e){var s=n(this),a=n(e.target),r=s.closest("["+i.attr_name()+"]"),o=r.data(i.attr_name(!0)+"-init");return a.data("revealId")?void i.toggle():void(i.breakpoint()||(!o.is_hover||Modernizr.touch)&&(e.stopImmediatePropagation(),s.hasClass("hover")?(s.removeClass("hover").find("li").removeClass("hover"),s.parents("li.hover").removeClass("hover")):(s.addClass("hover"),t(s).siblings().removeClass("hover"),"A"===a[0].nodeName&&a.parent().hasClass("has-dropdown")&&e.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(t){if(i.breakpoint()){t.preventDefault();var e=n(this),s=e.closest("["+i.attr_name()+"]"),a=s.find("section, .top-bar-section"),r=(e.next(".dropdown").outerHeight(),e.closest("li"));s.data("index",s.data("index")+1),r.addClass("moved"),i.rtl?(a.css({right:-(100*s.data("index"))+"%"}),a.find(">.name").css({right:100*s.data("index")+"%"})):(a.css({left:-(100*s.data("index"))+"%"}),a.find(">.name").css({left:100*s.data("index")+"%"})),s.css("height",e.siblings("ul").outerHeight(!0)+s.data("height"))}}),n(e).off(".topbar").on("resize.fndtn.topbar",i.throttle(function(){i.resize.call(i)},50)).trigger("resize").trigger("resize.fndtn.topbar").load(function(){n(this).trigger("resize.fndtn.topbar")}),n("body").off(".topbar").on("click.fndtn.topbar",function(t){var e=n(t.target).closest("li").closest("li.hover");e.length>0||n("["+i.attr_name()+"] li.hover").removeClass("hover")}),n(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(t){t.preventDefault();var e=n(this),s=e.closest("["+i.attr_name()+"]"),a=s.find("section, .top-bar-section"),r=(s.data(i.attr_name(!0)+"-init"),e.closest("li.moved")),o=r.parent();s.data("index",s.data("index")-1),i.rtl?(a.css({right:-(100*s.data("index"))+"%"}),a.find(">.name").css({right:100*s.data("index")+"%"})):(a.css({left:-(100*s.data("index"))+"%"}),a.find(">.name").css({left:100*s.data("index")+"%"})),0===s.data("index")?s.css("height",""):s.css("height",o.outerHeight(!0)+s.data("height")),setTimeout(function(){r.removeClass("moved")},300)})},resize:function(){var t=this;t.S("["+this.attr_name()+"]").each(function(){var e,n=t.S(this),s=n.data(t.attr_name(!0)+"-init"),a=n.parent("."+t.settings.sticky_class);if(!t.breakpoint()){var r=n.hasClass("expanded");n.css("height","").removeClass("expanded").find("li").removeClass("hover"),r&&t.toggle(n)}t.is_sticky(n,a,s)&&(a.hasClass("fixed")?(a.removeClass("fixed"),e=a.offset().top,t.S(i.body).hasClass("f-topbar-fixed")&&(e-=n.data("height")),n.data("stickyoffset",e),a.addClass("fixed")):(e=a.offset().top,n.data("stickyoffset",e)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(e){var i=this,n=e.data(this.attr_name(!0)+"-init"),s=i.S("section, .top-bar-section",e);s.detach(),i.S(".has-dropdown>a",s).each(function(){var e,s=i.S(this),a=s.siblings(".dropdown"),r=s.attr("href");a.find(".title.back").length||(e=t(1==n.mobile_show_parent_link&&r?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link show-for-small"><a class="parent-link js-generated" href="'+r+'">'+s.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),t("h5>a",e).html(1==n.custom_back_text?n.back_text:"&laquo; "+s.html()),a.prepend(e))}),s.appendTo(e),this.sticky(),this.assembled(e)},assembled:function(e){e.data(this.attr_name(!0),t.extend({},e.data(this.attr_name(!0)),{assembled:!0}))},height:function(e){var i=0,n=this;return t("> li",e).each(function(){i+=n.S(this).outerHeight(!0)}),i},sticky:function(){var t=this;this.S(e).on("scroll",function(){t.update_sticky_positioning()})},update_sticky_positioning:function(){var t="."+this.settings.sticky_class,i=this.S(e),n=this;if(n.settings.sticky_topbar&&n.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var s=this.settings.sticky_topbar.data("stickyoffset");n.S(t).hasClass("expanded")||(i.scrollTop()>s?n.S(t).hasClass("fixed")||(n.S(t).addClass("fixed"),n.S("body").addClass("f-topbar-fixed")):i.scrollTop()<=s&&n.S(t).hasClass("fixed")&&(n.S(t).removeClass("fixed"),n.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(e).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";Foundation.libs.tab={name:"tab",version:"5.3.3",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(t,e,i){var n=this,s=this.S;this.bindings(e,i),this.handle_location_hash_change(),s("["+this.attr_name()+"] > .active > a",this.scope).each(function(){n.default_tab_hashes.push(this.hash)})},events:function(){var t=this,i=this.S;i(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(e){var n=i(this).closest("["+t.attr_name()+"]").data(t.attr_name(!0)+"-init");(!n.is_hover||Modernizr.touch)&&(e.preventDefault(),e.stopPropagation(),t.toggle_active_tab(i(this).parent()))}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(){var e=i(this).closest("["+t.attr_name()+"]").data(t.attr_name(!0)+"-init");e.is_hover&&t.toggle_active_tab(i(this).parent())}),i(e).on("hashchange.fndtn.tab",function(e){e.preventDefault(),t.handle_location_hash_change()})},handle_location_hash_change:function(){var e=this,i=this.S;i("["+this.attr_name()+"]",this.scope).each(function(){var s=i(this).data(e.attr_name(!0)+"-init");if(s.deep_linking){var a=e.scope.location.hash;if(""!=a){var r=i(a);if(r.hasClass("content")&&r.parent().hasClass("tab-content"))e.toggle_active_tab(t("["+e.attr_name()+"] > * > a[href="+a+"]").parent());else{var o=r.closest(".content").attr("id");o!=n&&e.toggle_active_tab(t("["+e.attr_name()+"] > * > a[href=#"+o+"]").parent(),a)}}else for(var l in e.default_tab_hashes)e.toggle_active_tab(t("["+e.attr_name()+"] > * > a[href="+e.default_tab_hashes[l]+"]").parent())}})},toggle_active_tab:function(i,s){var a=this.S,r=i.closest("["+this.attr_name()+"]"),o=i.children("a").first(),l="#"+o.attr("href").split("#")[1],c=a(l),d=i.siblings(),u=r.data(this.attr_name(!0)+"-init");if(a(this).data(this.data_attr("tab-content"))&&(l="#"+a(this).data(this.data_attr("tab-content")).split("#")[1],c=a(l)),u.deep_linking){var h=t("body,html").scrollTop();e.location.hash=s!=n?s:l,u.scroll_to_content?s==n||s==l?i.parent()[0].scrollIntoView():a(l)[0].scrollIntoView():(s==n||s==l)&&t("body,html").scrollTop(h)}i.addClass(u.active_class).triggerHandler("opened"),d.removeClass(u.active_class),c.siblings().removeClass(u.active_class).end().addClass(u.active_class),u.callback(i),c.triggerHandler("toggled",[i]),r.triggerHandler("toggled",[c])},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(t,e,i){"use strict";Foundation.libs.abide={name:"abide",version:"5.3.3",settings:{live_validate:!0,focus_on_invalid:!0,error_labels:!0,timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(t){var e=i.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value,n=t.value,s=e===n;return s}}},timer:null,init:function(t,e,i){this.bindings(e,i)},events:function(e){var i=this,n=i.S(e).attr("novalidate","novalidate"),s=n.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),n.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(t){var e=/ajax/i.test(i.S(this).attr(i.attr_name()));return i.validate(i.S(this).find("input, textarea, select").get(),t,e)}).on("reset",function(){return i.reset(t(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(t){i.validate([this],t)}).on("keydown.fndtn.abide",function(t){s.live_validate===!0&&(clearTimeout(i.timer),i.timer=setTimeout(function(){i.validate([this],t)}.bind(this),s.timeout))})},reset:function(e){e.removeAttr(this.invalid_attr),t(this.invalid_attr,e).removeAttr(this.invalid_attr),t(".error",e).not("small").removeClass("error")},validate:function(t,e,i){for(var n=this.parse_patterns(t),s=n.length,a=this.S(t[0]).closest("form"),r=/submit/.test(e.type),o=0;s>o;o++)if(!n[o]&&(r||i))return this.settings.focus_on_invalid&&t[o].focus(),a.trigger("invalid"),this.S(t[o]).closest("form").attr(this.invalid_attr,""),!1;return(r||i)&&a.trigger("valid"),a.removeAttr(this.invalid_attr),i?!1:!0},parse_patterns:function(t){for(var e=t.length,i=[];e--;)i.push(this.pattern(t[e]));return this.check_validation_and_apply_styles(i)},pattern:function(t){var e=t.getAttribute("type"),i="string"==typeof t.getAttribute("required"),n=t.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(n)&&n.length>0?[t,this.settings.patterns[n],i]:n.length>0?[t,new RegExp(n),i]:this.settings.patterns.hasOwnProperty(e)?[t,this.settings.patterns[e],i]:(n=/.*/,[t,n,i])},check_validation_and_apply_styles:function(e){var i=e.length,n=[],s=this.S(e[0][0]).closest("[data-"+this.attr_name(!0)+"]");for(s.data(this.attr_name(!0)+"-init")||{};i--;){var a,r,o=e[i][0],l=e[i][2],c=o.value.trim(),d=this.S(o).parent(),u=o.getAttribute(this.add_namespace("data-abide-validator")),h="radio"===o.type,p="checkbox"===o.type,f=this.S('label[for="'+o.getAttribute("id")+'"]'),m=l?o.value.length>0:!0;o.getAttribute(this.add_namespace("data-equalto"))&&(u="equalTo"),a=d.is("label")?d.parent():d,h&&l?n.push(this.valid_radio(o,l)):p&&l?n.push(this.valid_checkbox(o,l)):(u&&(r=this.settings.validators[u].apply(this,[o,l,a]),n.push(r)),n.push(e[i][1].test(c)&&m||!l&&o.value.length<1||t(o).attr("disabled")?!0:!1),n=[n.every(function(t){return t})],n[0]?(this.S(o).removeAttr(this.invalid_attr),a.removeClass("error"),f.length>0&&this.settings.error_labels&&f.removeClass("error"),t(o).triggerHandler("valid")):(a.addClass("error"),this.S(o).attr(this.invalid_attr,""),f.length>0&&this.settings.error_labels&&f.addClass("error"),t(o).triggerHandler("invalid")))}return n},valid_checkbox:function(t,e){var t=this.S(t),i=t.is(":checked")||!e;return i?t.removeAttr(this.invalid_attr).parent().removeClass("error"):t.attr(this.invalid_attr,"").parent().addClass("error"),i},valid_radio:function(t){for(var e=t.getAttribute("name"),i=this.S(t).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+e+"']"),n=i.length,s=!1,a=0;n>a;a++)i[a].checked&&(s=!0);for(var a=0;n>a;a++)s?this.S(i[a]).removeAttr(this.invalid_attr).parent().removeClass("error"):this.S(i[a]).attr(this.invalid_attr,"").parent().addClass("error");return s},valid_equal:function(t,e,n){var s=i.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value,a=t.value,r=s===a;return r?(this.S(t).removeAttr(this.invalid_attr),n.removeClass("error")):(this.S(t).attr(this.invalid_attr,""),n.addClass("error")),r},valid_oneof:function(t,e,i,n){var t=this.S(t),s=this.S("["+this.add_namespace("data-oneof")+"]"),a=s.filter(":checked").length>0;if(a?t.removeAttr(this.invalid_attr).parent().removeClass("error"):t.attr(this.invalid_attr,"").parent().addClass("error"),!n){var r=this;s.each(function(){r.valid_oneof.call(r,this,null,null,!0)})}return a}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.3.3",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(t,e){return'<span data-selector="'+t+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+e+'<span class="nub"></span></span>'}},cache:{},init:function(t,e,i){Foundation.inherit(this,"random_str"),this.bindings(e,i)},should_show:function(e){var i=t.extend({},this.settings,this.data_options(e));return"all"===i.show_on?!0:this.small()&&"small"===i.show_on?!0:this.medium()&&"medium"===i.show_on?!0:this.large()&&"large"===i.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(e){var i=this,n=i.S;i.create(this.S(e)),t(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(e){var s=n(this),a=t.extend({},i.settings,i.data_options(s)),r=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&n(e.target).is("a"))return!1;if(/mouse/i.test(e.type)&&i.ie_touch(e))return!1;if(s.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&e.preventDefault(),i.hide(s);else{if(a.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type))return;!a.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&(e.preventDefault(),n(a.tooltip_class+".open").hide(),r=!0),/enter|over/i.test(e.type)?this.timer=setTimeout(function(){i.showTip(s)}.bind(this),i.settings.hover_delay):"mouseout"===e.type||"mouseleave"===e.type?(clearTimeout(this.timer),i.hide(s)):i.showTip(s)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(e){return/mouse/i.test(e.type)&&i.ie_touch(e)?!1:void(("touch"!=t(this).data("tooltip-open-event-type")||"mouseleave"!=e.type)&&("mouse"==t(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(e.type)?i.convert_to_touch(t(this)):i.hide(t(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){i.hide(n(this))})},ie_touch:function(){return!1},showTip:function(t){var e=this.getTip(t);return this.should_show(t,e)?this.show(t):void 0},getTip:function(e){var i=this.selector(e),n=t.extend({},this.settings,this.data_options(e)),s=null;return i&&(s=this.S('span[data-selector="'+i+'"]'+n.tooltip_class)),"object"==typeof s?s:!1},selector:function(t){var e=t.attr("id"),i=t.attr(this.attr_name())||t.attr("data-selector");return(e&&e.length<1||!e)&&"string"!=typeof i&&(i=this.random_str(6),t.attr("data-selector",i)),e&&e.length>0?e:i},create:function(i){var n=this,s=t.extend({},this.settings,this.data_options(i)),a=this.settings.tip_template;"string"==typeof s.tip_template&&e.hasOwnProperty(s.tip_template)&&(a=e[s.tip_template]);var r=t(a(this.selector(i),t("<div></div>").html(i.attr("title")).html())),o=this.inheritable_classes(i);r.addClass(o).appendTo(s.append_to),Modernizr.touch&&(r.append('<span class="tap-to-close">'+s.touch_close_text+"</span>"),r.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){n.hide(i)})),i.removeAttr("title").attr("title","")},reposition:function(e,i,n){var s,a,r,o,l;if(i.css("visibility","hidden").show(),s=e.data("width"),a=i.children(".nub"),r=a.outerHeight(),o=a.outerHeight(),i.css(this.small()?{width:"100%"}:{width:s?s:"auto"}),(l=function(t,e,i,n,s){return t.css({top:e?e:"auto",bottom:n?n:"auto",left:s?s:"auto",right:i?i:"auto"}).end()})(i,e.offset().top+e.outerHeight()+10,"auto","auto",e.offset().left),this.small())l(i,e.offset().top+e.outerHeight()+10,"auto","auto",12.5,t(this.scope).width()),i.addClass("tip-override"),l(a,-r,"auto","auto",e.offset().left);else{var c=e.offset().left;Foundation.rtl&&(a.addClass("rtl"),c=e.offset().left+e.outerWidth()-i.outerWidth()),l(i,e.offset().top+e.outerHeight()+10,"auto","auto",c),i.removeClass("tip-override"),n&&n.indexOf("tip-top")>-1?(Foundation.rtl&&a.addClass("rtl"),l(i,e.offset().top-i.outerHeight(),"auto","auto",c).removeClass("tip-override")):n&&n.indexOf("tip-left")>-1?(l(i,e.offset().top+e.outerHeight()/2-i.outerHeight()/2,"auto","auto",e.offset().left-i.outerWidth()-r).removeClass("tip-override"),a.removeClass("rtl")):n&&n.indexOf("tip-right")>-1&&(l(i,e.offset().top+e.outerHeight()/2-i.outerHeight()/2,"auto","auto",e.offset().left+e.outerWidth()+r).removeClass("tip-override"),a.removeClass("rtl"))}i.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(e){var i=t.extend({},this.settings,this.data_options(e)),n=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(i.additional_inheritable_classes),s=e.attr("class"),a=s?t.map(s.split(" "),function(e){return-1!==t.inArray(e,n)?e:void 0}).join(" "):"";return t.trim(a)},convert_to_touch:function(e){var i=this,n=i.getTip(e),s=t.extend({},i.settings,i.data_options(e));0===n.find(".tap-to-close").length&&(n.append('<span class="tap-to-close">'+s.touch_close_text+"</span>"),n.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){i.hide(e)})),e.data("tooltip-open-event-type","touch")},show:function(t){var e=this.getTip(t);"touch"==t.data("tooltip-open-event-type")&&this.convert_to_touch(t),this.reposition(t,e,t.attr("class")),t.addClass("open"),e.fadeIn(150)},hide:function(t){var e=this.getTip(t);e.fadeOut(150,function(){e.find(".tap-to-close").remove(),e.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),t.removeClass("open")})},off:function(){var e=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(i){t("["+e.attr_name()+"]").eq(i).attr("title",t(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),function(t){var e,i={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',s=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],a=t(n).data("autosize",!0)[0];a.style.lineHeight="99px","99px"===t(a).css("lineHeight")&&s.push("lineHeight"),a.style.lineHeight="",t.fn.autosize=function(n){return this.length?(n=t.extend({},i,n||{}),a.parentNode!==document.body&&t(document.body).append(a),this.each(function(){function i(){var e,i=window.getComputedStyle?window.getComputedStyle(h,null):!1;i?(e=h.getBoundingClientRect().width,(0===e||"number"!=typeof e)&&(e=parseInt(i.width,10)),t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,n){e-=parseInt(i[n],10)})):e=p.width(),a.style.width=Math.max(e,0)+"px"}function r(){var r={};if(e=h,a.className=n.className,a.id=n.id,c=parseInt(p.css("maxHeight"),10),t.each(s,function(t,e){r[e]=p.css(e)}),t(a).css(r).attr("wrap",p.attr("wrap")),i(),window.chrome){var o=h.style.width;h.style.width="0px",h.offsetWidth,h.style.width=o}}function o(){var t,s;e!==h?r():i(),a.value=!h.value&&n.placeholder?(p.attr("placeholder")||"")+n.append:h.value+n.append,a.style.overflowY=h.style.overflowY,s=parseInt(h.style.height,10),a.scrollTop=0,a.scrollTop=9e4,t=a.scrollTop,c&&t>c?(h.style.overflowY="scroll",t=c):(h.style.overflowY="hidden",d>t&&(t=d)),t+=f,s!==t&&(h.style.height=t+"px",m&&n.callback.call(h,h))}function l(){clearTimeout(u),u=setTimeout(function(){var t=p.width();t!==v&&(v=t,o())},parseInt(n.resizeDelay,10))}var c,d,u,h=this,p=t(h),f=0,m=t.isFunction(n.callback),g={height:h.style.height,overflow:h.style.overflow,overflowY:h.style.overflowY,wordWrap:h.style.wordWrap,resize:h.style.resize},v=p.width(),b=p.css("resize");p.data("autosize")||(p.data("autosize",!0),("border-box"===p.css("box-sizing")||"border-box"===p.css("-moz-box-sizing")||"border-box"===p.css("-webkit-box-sizing"))&&(f=p.outerHeight()-p.height()),d=Math.max(parseInt(p.css("minHeight"),10)-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===b?p.css("resize","none"):"both"===b&&p.css("resize","horizontal"),"onpropertychange"in h?"oninput"in h?p.on("input.autosize keyup.autosize",o):p.on("propertychange.autosize",function(){"value"===event.propertyName&&o()}):p.on("input.autosize",o),n.resizeDelay!==!1&&t(window).on("resize.autosize",l),p.on("autosize.resize",o),p.on("autosize.resizeIncludeStyle",function(){e=null,o()}),p.on("autosize.destroy",function(){e=null,clearTimeout(u),t(window).off("resize",l),p.off("autosize").off(".autosize").css(g).removeData("autosize")}),o())})):this}}(window.jQuery||window.$),function(t){t.extend({shiftenter:{settings:{focusClass:"shiftenter",inactiveClass:"shiftenterInactive",hint:"Shift+Enter for line break",metaKey:"shift",pseudoPadding:"0 10"},get_padding:function(t){var e=0,i=0;if(t){var n=t.split(/ +/);switch(n.length){case 1:i=e=parseInt(n[0]);break;case 2:i=parseInt(n[0]),e=parseInt(n[1]);break;default:e=parseInt(n[1]),i=parseInt(n[2])}}return{right:e,bottom:i}},debug:!1,log:function(e){t.shiftenter.debug&&(e="[ShiftEnter] "+e,t.shiftenter.hasFirebug?console.log(e):t.shiftenter.hasConsoleLog?window.console.log(e):alert(e))},hasFirebug:"console"in window&&"firebug"in window.console,hasConsoleLog:"console"in window&&"log"in window.console}}),t.fn.shiftenter=function(e){return e=t.extend({},t.shiftenter.settings,e),this.each(function(){var i=t(this);if(!i.is("textarea"))return void t.shiftenter.log("Ignoring non-textarea element");if(e.hint){t.shiftenter.log("Registering hint");var n=t('<div class="'+e.inactiveClass+'">'+e.hint+"</div>").insertAfter(i),s=function(){var s=i.position(),a=t.shiftenter.get_padding(e.pseudoPadding);n.css("left",s.left+i.outerWidth()-n.outerWidth()-a.right).css("top",s.top+i.outerHeight()-n.outerHeight()-a.bottom)};s(),i.bind("focus.shiftenter",function(){t.shiftenter.log("Gained focus"),s(),n.removeClass(e.inactiveClass).addClass(e.focusClass),i.bind("mousemove.shiftenter",s)}),i.bind("blur.shiftenter",function(){t.shiftenter.log("Lost focus"),n.removeClass(e.focusClass).addClass(e.inactiveClass),i.unbind("mousemove.shiftenter")}),i.bind("resize",function(){s()})}i.bind("keydown.shiftenter",function(n){if(13===n.keyCode){var s=e.metaKey.toLowerCase();if("shift"!=s||!n.shiftKey){if("ctrl"==s&&n.ctrlKey){t.shiftenter.log("Got Ctrl+Enter");var a=this.value;if("number"==typeof this.selectionStart&&"number"==typeof this.selectionEnd){var r=this.selectionStart;this.value=a.slice(0,r)+"\n"+a.slice(this.selectionEnd),this.selectionStart=this.selectionEnd=r+1}else if(document.selection&&document.selection.createRange){this.focus();var o=document.selection.createRange();o.text="\r\n",o.collapse(!1),o.select()}return!1}return t.shiftenter.log("Got Enter, submitting"),n.preventDefault(),i.blur(),i.parents("form").submit(),!1}t.shiftenter.log("Got Shift+Enter")}})})}}(jQuery),function(t){function e(t,i){return new e.prototype.init(t,i)}var n=0,s=function(t){return this[0]=t.startOffset,this[1]=t.endOffset,this.range=t,this};s.prototype.equals=function(){return this[0]===this[1]},t.fn.redactor=function(i){var n=[],s=Array.prototype.slice.call(arguments,1);return this.each("string"==typeof i?function(){var e=t.data(this,"redactor");if("undefined"==typeof e||!t.isFunction(e[i]))return t.error('No such method "'+i+'" for Redactor');var a=e[i].apply(e,s);void 0!==a&&a!==e&&n.push(a)}:function(){t.data(this,"redactor")||t.data(this,"redactor",e(this,i))}),0===n.length?this:1===n.length?n[0]:n},t.Redactor=e,t.Redactor.VERSION="9.1.9",t.Redactor.opts={rangy:!1,iframe:!1,fullpage:!1,css:!1,lang:"en",direction:"ltr",placeholder:!1,wym:!1,mobile:!0,cleanup:!0,tidyHtml:!0,pastePlainText:!1,removeEmptyTags:!0,templateVars:!1,xhtml:!1,visual:!0,focus:!1,tabindex:!1,autoresize:!0,minHeight:!1,maxHeight:!1,shortcuts:!0,autosave:!1,autosaveInterval:60,autosaveFormdata:!0,plugins:!1,linkAnchor:!0,linkEmail:!0,linkProtocol:"http://",linkNofollow:!1,linkSize:50,imageFloatMargin:"10px",imageGetJson:!1,imageUpload:!1,imageUploadParam:"file",fileUpload:!1,fileUploadParam:"file",clipboardUpload:!0,clipboardUploadUrl:!1,dragUpload:!0,dnbImageTypes:["image/png","image/jpeg","image/gif"],s3:!1,uploadFields:!1,observeImages:!0,observeLinks:!0,modalOverlay:!0,tabSpaces:!1,tabFocus:!0,air:!1,airButtons:["formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent"],toolbar:!0,toolbarFixed:!1,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarFixedBox:!1,toolbarExternal:!1,buttonSource:!0,buttonSeparator:'<li class="redactor_separator"></li>',buttonsCustom:{},buttonsAdd:[],buttons:["html","|","formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","image","video","file","table","link","|","alignment","|","horizontalrule"],activeButtons:["deleted","italic","bold","underline","unorderedlist","orderedlist","alignleft","aligncenter","alignright","justify","table"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted",ul:"unorderedlist",ol:"orderedlist",u:"underline",tr:"table",td:"table",table:"table"},activeButtonsAdd:!1,formattingTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],linebreaks:!1,paragraphy:!0,convertDivs:!0,convertLinks:!0,convertImageLinks:!1,convertVideoLinks:!1,formattingPre:!1,phpTags:!1,allowedTags:!1,deniedTags:["html","head","link","body","meta","script","style","applet"],boldTag:"strong",italicTag:"em",indentValue:20,buffer:[],rebuffer:[],textareamode:!1,emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",rBlockTest:/^(P|H[1-6]|LI|ADDRESS|SECTION|HEADER|FOOTER|ASIDE|ARTICLE)$/i,alignmentTags:["P","H1","H2","H3","H4","H5","H6","DD","DL","DT","DIV","TD","BLOCKQUOTE","OUTPUT","FIGCAPTION","ADDRESS","SECTION","HEADER","FOOTER","ASIDE","ARTICLE"],ownLine:["area","body","head","hr","i?frame","link","meta","noscript","style","script","table","tbody","thead","tfoot"],contOwnLine:["li","dt","dt","h[1-6]","option","script"],newLevel:["blockquote","div","dl","fieldset","form","frameset","map","ol","p","pre","select","td","th","tr","ul"],blockLevelElements:["P","H1","H2","H3","H4","H5","H6","DD","DL","DT","DIV","LI","BLOCKQUOTE","OUTPUT","FIGCAPTION","PRE","ADDRESS","SECTION","HEADER","FOOTER","ASIDE","ARTICLE","TD"],langs:{en:{html:"HTML",video:"Insert Video",image:"Insert Image",table:"Table",link:"Link",link_insert:"Insert link",link_edit:"Edit link",unlink:"Unlink",formatting:"Formatting",paragraph:"Normal text",quote:"Quote",code:"Code",header1:"Header 1",header2:"Header 2",header3:"Header 3",header4:"Header 4",header5:"Header 5",bold:"Bold",italic:"Italic",fontcolor:"Font Color",backcolor:"Back Color",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",cancel:"Cancel",insert:"Insert",save:"Save",_delete:"Delete",insert_table:"Insert Table",insert_row_above:"Add Row Above",insert_row_below:"Add Row Below",insert_column_left:"Add Column Left",insert_column_right:"Add Column Right",delete_column:"Delete Column",delete_row:"Delete Row",delete_table:"Delete Table",rows:"Rows",columns:"Columns",add_head:"Add Head",delete_head:"Delete Head",title:"Title",image_position:"Position",none:"None",left:"Left",right:"Right",image_web_link:"Image Web Link",text:"Text",mailto:"Email",web:"URL",video_html_code:"Video Embed Code",file:"Insert File",upload:"Upload",download:"Download",choose:"Choose",or_choose:"Or choose",drop_file_here:"Drop file here",align_left:"Align text to the left",align_center:"Center text",align_right:"Align text to the right",align_justify:"Justify text",horizontalrule:"Insert Horizontal Rule",deleted:"Deleted",anchor:"Anchor",link_new_tab:"Open link in new tab",underline:"Underline",alignment:"Alignment",filename:"Name (optional)",edit:"Edit"}}},e.fn=t.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,TAB:9,CTRL:17,META:91,LEFT:37,LEFT_WIN:91},init:function(e,s){this.rtePaste=!1,this.$element=this.$source=t(e),this.uuid=n++;var a=t.extend(!0,{},t.Redactor.opts);if(this.opts=t.extend({},a,this.$element.data(),s),this.start=!0,this.dropdowns=[],this.sourceHeight=this.$source.css("height"),this.sourceWidth=this.$source.css("width"),this.opts.fullpage&&(this.opts.iframe=!0),this.opts.linebreaks&&(this.opts.paragraphy=!1),this.opts.paragraphy&&(this.opts.linebreaks=!1),this.opts.toolbarFixedBox&&(this.opts.toolbarFixed=!0),this.document=document,this.window=window,this.savedSel=!1,this.cleanlineBefore=new RegExp("^<(/?"+this.opts.ownLine.join("|/?")+"|"+this.opts.contOwnLine.join("|")+")[ >]"),this.cleanlineAfter=new RegExp("^<(br|/?"+this.opts.ownLine.join("|/?")+"|/"+this.opts.contOwnLine.join("|/")+")[ >]"),this.cleannewLevel=new RegExp("^</?("+this.opts.newLevel.join("|")+")[ >]"),this.rTestBlock=new RegExp("^("+this.opts.blockLevelElements.join("|")+")$","i"),this.opts.linebreaks===!1){if(this.opts.allowedTags!==!1){var r=["strong","em","del"],o=["b","i","strike"];
"-1"===t.inArray("p",this.opts.allowedTags)&&this.opts.allowedTags.push("p");for(i in r)"-1"!=t.inArray(r[i],this.opts.allowedTags)&&this.opts.allowedTags.push(o[i])}if(this.opts.deniedTags!==!1){var l=t.inArray("p",this.opts.deniedTags);"-1"!==l&&this.opts.deniedTags.splice(l,l)}}(this.browser("msie")||this.browser("opera"))&&(this.opts.buttons=this.removeFromArrayByValue(this.opts.buttons,"horizontalrule")),this.opts.curLang=this.opts.langs[this.opts.lang],this.buildStart()},toolbarInit:function(t){return{html:{title:t.html,func:"toggle"},formatting:{title:t.formatting,func:"show",dropdown:{p:{title:t.paragraph,func:"formatBlocks"},blockquote:{title:t.quote,func:"formatQuote",className:"redactor_format_blockquote"},pre:{title:t.code,func:"formatBlocks",className:"redactor_format_pre"},h1:{title:t.header1,func:"formatBlocks",className:"redactor_format_h1"},h2:{title:t.header2,func:"formatBlocks",className:"redactor_format_h2"},h3:{title:t.header3,func:"formatBlocks",className:"redactor_format_h3"},h4:{title:t.header4,func:"formatBlocks",className:"redactor_format_h4"},h5:{title:t.header5,func:"formatBlocks",className:"redactor_format_h5"}}},bold:{title:t.bold,exec:"bold"},italic:{title:t.italic,exec:"italic"},deleted:{title:t.deleted,exec:"strikethrough"},underline:{title:t.underline,exec:"underline"},unorderedlist:{title:"&bull; "+t.unorderedlist,exec:"insertunorderedlist"},orderedlist:{title:"1. "+t.orderedlist,exec:"insertorderedlist"},outdent:{title:"< "+t.outdent,func:"indentingOutdent"},indent:{title:"> "+t.indent,func:"indentingIndent"},image:{title:t.image,func:"imageShow"},video:{title:t.video,func:"videoShow"},file:{title:t.file,func:"fileShow"},table:{title:t.table,func:"show",dropdown:{insert_table:{title:t.insert_table,func:"tableShow"},separator_drop1:{name:"separator"},insert_row_above:{title:t.insert_row_above,func:"tableAddRowAbove"},insert_row_below:{title:t.insert_row_below,func:"tableAddRowBelow"},insert_column_left:{title:t.insert_column_left,func:"tableAddColumnLeft"},insert_column_right:{title:t.insert_column_right,func:"tableAddColumnRight"},separator_drop2:{name:"separator"},add_head:{title:t.add_head,func:"tableAddHead"},delete_head:{title:t.delete_head,func:"tableDeleteHead"},separator_drop3:{name:"separator"},delete_column:{title:t.delete_column,func:"tableDeleteColumn"},delete_row:{title:t.delete_row,func:"tableDeleteRow"},delete_table:{title:t.delete_table,func:"tableDeleteTable"}}},link:{title:t.link,func:"show",dropdown:{link:{title:t.link_insert,func:"linkShow"},unlink:{title:t.unlink,exec:"unlink"}}},fontcolor:{title:t.fontcolor,func:"show"},backcolor:{title:t.backcolor,func:"show"},alignment:{title:t.alignment,func:"show",dropdown:{alignleft:{title:t.align_left,func:"alignmentLeft"},aligncenter:{title:t.align_center,func:"alignmentCenter"},alignright:{title:t.align_right,func:"alignmentRight"},justify:{title:t.align_justify,func:"alignmentJustify"}}},alignleft:{title:t.align_left,func:"alignmentLeft"},aligncenter:{title:t.align_center,func:"alignmentCenter"},alignright:{title:t.align_right,func:"alignmentRight"},justify:{title:t.align_justify,func:"alignmentJustify"},horizontalrule:{exec:"inserthorizontalrule",title:t.horizontalrule}}},callback:function(e,i,n){var s=this.opts[e+"Callback"];return t.isFunction(s)?i===!1?s.call(this,n):s.call(this,i,n):n},destroy:function(){clearInterval(this.autosaveInterval),t(window).off(".redactor"),this.$source.off("redactor-textarea"),this.$element.off(".redactor").removeData("redactor");var e=this.get();if(this.opts.textareamode)this.$box.after(this.$source),this.$box.remove(),this.$source.val(e).show();else{var i=this.$editor;this.opts.iframe&&(i=this.$element),this.$box.after(i),this.$box.remove(),i.removeClass("redactor_editor").removeClass("redactor_editor_wym").removeAttr("contenteditable").html(e).show()}this.opts.air&&t("#redactor_air_"+this.uuid).remove()},getObject:function(){return t.extend({},this)},getEditor:function(){return this.$editor},getBox:function(){return this.$box},getIframe:function(){return this.opts.iframe?this.$frame:!1},getToolbar:function(){return this.$toolbar?this.$toolbar:!1},get:function(){return this.$source.val()},getCodeIframe:function(){this.$editor.removeAttr("contenteditable").removeAttr("dir");var t=this.outerHtml(this.$frame.contents().children());return this.$editor.attr({contenteditable:!0,dir:this.opts.direction}),t},set:function(t,e,i){t=t.toString(),t=t.replace(/\$/g,"&#36;"),this.opts.fullpage?this.setCodeIframe(t):this.setEditor(t,e),""==t&&(i=!1),i!==!1&&this.placeholderRemove()},setEditor:function(t,e){e!==!1&&(t=this.cleanSavePreCode(t),t=this.cleanStripTags(t),t=this.cleanConvertProtected(t),t=this.cleanConvertInlineTags(t,!0),t=this.opts.linebreaks===!1?this.cleanConverters(t):t.replace(/<p(.*?)>([\w\W]*?)<\/p>/gi,"$2<br>")),t=t.replace(/&amp;#36;/g,"$"),t=this.cleanEmpty(t),this.$editor.html(t),this.setNonEditable(),this.setSpansVerified(),this.sync()},setCodeIframe:function(t){var e=this.iframePage();this.$frame[0].src="about:blank",t=this.cleanConvertProtected(t),t=this.cleanConvertInlineTags(t),t=this.cleanRemoveSpaces(t),e.open(),e.write(t),e.close(),this.opts.fullpage&&(this.$editor=this.$frame.contents().find("body").attr({contenteditable:!0,dir:this.opts.direction})),this.setNonEditable(),this.setSpansVerified(),this.sync()},setFullpageOnInit:function(t){t=this.cleanSavePreCode(t,!0),t=this.cleanConverters(t),t=this.cleanEmpty(t),this.$editor.html(t),this.setNonEditable(),this.setSpansVerified(),this.sync()},setSpansVerified:function(){var e=this.$editor.find("span"),i="inline";t.each(e,function(){var e=this.outerHTML,n=new RegExp("<"+this.tagName,"gi"),s=e.replace(n,"<"+i);n=new RegExp("</"+this.tagName,"gi"),s=s.replace(n,"</"+i),t(this).replaceWith(s)})},setSpansVerifiedHtml:function(t){return t=t.replace(/<span(.*?)>/,"<inline$1>"),t.replace(/<\/span>/,"</inline>")},setNonEditable:function(){this.$editor.find(".noneditable").attr("contenteditable",!1)},sync:function(){var e="";if(this.cleanUnverified(),e=this.opts.fullpage?this.getCodeIframe():this.$editor.html(),e=this.syncClean(e),e=this.cleanRemoveEmptyTags(e),e=e.replace(/<\/li><(ul|ol)>([\w\W]*?)<\/(ul|ol)>/gi,"<$1>$2</$1></li>"),"<br>"===t.trim(e)&&(e=""),this.opts.xhtml){var i=["br","hr","img","link","input","meta"];t.each(i,function(t,i){e=e.replace(new RegExp("<"+i+"(.*?[^/$]?)>","gi"),"<"+i+"$1 />")})}e=this.callback("syncBefore",!1,e),this.$source.val(e),this.callback("syncAfter",!1,e),this.start===!1&&this.callback("change",!1,e)},syncClean:function(e){return this.opts.fullpage||(e=this.cleanStripTags(e)),e=t.trim(e),e=this.placeholderRemoveFromCode(e),e=e.replace(/&#x200b;/gi,""),e=e.replace(/&#8203;/gi,""),e=e.replace(/<\/a>&nbsp;/gi,"</a> "),this.opts.linkNofollow&&(e=e.replace(/<a(.*?)rel="nofollow"(.*?)>/gi,"<a$1$2>"),e=e.replace(/<a(.*?)>/gi,'<a$1 rel="nofollow">')),e=e.replace("<!--?php","<?php"),e=e.replace("?-->","?>"),e=e.replace(/<(.*?)class="noeditable"(.*?) contenteditable="false"(.*?)>/gi,'<$1class="noeditable"$2$3>'),e=e.replace(/ data-tagblock=""/gi,""),e=e.replace(/<br\s?\/?>\n?<\/(P|H[1-6]|LI|ADDRESS|SECTION|HEADER|FOOTER|ASIDE|ARTICLE)>/gi,"</$1>"),e=e.replace(/<span(.*?)id="redactor-image-box"(.*?)>([\w\W]*?)<img(.*?)><\/span>/i,"$3<img$4>"),e=e.replace(/<span(.*?)id="redactor-image-resizer"(.*?)>(.*?)<\/span>/i,""),e=e.replace(/<span(.*?)id="redactor-image-editter"(.*?)>(.*?)<\/span>/i,""),e=e.replace(/<font(.*?)>([\w\W]*?)<\/font>/gi,"$2"),e=e.replace(/<span(.*?)>([\w\W]*?)<\/span>/gi,"$2"),e=e.replace(/<inline>/gi,"<span>"),e=e.replace(/<inline /gi,"<span "),e=e.replace(/<\/inline>/gi,"</span>"),e=e.replace(/<span(.*?)class="redactor_placeholder"(.*?)>([\w\W]*?)<\/span>/gi,""),e=e.replace(/<span>([\w\W]*?)<\/span>/gi,"$1"),e=e.replace(/&amp;/gi,"&"),e=e.replace(/\u2122/gi,"&trade;"),e=e.replace(/\xa9/gi,"&copy;"),e=this.cleanReConvertProtected(e)},buildStart:function(){this.content="",this.$box=t('<div class="redactor_box" />'),"TEXTAREA"===this.$source[0].tagName&&(this.opts.textareamode=!0),this.opts.mobile===!1&&this.isMobile()?this.buildMobile():(this.buildContent(),this.opts.iframe?(this.opts.autoresize=!1,this.iframeStart()):this.opts.textareamode?this.buildFromTextarea():this.buildFromElement(),this.opts.iframe||(this.buildOptions(),this.buildAfter()))},buildMobile:function(){this.opts.textareamode||(this.$editor=this.$source,this.$editor.hide(),this.$source=this.buildCodearea(this.$editor),this.$source.val(this.content)),this.$box.insertAfter(this.$source).append(this.$source)},buildContent:function(){this.content=t.trim(this.opts.textareamode?this.$source.val():this.$source.html())},buildFromTextarea:function(){this.$editor=t("<div />"),this.$box.insertAfter(this.$source).append(this.$editor).append(this.$source),this.buildAddClasses(this.$editor),this.buildEnable()},buildFromElement:function(){this.$editor=this.$source,this.$source=this.buildCodearea(this.$editor),this.$box.insertAfter(this.$editor).append(this.$editor).append(this.$source),this.buildEnable()},buildCodearea:function(e){return t("<textarea />").attr("name",e.attr("id")).css("height",this.sourceHeight)},buildAddClasses:function(e){t.each(this.$source.get(0).className.split(/\s+/),function(t,i){e.addClass("redactor_"+i)})},buildEnable:function(){this.$editor.addClass("redactor_editor").attr({contenteditable:!0,dir:this.opts.direction}),this.$source.attr("dir",this.opts.direction).hide(),this.set(this.content,!0,!1)},buildOptions:function(){var t=this.$editor;this.opts.iframe&&(t=this.$frame),this.opts.tabindex&&t.attr("tabindex",this.opts.tabindex),this.opts.minHeight&&t.css("min-height",this.opts.minHeight+"px"),this.opts.maxHeight&&(this.opts.autoresize=!1,this.sourceHeight=this.opts.maxHeight),this.opts.wym&&this.$editor.addClass("redactor_editor_wym"),this.opts.autoresize||t.css("height",this.sourceHeight)},buildAfter:function(){if(this.start=!1,this.opts.toolbar&&(this.opts.toolbar=this.toolbarInit(this.opts.curLang),this.toolbarBuild()),this.modalTemplatesInit(),this.buildPlugins(),this.buildBindKeyboard(),this.opts.autosave&&this.autosave(),setTimeout(t.proxy(this.observeStart,this),4),this.browser("mozilla"))try{this.document.execCommand("enableObjectResizing",!1,!1),this.document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}this.opts.focus&&setTimeout(t.proxy(this.focus,this),100),this.opts.visual||setTimeout(t.proxy(function(){this.opts.visual=!0,this.toggle(!1)},this),200),this.callback("init")},buildBindKeyboard:function(){this.dblEnter=0,this.opts.dragUpload&&this.opts.imageUpload!==!1&&this.$editor.on("drop.redactor",t.proxy(this.buildEventDrop,this)),this.$editor.on("paste.redactor",t.proxy(this.buildEventPaste,this)),this.$editor.on("keydown.redactor",t.proxy(this.buildEventKeydown,this)),this.$editor.on("keyup.redactor",t.proxy(this.buildEventKeyup,this)),t.isFunction(this.opts.textareaKeydownCallback)&&this.$source.on("keydown.redactor-textarea",t.proxy(this.opts.textareaKeydownCallback,this)),t.isFunction(this.opts.focusCallback)&&this.$editor.on("focus.redactor",t.proxy(this.opts.focusCallback,this));var e;t(document).mousedown(function(i){e=t(i.target)}),this.$editor.on("blur.redactor",t.proxy(function(i){t(e).hasClass("redactor_toolbar")||0!=t(e).parents(".redactor_toolbar").size()||(this.selectall=!1,t.isFunction(this.opts.blurCallback)&&this.callback("blur",i))},this))},buildEventDrop:function(e){if(e=e.originalEvent||e,void 0===window.FormData||!e.dataTransfer)return!0;var i=e.dataTransfer.files.length;if(0==i)return!0;e.preventDefault();var n=e.dataTransfer.files[0];if(this.opts.dnbImageTypes!==!1&&-1==this.opts.dnbImageTypes.indexOf(n.type))return!0;this.bufferSet();var s=t('<div id="redactor-progress-drag" class="redactor-progress redactor-progress-striped"><div id="redactor-progress-bar" class="redactor-progress-bar" style="width: 100%;"></div></div>');t(document.body).append(s),this.opts.s3===!1?this.dragUploadAjax(this.opts.imageUpload,n,!0,s,e,this.opts.imageUploadParam):this.s3uploadFile(n)},buildEventPaste:function(e){var i=!1;if(this.browser("webkit")&&-1===navigator.userAgent.indexOf("Chrome")){var n=this.browser("version").split(".");n[0]<536&&(i=!0)}if(i)return!0;if(this.browser("opera"))return!0;if(this.opts.clipboardUpload&&this.buildEventClipboardUpload(e))return!0;if(this.opts.cleanup){this.rtePaste=!0,this.selectionSave(),this.selectall||(this.opts.autoresize===!0&&this.fullscreen!==!0?(this.$editor.height(this.$editor.height()),this.saveScroll=this.document.body.scrollTop):this.saveScroll=this.$editor.scrollTop());var s=this.extractContent();setTimeout(t.proxy(function(){var t=this.extractContent();this.$editor.append(s),this.selectionRestore();var e=this.getFragmentHtml(t);this.pasteClean(e),this.opts.autoresize===!0&&this.fullscreen!==!0&&this.$editor.css("height","auto")},this),1)}},buildEventClipboardUpload:function(e){var i=e.originalEvent||e;if(this.clipboardFilePaste=!1,"undefined"==typeof i.clipboardData)return!1;if(i.clipboardData.items){var n=i.clipboardData.items[0].getAsFile();if(null!==n){this.bufferSet(),this.clipboardFilePaste=!0;var s=new FileReader;return s.onload=t.proxy(this.pasteClipboardUpload,this),s.readAsDataURL(n),!0}}return!1},buildEventKeydown:function(e){if(this.rtePaste)return!1;var i=e.which,n=e.ctrlKey||e.metaKey,s=this.getParent(),a=this.getCurrent(),r=this.getBlock(),o=!1;if(this.callback("keydown",e),this.imageResizeHide(!1),(s&&"PRE"===t(s).get(0).tagName||a&&"PRE"===t(a).get(0).tagName)&&(o=!0,i===this.keyCode.DOWN&&this.insertAfterLastElement(r)),i===this.keyCode.DOWN&&(s&&"BLOCKQUOTE"===t(s)[0].tagName&&this.insertAfterLastElement(s),a&&"BLOCKQUOTE"===t(a)[0].tagName&&this.insertAfterLastElement(a),s&&"P"===t(s)[0].tagName&&"BLOCKQUOTE"==t(s).parent()[0].tagName&&this.insertAfterLastElement(s,t(s).parent()[0]),a&&"P"===t(a)[0].tagName&&s&&"BLOCKQUOTE"==t(s)[0].tagName&&this.insertAfterLastElement(a,s)),n&&!e.shiftKey&&this.shortcuts(e,i),n&&90===i&&!e.shiftKey&&!e.altKey)return e.preventDefault(),void(this.opts.buffer.length?this.bufferUndo():this.document.execCommand("undo",!1,!1));if(n&&90===i&&e.shiftKey&&!e.altKey)return e.preventDefault(),void(0!=this.opts.rebuffer.length?this.bufferRedo():this.document.execCommand("redo",!1,!1));if(n&&65===i?this.selectall=!0:i==this.keyCode.LEFT_WIN||n||(this.selectall=!1),i!=this.keyCode.ENTER||e.shiftKey||e.ctrlKey||e.metaKey)i===this.keyCode.ENTER&&(e.ctrlKey||e.shiftKey)&&(this.bufferSet(),e.preventDefault(),this.insertLineBreak());else{if(this.browser("msie")&&1==s.nodeType&&("TD"==s.tagName||"TH"==s.tagName))return e.preventDefault(),this.bufferSet(),this.insertNode(document.createElement("br")),this.callback("enter",e),!1;if(r&&("BLOCKQUOTE"==r.tagName||"BLOCKQUOTE"==t(r).parent()[0].tagName))if(this.isEndOfElement()){if(1==this.dblEnter){var l,c;if("BLOCKQUOTE"==r.tagName?(c="br",l=r):(c="p",l=t(r).parent()[0]),e.preventDefault(),this.insertingAfterLastElement(l),this.dblEnter=0,"p"==c)t(r).parent().find("p").last().remove();else{var d=t.trim(t(r).html());t(r).html(d.replace(/<br\s?\/?>$/i,""))}return}this.dblEnter++}else this.dblEnter++;if(o===!0)return this.buildEventKeydownPre(e,a);if(!this.opts.linebreaks)if(r&&this.opts.rBlockTest.test(r.tagName))this.bufferSet(),setTimeout(t.proxy(function(){var e=this.getBlock();if("DIV"===e.tagName&&!t(e).hasClass("redactor_editor")){var i=t("<p>"+this.opts.invisibleSpace+"</p>");t(e).replaceWith(i),this.selectionStart(i)}},this),1);else if(r===!1){this.bufferSet();var u=t("<p>"+this.opts.invisibleSpace+"</p>");return this.insertNode(u[0]),this.selectionStart(u),this.callback("enter",e),!1}if(this.opts.linebreaks){if(!r||!this.opts.rBlockTest.test(r.tagName))return this.buildEventKeydownInsertLineBreak(e);this.bufferSet(),setTimeout(t.proxy(function(){var e=this.getBlock();"DIV"!==e.tagName&&"P"!==e.tagName||t(e).hasClass("redactor_editor")||this.replaceLineBreak(e)},this),1)}if("BLOCKQUOTE"==r.tagName||"FIGCAPTION"==r.tagName)return this.buildEventKeydownInsertLineBreak(e);this.callback("enter",e)}return i===this.keyCode.TAB&&this.opts.shortcuts?this.buildEventKeydownTab(e,o):void(i===this.keyCode.BACKSPACE&&this.buildEventKeydownBackspace(a))},buildEventKeydownPre:function(e,i){e.preventDefault(),this.bufferSet();var n=t(i).parent().text();return this.insertNode(document.createTextNode("\n")),-1==n.search(/\s$/)&&this.insertNode(document.createTextNode("\n")),this.sync(),this.callback("enter",e),!1},buildEventKeydownTab:function(t,e){return this.opts.tabFocus?this.isEmpty(this.get())&&this.opts.tabSpaces===!1?!0:(t.preventDefault(),e!==!0||t.shiftKey?this.opts.tabSpaces!==!1?(this.bufferSet(),this.insertNode(document.createTextNode(Array(this.opts.tabSpaces+1).join("\xa0"))),this.sync(),!1):(t.shiftKey?this.indentingOutdent():this.indentingIndent(),!1):(this.bufferSet(),this.insertNode(document.createTextNode("	")),this.sync(),!1)):!0},buildEventKeydownBackspace:function(e){if("undefined"!=typeof e.tagName&&/^(H[1-6])$/i.test(e.tagName)){var i;i=t(this.opts.linebreaks===!1?"<p>"+this.opts.invisibleSpace+"</p>":"<br>"+this.opts.invisibleSpace),t(e).replaceWith(i),this.selectionStart(i)}"undefined"!=typeof e.nodeValue&&null!==e.nodeValue&&e.remove&&3===e.nodeType&&null==e.nodeValue.match(/[^/\u200B]/g)&&e.remove()},buildEventKeydownInsertLineBreak:function(t){this.bufferSet(),t.preventDefault(),this.insertLineBreak(),this.callback("enter",t)},buildEventKeyup:function(e){if(this.rtePaste)return!1;var i=e.which,n=this.getParent(),s=this.getCurrent();if(!this.opts.linebreaks&&3==s.nodeType&&(0==n||"BODY"==n.tagName)){var a=t("<p>").append(t(s).clone());t(s).replaceWith(a);var r=t(a).next();"undefined"!=typeof r[0]&&"BR"==r[0].tagName&&r.remove(),this.selectionEnd(a)}return(this.opts.convertLinks||this.opts.convertImageLinks||this.opts.convertVideoLinks)&&i===this.keyCode.ENTER&&this.buildEventKeyupConverters(),i===this.keyCode.DELETE||i===this.keyCode.BACKSPACE?this.formatEmpty(e):(this.callback("keyup",e),void this.sync())},buildEventKeyupConverters:function(){this.formatLinkify(this.opts.linkProtocol,this.opts.convertLinks,this.opts.convertImageLinks,this.opts.convertVideoLinks,this.opts.linkSize),setTimeout(t.proxy(function(){this.opts.convertImageLinks&&this.observeImages(),this.opts.observeLinks&&this.observeLinks()},this),5)},buildPlugins:function(){this.opts.plugins&&t.each(this.opts.plugins,t.proxy(function(e,i){RedactorPlugins[i]&&(t.extend(this,RedactorPlugins[i]),t.isFunction(RedactorPlugins[i].init)&&this.init())},this))},iframeStart:function(){this.iframeCreate(),this.opts.textareamode?this.iframeAppend(this.$source):(this.$sourceOld=this.$source.hide(),this.$source=this.buildCodearea(this.$sourceOld),this.iframeAppend(this.$sourceOld))},iframeAppend:function(t){this.$source.attr("dir",this.opts.direction).hide(),this.$box.insertAfter(t).append(this.$frame).append(this.$source)},iframeCreate:function(){this.$frame=t('<iframe style="width: 100%;" frameborder="0" />').one("load",t.proxy(function(){if(this.opts.fullpage){this.iframePage(),""===this.content&&(this.content=this.opts.invisibleSpace),this.$frame.contents()[0].write(this.content),this.$frame.contents()[0].close();var e=setInterval(t.proxy(function(){this.$frame.contents().find("body").html()&&(clearInterval(e),this.iframeLoad())},this),0)}else this.iframeLoad()},this))},iframeDoc:function(){return this.$frame[0].contentWindow.document},iframePage:function(){var t=this.iframeDoc();return t.documentElement&&t.removeChild(t.documentElement),t},iframeAddCss:function(e){e=e||this.opts.css,this.isString(e)&&this.$frame.contents().find("head").append('<link rel="stylesheet" href="'+e+'" />'),t.isArray(e)&&t.each(e,t.proxy(function(t,e){this.iframeAddCss(e)},this))},iframeLoad:function(){this.$editor=this.$frame.contents().find("body").attr({contenteditable:!0,dir:this.opts.direction}),this.$editor[0]&&(this.document=this.$editor[0].ownerDocument,this.window=this.document.defaultView||window),this.iframeAddCss(),this.opts.fullpage?this.setFullpageOnInit(this.$editor.html()):this.set(this.content,!0,!1),this.buildOptions(),this.buildAfter()},placeholderStart:function(e){return this.isEmpty(e)&&(this.$element.attr("placeholder")&&(this.opts.placeholder=this.$element.attr("placeholder")),""===this.opts.placeholder&&(this.opts.placeholder=!1),this.opts.placeholder!==!1)?(this.opts.focus=!1,this.$editor.one("focus.redactor_placeholder",t.proxy(this.placeholderFocus,this)),t('<span class="redactor_placeholder" data-redactor="verified">').attr("contenteditable",!1).text(this.opts.placeholder)):!1},placeholderFocus:function(){this.$editor.find("span.redactor_placeholder").remove();var t="";this.opts.linebreaks===!1&&(t=this.opts.emptyHtml),this.$editor.off("focus.redactor_placeholder"),this.$editor.html(t),this.opts.linebreaks===!1?this.selectionStart(this.$editor.children()[0]):this.focus(),this.sync()},placeholderRemove:function(){this.opts.placeholder=!1,this.$editor.find("span.redactor_placeholder").remove(),this.$editor.off("focus.redactor_placeholder")},placeholderRemoveFromCode:function(t){return t.replace(/<span class="redactor_placeholder"(.*?)>(.*?)<\/span>/i,"")},shortcuts:function(t,e){this.opts.shortcuts&&(t.altKey?48===e?this.shortcutsLoadFormat(t,"p"):49===e?this.shortcutsLoadFormat(t,"h1"):50===e?this.shortcutsLoadFormat(t,"h2"):51===e?this.shortcutsLoadFormat(t,"h3"):52===e?this.shortcutsLoadFormat(t,"h4"):53===e?this.shortcutsLoadFormat(t,"h5"):54===e&&this.shortcutsLoadFormat(t,"h6"):77===e?this.shortcutsLoad(t,"removeFormat"):66===e?this.shortcutsLoad(t,"bold"):73===e?this.shortcutsLoad(t,"italic"):74===e?this.shortcutsLoad(t,"insertunorderedlist"):75===e?this.shortcutsLoad(t,"insertorderedlist"):72===e?this.shortcutsLoad(t,"superscript"):76===e&&this.shortcutsLoad(t,"subscript"))},shortcutsLoad:function(t,e){t.preventDefault(),this.execCommand(e,!1)},shortcutsLoadFormat:function(t,e){t.preventDefault(),this.formatBlocks(e)},focus:function(){this.browser("opera")?this.$editor.focus():this.window.setTimeout(t.proxy(this.focusSet,this,!0),1)},focusEnd:function(){this.focusSet()},focusSet:function(t){this.$editor.focus();var e=this.getRange();e.selectNodeContents(this.$editor[0]),e.collapse(t||!1);var i=this.getSelection();i.removeAllRanges(),i.addRange(e)},toggle:function(t){this.opts.visual?this.toggleCode(t):this.toggleVisual()},toggleVisual:function(){var t=this.$source.hide().val();"undefined"!=typeof this.modified&&(this.modified=this.cleanRemoveSpaces(this.modified,!1)!==this.cleanRemoveSpaces(t,!1)),this.modified&&(this.opts.fullpage&&""===t?this.setFullpageOnInit(t):(this.set(t),this.opts.fullpage&&this.buildBindKeyboard())),this.opts.iframe?this.$frame.show():this.$editor.show(),this.opts.fullpage&&this.$editor.attr("contenteditable",!0),this.$source.off("keydown.redactor-textarea-indenting"),this.$editor.focus(),this.selectionRestore(),this.observeStart(),this.buttonActiveVisual(),this.buttonInactive("html"),this.opts.visual=!0},toggleCode:function(t){t!==!1&&this.selectionSave();var e=null;this.opts.iframe?(e=this.$frame.height(),this.opts.fullpage&&this.$editor.removeAttr("contenteditable"),this.$frame.hide()):(e=this.$editor.innerHeight(),this.$editor.hide());var i=this.$source.val();""!==i&&this.opts.tidyHtml&&this.$source.val(this.cleanHtml(i)),this.modified=i,this.$source.height(e).show().focus(),this.$source.on("keydown.redactor-textarea-indenting",this.textareaIndenting),this.buttonInactiveVisual(),this.buttonActive("html"),this.opts.visual=!1},textareaIndenting:function(e){if(9===e.keyCode){var i=t(this),n=i.get(0).selectionStart;return i.val(i.val().substring(0,n)+"	"+i.val().substring(i.get(0).selectionEnd)),i.get(0).selectionStart=i.get(0).selectionEnd=n+1,!1}},autosave:function(){var e=!1,i=this.get(),n="";n=1==this.opts.autosaveFormdata?this.$source.closest("form").serialize():this.$source.attr("name")+"="+escape(encodeURIComponent(i)),this.autosaveInterval=setInterval(t.proxy(function(){e!==i&&t.ajax({url:this.opts.autosave,type:"post",data:n,success:t.proxy(function(t){this.callback("autosave",!1,t),e=i},this)})},this),1e3*this.opts.autosaveInterval)},toolbarBuild:function(){if(this.opts.air)this.opts.buttons=this.opts.airButtons;else if(!this.opts.buttonSource){var e=this.opts.buttons.indexOf("html"),i=this.opts.buttons[e+1];this.opts.buttons.splice(e,1),"|"===i&&this.opts.buttons.splice(e,1)}if(t.extend(this.opts.toolbar,this.opts.buttonsCustom),t.each(this.opts.buttonsAdd,t.proxy(function(t,e){this.opts.buttons.push(e)},this)),this.opts.toolbar&&t.each(this.opts.toolbar.formatting.dropdown,t.proxy(function(e){"-1"==t.inArray(e,this.opts.formattingTags)&&delete this.opts.toolbar.formatting.dropdown[e]},this)),0===this.opts.buttons.length)return!1;if(this.airEnable(),this.$toolbar=t("<ul>").addClass("redactor_toolbar").attr("id","redactor_toolbar_"+this.uuid),this.opts.air?(this.$air=t('<div class="redactor_air">').attr("id","redactor_air_"+this.uuid).hide(),this.$air.append(this.$toolbar),t("body").append(this.$air)):this.opts.toolbarExternal?t(this.opts.toolbarExternal).html(this.$toolbar):this.$box.prepend(this.$toolbar),t.each(this.opts.buttons,t.proxy(function(e,i){if("|"===i)this.$toolbar.append(t(this.opts.buttonSeparator));else if(this.opts.toolbar[i]){var n=this.opts.toolbar[i];if(this.opts.fileUpload===!1&&"file"===i)return!0;this.$toolbar.append(t("<li>").append(this.buttonBuild(i,n)))}},this)),this.$toolbar.find("a").attr("tabindex","-1"),this.opts.toolbarFixed&&(this.toolbarObserveScroll(),t(this.opts.toolbarFixedTarget).on("scroll.redactor",t.proxy(this.toolbarObserveScroll,this))),this.opts.activeButtons){var n=t.proxy(this.buttonActiveObserver,this);this.$editor.on("mouseup.redactor keyup.redactor",n)}},toolbarObserveScroll:function(){var e=t(this.opts.toolbarFixedTarget).scrollTop(),i=this.$box.offset().top,n=0,s=i+this.$box.height()+40;if(e>i){var a="100%";this.opts.toolbarFixedBox&&(n=this.$box.offset().left,a=this.$box.innerWidth(),this.$toolbar.addClass("toolbar_fixed_box")),this.toolbarFixed=!0,this.$toolbar.css({position:"fixed",width:a,zIndex:1005,top:this.opts.toolbarFixedTopOffset+"px",left:n}),s>e?this.$toolbar.css("visibility","visible"):this.$toolbar.css("visibility","hidden")}else this.toolbarFixed=!1,this.$toolbar.css({position:"relative",width:"auto",top:0,left:n}),this.opts.toolbarFixedBox&&this.$toolbar.removeClass("toolbar_fixed_box")},airEnable:function(){this.opts.air&&this.$editor.on("mouseup.redactor keyup.redactor",this,t.proxy(function(e){var i=this.getSelectionText();if("mouseup"===e.type&&""!=i&&this.airShow(e),"keyup"===e.type&&e.shiftKey&&""!=i){var n=t(this.getElement(this.getSelection().focusNode)),s=n.offset();s.height=n.height(),this.airShow(s,!0)}},this))},airShow:function(e,i){if(this.opts.air){var n,s;if(t(".redactor_air").hide(),i)n=e.left,s=e.top+e.height+14,this.opts.iframe&&(s+=this.$box.position().top-t(this.document).scrollTop(),n+=this.$box.position().left);else{var a=this.$air.innerWidth();n=e.clientX,t(this.document).width()<n+a&&(n-=a),s=e.clientY+14,this.opts.iframe?(s+=this.$box.position().top,n+=this.$box.position().left):s+=t(this.document).scrollTop()}this.$air.css({left:n+"px",top:s+"px"}).show(),this.airBindHide()}},airBindHide:function(){if(this.opts.air){var e=t.proxy(function(e){t(e).on("mousedown.redactor",t.proxy(function(i){0===t(i.target).closest(this.$toolbar).length&&(this.$air.fadeOut(100),this.selectionRemove(),t(e).off(i))},this)).on("keydown.redactor",t.proxy(function(i){i.which===this.keyCode.ESC&&this.getSelection().collapseToStart(),this.$air.fadeOut(100),t(e).off(i)},this))},this);e(document),this.opts.iframe&&e(this.document)}},airBindMousemoveHide:function(){if(this.opts.air){var e=t.proxy(function(e){t(e).on("mousemove.redactor",t.proxy(function(i){0===t(i.target).closest(this.$toolbar).length&&(this.$air.fadeOut(100),t(e).off(i))},this))},this);e(document),this.opts.iframe&&e(this.document)}},dropdownBuild:function(e,i){t.each(i,t.proxy(function(i,n){n.className||(n.className="");var s;"separator"===n.name?s=t('<a class="redactor_separator_drop">'):(s=t('<a href="#" class="'+n.className+" redactor_dropdown_"+i+'">'+n.title+"</a>"),s.on("click",t.proxy(function(t){t.preventDefault&&t.preventDefault(),this.browser("msie")&&(t.returnValue=!1),n.callback&&n.callback.call(this,i,s,n,t),n.exec&&this.execCommand(n.exec,i),n.func&&this[n.func](i),this.buttonActiveObserver(),this.opts.air&&this.$air.fadeOut(100)},this))),e.append(s)},this))},dropdownShow:function(e,i){if(!this.opts.visual)return e.preventDefault(),!1;var n=this.$toolbar.find(".redactor_dropdown_box_"+i),s=this.buttonGet(i);if(s.hasClass("dropact"))this.dropdownHideAll();else{this.dropdownHideAll(),this.buttonActive(i),s.addClass("dropact");var a=s.position();this.toolbarFixed&&(a=s.offset());var r=n.width();a.left+r>t(document).width()&&(a.left-=r);var o=a.left+"px",l=29,c="absolute",d=l+"px";this.opts.toolbarFixed&&this.toolbarFixed?c="fixed":this.opts.air||(d=a.top+l+"px"),n.css({position:c,left:o,top:d}).show()}var u=t.proxy(function(t){this.dropdownHide(t,n)},this);t(document).one("click",u),this.$editor.one("click",u),e.stopPropagation(),this.$editor.focus()},dropdownHideAll:function(){this.$toolbar.find("a.dropact").removeClass("redactor_act").removeClass("dropact"),t(".redactor_dropdown").hide()},dropdownHide:function(e,i){t(e.target).hasClass("dropact")||(i.removeClass("dropact"),this.dropdownHideAll())},buttonBuild:function(e,i){var n=t('<a href="javascript:;" title="'+i.title+'" tabindex="-1" class="redactor_btn redactor_btn_'+e+'"></a>');if(n.on("click",t.proxy(function(t){return t.preventDefault&&t.preventDefault(),this.browser("msie")&&(t.returnValue=!1),n.hasClass("redactor_button_disabled")?!1:(this.isFocused()!==!1||i.exec||this.$editor.focus(),i.exec?(this.$editor.focus(),this.execCommand(i.exec,e),this.airBindMousemoveHide()):i.func&&"show"!==i.func?(this[i.func](e),this.airBindMousemoveHide()):i.callback?(i.callback.call(this,e,n,i,t),this.airBindMousemoveHide()):i.dropdown&&this.dropdownShow(t,e),void this.buttonActiveObserver(!1,e))},this)),i.dropdown){var s=t('<div class="redactor_dropdown redactor_dropdown_box_'+e+'" style="display: none;">');s.appendTo(this.$toolbar),this.dropdownBuild(s,i.dropdown)}return n},buttonGet:function(e){return this.opts.toolbar?t(this.$toolbar.find("a.redactor_btn_"+e)):!1},buttonActiveToggle:function(t){var e=this.buttonGet(t);e.hasClass("redactor_act")?e.removeClass("redactor_act"):e.addClass("redactor_act")},buttonActive:function(t){this.buttonGet(t).addClass("redactor_act")},buttonInactive:function(t){this.buttonGet(t).removeClass("redactor_act")},buttonInactiveAll:function(e){t.each(this.opts.toolbar,t.proxy(function(t){t!=e&&this.buttonInactive(t)},this))},buttonActiveVisual:function(){this.$toolbar.find("a.redactor_btn").not("a.redactor_btn_html").removeClass("redactor_button_disabled")},buttonInactiveVisual:function(){this.$toolbar.find("a.redactor_btn").not("a.redactor_btn_html").addClass("redactor_button_disabled")},buttonChangeIcon:function(t,e){this.buttonGet(t).addClass("redactor_btn_"+e)},buttonRemoveIcon:function(t,e){this.buttonGet(t).removeClass("redactor_btn_"+e)},buttonAddSeparator:function(){this.$toolbar.append(t(this.opts.buttonSeparator))},buttonAddSeparatorAfter:function(e){this.buttonGet(e).parent().after(t(this.opts.buttonSeparator))},buttonAddSeparatorBefore:function(e){this.buttonGet(e).parent().before(t(this.opts.buttonSeparator))},buttonRemoveSeparatorAfter:function(t){this.buttonGet(t).parent().next().remove()},buttonRemoveSeparatorBefore:function(t){this.buttonGet(t).parent().prev().remove()},buttonSetRight:function(t){this.opts.toolbar&&this.buttonGet(t).parent().addClass("redactor_btn_right")},buttonSetLeft:function(t){this.opts.toolbar&&this.buttonGet(t).parent().removeClass("redactor_btn_right")},buttonAdd:function(e,i,n,s){if(this.opts.toolbar){var a=this.buttonBuild(e,{title:i,callback:n,dropdown:s});this.$toolbar.append(t("<li>").append(a))}},buttonAddFirst:function(e,i,n,s){if(this.opts.toolbar){var a=this.buttonBuild(e,{title:i,callback:n,dropdown:s});this.$toolbar.prepend(t("<li>").append(a))}},buttonAddAfter:function(e,i,n,s,a){if(this.opts.toolbar){var r=this.buttonBuild(i,{title:n,callback:s,dropdown:a}),o=this.buttonGet(e);0!==o.size()?o.parent().after(t("<li>").append(r)):this.$toolbar.append(t("<li>").append(r))}},buttonAddBefore:function(e,i,n,s,a){if(this.opts.toolbar){var r=this.buttonBuild(i,{title:n,callback:s,dropdown:a}),o=this.buttonGet(e);0!==o.size()?o.parent().before(t("<li>").append(r)):this.$toolbar.append(t("<li>").append(r))}},buttonRemove:function(t,e){var i=this.buttonGet(t);e&&i.parent().next().remove(),i.parent().removeClass("redactor_btn_right"),i.remove()
},buttonActiveObserver:function(e,i){var n=this.getParent();if(this.buttonInactiveAll(i),e===!1&&"html"!==i)return void(-1!=t.inArray(i,this.opts.activeButtons)&&this.buttonActiveToggle(i));this.$toolbar.find("a.redactor_dropdown_link").text(n&&"A"===n.tagName?this.opts.curLang.link_edit:this.opts.curLang.link_insert),this.opts.activeButtonsAdd&&(t.each(this.opts.activeButtonsAdd,t.proxy(function(t,e){this.opts.activeButtons.push(e)},this)),t.extend(this.opts.activeButtonsStates,this.opts.activeButtonsAdd)),t.each(this.opts.activeButtonsStates,t.proxy(function(e,i){0!=t(n).closest(e,this.$editor.get()[0]).length&&this.buttonActive(i)},this));var s=t(n).closest(this.opts.alignmentTags.toString().toLowerCase(),this.$editor[0]);if(s.length){var a=s.css("text-align");switch(a){case"right":this.buttonActive("alignright");break;case"center":this.buttonActive("aligncenter");break;case"justify":this.buttonActive("justify");break;default:this.buttonActive("alignleft")}}},execPasteFrag:function(t){var e=this.getSelection();if(e.getRangeAt&&e.rangeCount){range=e.getRangeAt(0),range.deleteContents();var i=document.createElement("div");i.innerHTML=t;for(var n,s,a=document.createDocumentFragment();n=i.firstChild;)s=a.appendChild(n);{a.firstChild}range.insertNode(a),s&&(range=range.cloneRange(),range.setStartAfter(s),range.collapse(!0),e.removeAllRanges(),e.addRange(range))}},exec:function(t,e,i){"formatblock"===t&&this.browser("msie")&&(e="<"+e+">"),"inserthtml"===t&&this.browser("msie")?this.isIe11()?this.execPasteFrag(e):(this.$editor.focus(),this.document.selection.createRange().pasteHTML(e)):this.document.execCommand(t,!1,e),i!==!1&&this.sync(),this.callback("execCommand",t,e)},execCommand:function(t,e,i){return this.opts.visual?"inserthtml"===t?(this.insertHtml(e,i),void this.callback("execCommand",t,e)):this.currentOrParentIs("PRE")&&!this.opts.formattingPre?!1:"insertunorderedlist"===t||"insertorderedlist"===t?this.execLists(t,e):"unlink"===t?this.execUnlink(t,e):(this.exec(t,e,i),void("inserthorizontalrule"===t&&this.$editor.find("hr").removeAttr("id"))):(this.$source.focus(),!1)},execUnlink:function(e,i){this.bufferSet();var n=this.currentOrParentIs("A");return n?(t(n).replaceWith(t(n).text()),this.sync(),void this.callback("execCommand",e,i)):void 0},execLists:function(e,i){this.bufferSet();var n=this.getParent(),s=t(n).closest("ol, ul"),a=!1;if(s.length){a=!0;var r=s[0].tagName;("insertunorderedlist"===e&&"OL"===r||"insertorderedlist"===e&&"UL"===r)&&(a=!1)}if(this.selectionSave(),a){var o=this.getNodes(),l=this.getBlocks(o);"undefined"!=typeof o[0]&&o.length>1&&3==o[0].nodeType&&l.unshift(this.getBlock());var c="",d="";t.each(l,t.proxy(function(e,i){if("LI"==i.tagName){var n=t(i),s=n.clone();s.find("ul","ol").remove(),c+=this.opts.linebreaks===!1?this.outerHtml(t("<p>").append(s.contents())):s.html()+"<br>",0==e?(n.addClass("redactor-replaced").empty(),d=this.outerHtml(n)):n.remove()}},this)),html=this.$editor.html().replace(d,"</"+r+">"+c+"<"+r+">"),this.$editor.html(html),this.$editor.find(r+":empty").remove()}else{var u=this.getParent();this.document.execCommand(e);var n=this.getParent(),s=t(n).closest("ol, ul");if(u&&"TD"==u.tagName&&s.wrapAll("<td>"),s.length){var h=s.children().first();if(""==t.trim(t(h).text())){var p=t('<span id="selection-marker-1"></span>');t(h).prepend(p)}(this.browser("msie")||this.browser("mozilla"))&&"LI"!==n.tagName&&t(n).replaceWith(t(n).html());var f=s.parent();this.isParentRedactor(f)&&this.nodeTestBlocks(f[0])&&f.replaceWith(f.contents())}this.browser("mozilla")&&this.$editor.focus()}this.selectionRestore(),t(p).remove(),this.sync(),this.callback("execCommand",e,i)},indentingIndent:function(){this.indentingStart("indent")},indentingOutdent:function(){this.indentingStart("outdent")},indentingStart:function(e){if(this.bufferSet(),"indent"===e){var i=this.getBlock();if(this.selectionSave(),i&&"LI"==i.tagName){var n=this.getParent(),s=t(n).closest("ol, ul"),a=s[0].tagName,r=this.getBlocks();t.each(r,function(e,i){if("LI"==i.tagName){var n=t(i).prev();if(0!=n.size()&&"LI"==n[0].tagName){var s=n.children("ul, ol");0==s.size()?n.append(t("<"+a+">").append(i)):s.append(i)}}})}else if(i===!1&&this.opts.linebreaks===!0){this.exec("formatBlock","blockquote");var o=this.getBlock(),i=t('<div data-tagblock="">').html(t(o).html());t(o).replaceWith(i);var l=this.normalize(t(i).css("margin-left"))+this.opts.indentValue;t(i).css("margin-left",l+"px")}else{var c=this.getBlocks();t.each(c,t.proxy(function(e,i){var n=!1;if("TD"!==i.tagName){n=-1!==t.inArray(i.tagName,this.opts.alignmentTags)?t(i):t(i).closest(this.opts.alignmentTags.toString().toLowerCase(),this.$editor[0]);var s=this.normalize(n.css("margin-left"))+this.opts.indentValue;n.css("margin-left",s+"px")}},this))}this.selectionRestore()}else{this.selectionSave();var i=this.getBlock();if(i&&"LI"==i.tagName){var r=this.getBlocks(),d=0;this.insideOutdent(i,d,r)}else{var c=this.getBlocks();t.each(c,t.proxy(function(e,i){var n=!1;n=-1!==t.inArray(i.tagName,this.opts.alignmentTags)?t(i):t(i).closest(this.opts.alignmentTags.toString().toLowerCase(),this.$editor[0]);var s=this.normalize(n.css("margin-left"))-this.opts.indentValue;0>=s?this.opts.linebreaks===!0&&"undefined"!=typeof n.data("tagblock")?n.replaceWith(n.html()):(n.css("margin-left",""),this.removeEmptyAttr(n,"style")):n.css("margin-left",s+"px")},this))}this.selectionRestore()}this.sync()},insideOutdent:function(e,i,n){if(e&&"LI"==e.tagName){var s=t(e).parent().parent();0!=s.size()&&"LI"==s[0].tagName?s.after(e):"undefined"!=typeof n[i]?(e=n[i],i++,this.insideOutdent(e,i,n)):this.execCommand("insertunorderedlist")}},alignmentLeft:function(){this.alignmentSet("","JustifyLeft")},alignmentRight:function(){this.alignmentSet("right","JustifyRight")},alignmentCenter:function(){this.alignmentSet("center","JustifyCenter")},alignmentJustify:function(){this.alignmentSet("justify","JustifyFull")},alignmentSet:function(e,i){if(this.bufferSet(),this.oldIE())return this.document.execCommand(i,!1,!1),!0;this.selectionSave();var n=this.getBlock();if(!n&&this.opts.linebreaks){this.exec("formatBlock","blockquote");var s=this.getBlock(),n=t('<div data-tagblock="">').html(t(s).html());t(s).replaceWith(n),t(n).css("text-align",e),this.removeEmptyAttr(n,"style"),""==e&&"undefined"!=typeof t(n).data("tagblock")&&t(n).replaceWith(t(n).html())}else{var a=this.getBlocks();t.each(a,t.proxy(function(i,n){var s=!1;s=-1!==t.inArray(n.tagName,this.opts.alignmentTags)?t(n):t(n).closest(this.opts.alignmentTags.toString().toLowerCase(),this.$editor[0]),s&&(s.css("text-align",e),this.removeEmptyAttr(s,"style"))},this))}this.selectionRestore(),this.sync()},cleanEmpty:function(t){var e=this.placeholderStart(t);return e!==!1?e:(this.opts.linebreaks===!1&&(""===t?t=this.opts.emptyHtml:-1!==t.search(/^<hr\s?\/?>$/gi)&&(t="<hr>"+this.opts.emptyHtml)),t)},cleanConverters:function(t){return this.opts.convertDivs&&(t=t.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p$1>$2</p>")),this.opts.paragraphy&&(t=this.cleanParagraphy(t)),t},cleanConvertProtected:function(t){return this.opts.templateVars&&(t=t.replace(/\{\{(.*?)\}\}/gi,"<!-- template double $1 -->"),t=t.replace(/\{(.*?)\}/gi,"<!-- template $1 -->")),t=t.replace(/<script(.*?)>([\w\W]*?)<\/script>/gi,'<title type="text/javascript" style="display: none;" class="redactor-script-tag"$1>$2</title>'),t=t.replace(/<style(.*?)>([\w\W]*?)<\/style>/gi,'<section$1 style="display: none;" rel="redactor-style-tag">$2</section>'),t=t.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>'),t=this.opts.phpTags?t.replace(/<\?php([\w\W]*?)\?>/gi,'<section style="display: none;" rel="redactor-php-tag">$1</section>'):t.replace(/<\?php([\w\W]*?)\?>/gi,"")},cleanReConvertProtected:function(t){return this.opts.templateVars&&(t=t.replace(/<!-- template double (.*?) -->/gi,"{{$1}}"),t=t.replace(/<!-- template (.*?) -->/gi,"{$1}")),t=t.replace(/<title type="text\/javascript" style="display: none;" class="redactor-script-tag"(.*?)>([\w\W]*?)<\/title>/gi,'<script$1 type="text/javascript">$2</script>'),t=t.replace(/<section(.*?) style="display: none;" rel="redactor-style-tag">([\w\W]*?)<\/section>/gi,"<style$1>$2</style>"),t=t.replace(/<section(.*?)rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>"),this.opts.phpTags&&(t=t.replace(/<section style="display: none;" rel="redactor-php-tag">([\w\W]*?)<\/section>/gi,"<?php\r\n$1\r\n?>")),t},cleanRemoveSpaces:function(e,i){if(i!==!1){var i=[],n=e.match(/<(pre|style|script|title)(.*?)>([\w\W]*?)<\/(pre|style|script|title)>/gi);if(null===n&&(n=[]),this.opts.phpTags){var s=e.match(/<\?php([\w\W]*?)\?>/gi);s&&(n=t.merge(n,s))}n&&t.each(n,function(t,n){e=e.replace(n,"buffer_"+t),i.push(n)})}return e=e.replace(/\n/g," "),e=e.replace(/[\t]*/g,""),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/g," "),e=e.replace(/[\s\n]*$/g," "),e=e.replace(/>\s{2,}</g,"> <"),e=this.cleanReplacer(e,i),e=e.replace(/\n\n/g,"\n")},cleanReplacer:function(e,i){return i===!1?e:(t.each(i,function(t,i){e=e.replace("buffer_"+t,i)}),e)},cleanRemoveEmptyTags:function(t){t=t.replace(/<span>([\w\W]*?)<\/span>/gi,"$1"),t=t.replace(/[\u200B-\u200D\uFEFF]/g,"");var e=["<b>\\s*</b>","<b>&nbsp;</b>","<em>\\s*</em>"],i=["<pre></pre>","<blockquote>\\s*</blockquote>","<dd></dd>","<dt></dt>","<ul></ul>","<ol></ol>","<li></li>","<table></table>","<tr></tr>","<span>\\s*<span>","<span>&nbsp;<span>","<p>\\s*</p>","<p></p>","<p>&nbsp;</p>","<p>\\s*<br>\\s*</p>","<div>\\s*</div>","<div>\\s*<br>\\s*</div>"];i=this.opts.removeEmptyTags?i.concat(e):e;for(var n=i.length,s=0;n>s;++s)t=t.replace(new RegExp(i[s],"gi"),"");return t},cleanParagraphy:function(e){function i(t,i,n){return e.replace(new RegExp(t,i),n)}if(e=t.trim(e),this.opts.linebreaks===!0)return e;if(""===e||"<p></p>"===e)return this.opts.emptyHtml;e+="\n";var n=[],s=e.match(/<(table|div|pre|object)(.*?)>([\w\W]*?)<\/(table|div|pre|object)>/gi);s||(s=[]);var a=e.match(/<!--([\w\W]*?)-->/gi);if(a&&(s=t.merge(s,a)),this.opts.phpTags){var r=e.match(/<section(.*?)rel="redactor-php-tag">([\w\W]*?)<\/section>/gi);r&&(s=t.merge(s,r))}s&&t.each(s,function(t,i){n[t]=i,e=e.replace(i,"{replace"+t+"}\n")}),e=e.replace(/<br \/>\s*<br \/>/gi,"\n\n");var o="(comment|html|body|head|title|meta|style|script|link|iframe|table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|option|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)";e=i("(<"+o+"[^>]*>)","gi","\n$1"),e=i("(</"+o+">)","gi","$1\n\n"),e=i("\r\n","g","\n"),e=i("\r","g","\n"),e=i("/\n\n+/","g","\n\n");var l=e.split(new RegExp("\ns*\n","g"),-1);e="";for(var c in l)l.hasOwnProperty(c)&&(-1==l[c].search("{replace")?(l[c]=l[c].replace(/<p>\n\t<\/p>/gi,""),l[c]=l[c].replace(/<p><\/p>/gi,""),""!=l[c]&&(e+="<p>"+l[c].replace(/^\n+|\n+$/g,"")+"</p>")):e+=l[c]);return e=i("<p>s*</p>","gi",""),e=i("<p>([^<]+)</(div|address|form)>","gi","<p>$1</p></$2>"),e=i("<p>s*(</?"+o+"[^>]*>)s*</p>","gi","$1"),e=i("<p>(<li.+?)</p>","gi","$1"),e=i("<p>s*(</?"+o+"[^>]*>)","gi","$1"),e=i("(</?"+o+"[^>]*>)s*</p>","gi","$1"),e=i("(</?"+o+"[^>]*>)s*<br />","gi","$1"),e=i("<br />(s*</?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)","gi","$1"),e=i("\n</p>","gi","</p>"),e=i("<li><p>","gi","<li>"),e=i("</p></li>","gi","</li>"),e=i("</li><p>","gi","</li>"),e=i("<p>	?\n?<p>","gi","<p>"),e=i("</dt><p>","gi","</dt>"),e=i("</dd><p>","gi","</dd>"),e=i("<br></p></blockquote>","gi","</blockquote>"),e=i("<p>	*</p>","gi",""),t.each(n,function(t,i){e=e.replace("{replace"+t+"}",i)}),t.trim(e)},cleanConvertInlineTags:function(t,e){var i="strong";"b"===this.opts.boldTag&&(i="b");var n="em";return"i"===this.opts.italicTag&&(n="i"),t=t.replace(/<span style="font-style: italic;">([\w\W]*?)<\/span>/gi,"<"+n+">$1</"+n+">"),t=t.replace(/<span style="font-weight: bold;">([\w\W]*?)<\/span>/gi,"<"+i+">$1</"+i+">"),t="strong"===this.opts.boldTag?t.replace(/<b>([\w\W]*?)<\/b>/gi,"<strong>$1</strong>"):t.replace(/<strong>([\w\W]*?)<\/strong>/gi,"<b>$1</b>"),t="em"===this.opts.italicTag?t.replace(/<i>([\w\W]*?)<\/i>/gi,"<em>$1</em>"):t.replace(/<em>([\w\W]*?)<\/em>/gi,"<i>$1</i>"),t=e!==!0?t.replace(/<strike>([\w\W]*?)<\/strike>/gi,"<del>$1</del>"):t.replace(/<del>([\w\W]*?)<\/del>/gi,"<strike>$1</strike>")},cleanStripTags:function(e){if(""==e||"undefined"==typeof e)return e;var i=!1;this.opts.allowedTags!==!1&&(i=!0);var n=i===!0?this.opts.allowedTags:this.opts.deniedTags,s=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return e=e.replace(s,function(e,s){return i===!0?t.inArray(s.toLowerCase(),n)>"-1"?e:"":t.inArray(s.toLowerCase(),n)>"-1"?"":e}),e=this.cleanConvertInlineTags(e)},cleanSavePreCode:function(e,i){var n=e.match(/<(pre|code)(.*?)>([\w\W]*?)<\/(pre|code)>/gi);return null!==n&&t.each(n,t.proxy(function(t,n){var s=n.match(/<(pre|code)(.*?)>([\w\W]*?)<\/(pre|code)>/i);s[3]=s[3].replace(/&nbsp;/g," "),i!==!1&&(s[3]=this.cleanEncodeEntities(s[3])),s[3]=s[3].replace(/\$/g,"&#36;"),e=e.replace(n,"<"+s[1]+s[2]+">"+s[3]+"</"+s[1]+">")},this)),e},cleanEncodeEntities:function(t){return t=String(t).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},cleanUnverified:function(){var e=this.$editor.find("li, img, a, b, strong, sub, sup, i, em, u, small, strike, del, span, cite");e.filter('[style*="background-color: transparent;"][style*="line-height"]').css("background-color","").css("line-height",""),e.filter('[style*="background-color: transparent;"]').css("background-color",""),e.css("line-height",""),t.each(e,t.proxy(function(t,e){this.removeEmptyAttr(e,"style")},this)),this.$editor.find('div[style="text-align: -webkit-auto;"]').contents().unwrap()},cleanHtml:function(t){var e=0,i=t.length,n=0,s=null,a=null,r="",o="",l="";for(this.cleanlevel=0;i>e;e++){if(n=e,-1==t.substr(e).indexOf("<"))return o+=t.substr(e),this.cleanFinish(o);for(;i>n&&"<"!=t.charAt(n);)n++;for(e!=n&&(l=t.substr(e,n-e),l.match(/^\s{2,}$/g)||("\n"==o.charAt(o.length-1)?o+=this.cleanGetTabs():"\n"==l.charAt(0)&&(o+="\n"+this.cleanGetTabs(),l=l.replace(/^\s+/,"")),o+=l),l.match(/\n/)&&(o+="\n"+this.cleanGetTabs())),s=n;i>n&&">"!=t.charAt(n);)n++;r=t.substr(s,n-s),e=n;var c;if("!--"==r.substr(1,3)){if(!r.match(/--$/)){for(;"-->"!=t.substr(n,3);)n++;n+=2,r=t.substr(s,n-s),e=n}"\n"!=o.charAt(o.length-1)&&(o+="\n"),o+=this.cleanGetTabs(),o+=r+">\n"}else"!"==r[1]?o=this.placeTag(r+">",o):"?"==r[1]?o+=r+">\n":(c=r.match(/^<(script|style|pre)/i))?(c[1]=c[1].toLowerCase(),r=this.cleanTag(r),o=this.placeTag(r,o),a=String(t.substr(e+1)).toLowerCase().indexOf("</"+c[1]),a&&(l=t.substr(e+1,a),e+=a,o+=l)):(r=this.cleanTag(r),o=this.placeTag(r,o))}return this.cleanFinish(o)},cleanGetTabs:function(){for(var t="",e=0;e<this.cleanlevel;e++)t+="	";return t},cleanFinish:function(t){return t=t.replace(/\n\s*\n/g,"\n"),t=t.replace(/^[\s\n]*/,""),t=t.replace(/[\s\n]*$/,""),t=t.replace(/<script(.*?)>\n<\/script>/gi,"<script$1></script>"),this.cleanlevel=0,t},cleanTag:function(t){var e="";t=t.replace(/\n/g," "),t=t.replace(/\s{2,}/g," "),t=t.replace(/^\s+|\s+$/g," ");var i="";t.match(/\/$/)&&(i="/",t=t.replace(/\/+$/,""));for(var n;n=/\s*([^= ]+)(?:=((['"']).*?\3|[^ ]+))?/.exec(t);)n[2]?e+=n[1].toLowerCase()+"="+n[2]:n[1]&&(e+=n[1].toLowerCase()),e+=" ",t=t.substr(n[0].length);return e.replace(/\s*$/,"")+i+">"},placeTag:function(t,e){var i=t.match(this.cleannewLevel);return(t.match(this.cleanlineBefore)||i)&&(e=e.replace(/\s*$/,""),e+="\n"),i&&"/"==t.charAt(1)&&this.cleanlevel--,"\n"==e.charAt(e.length-1)&&(e+=this.cleanGetTabs()),i&&"/"!=t.charAt(1)&&this.cleanlevel++,e+=t,(t.match(this.cleanlineAfter)||t.match(this.cleannewLevel))&&(e=e.replace(/ *$/,""),e+="\n"),e},formatEmpty:function(e){var i=t.trim(this.$editor.html());if(this.opts.linebreaks)""==i&&(e.preventDefault(),this.$editor.html(""),this.focus());else{i=i.replace(/<br\s?\/?>/i,"");var n=i.replace(/<p>\s?<\/p>/gi,"");if(""===i||""===n){e.preventDefault();var s=t(this.opts.emptyHtml).get(0);this.$editor.html(s),this.focus()}}this.sync()},formatBlocks:function(e){this.bufferSet();var i=this.getBlocks();this.selectionSave(),t.each(i,t.proxy(function(i,n){if("LI"!==n.tagName){var s=t(n).parent();if("p"===e){if("P"===n.tagName&&0!=s.size()&&"BLOCKQUOTE"===s[0].tagName||"BLOCKQUOTE"===n.tagName)return void this.formatQuote();if(this.opts.linebreaks)return;this.formatBlock(e,n)}else this.formatBlock(e,n)}},this)),this.selectionRestore(),this.sync()},formatBlock:function(e,i){if(i===!1&&(i=this.getBlock()),i===!1)return this.opts.linebreaks===!0&&this.execCommand("formatblock",e),!0;var n="";if("pre"!==e?n=t(i).contents():(n=t(i).html(),""===t.trim(n)&&(n='<span id="selection-marker-1"></span>')),"PRE"===i.tagName&&(e="p"),this.opts.linebreaks===!0&&"p"===e)t(i).replaceWith(t("<div>").append(n).html()+"<br>");else{var s=this.getParent(),a=t("<"+e+">").append(n);t(i).replaceWith(a),s&&"TD"==s.tagName&&t(a).wrapAll("<td>")}},formatChangeTag:function(e,i,n){n!==!1&&this.selectionSave();var s=t("<"+i+"/>");return t(e).replaceWith(function(){return s.append(t(this).contents())}),n!==!1&&this.selectionRestore(),s},formatQuote:function(){if(this.bufferSet(),this.opts.linebreaks===!1){this.selectionSave();var e=this.getBlocks(),i=!1,n=e.length;if(e){var s="",a="",r=!1,o=!0;if(t.each(e,function(t,e){"P"!==e.tagName&&(o=!1)}),t.each(e,t.proxy(function(l,c){if("BLOCKQUOTE"===c.tagName)this.formatBlock("p",c,!1);else if("P"===c.tagName)if(i=t(c).parent(),"BLOCKQUOTE"==i[0].tagName){var d=t(i).children("p").size();1==d?t(i).replaceWith(c):d==n?(r="blockquote",s+=this.outerHtml(c)):(r="html",s+=this.outerHtml(c),0==l?(t(c).addClass("redactor-replaced").empty(),a=this.outerHtml(c)):t(c).remove())}else o===!1||1==e.length?this.formatBlock("blockquote",c,!1):(r="paragraphs",s+=this.outerHtml(c));else"LI"!==c.tagName&&this.formatBlock("blockquote",c,!1)},this)),r)if("paragraphs"==r)t(e[0]).replaceWith("<blockquote>"+s+"</blockquote>"),t(e).remove();else if("blockquote"==r)t(i).replaceWith(s);else if("html"==r){var l=this.$editor.html().replace(a,"</blockquote>"+s+"<blockquote>");this.$editor.html(l),this.$editor.find("blockquote").each(function(){""==t.trim(t(this).html())&&t(this).remove()})}}this.selectionRestore()}else{var c=this.getBlock();if("BLOCKQUOTE"===c.tagName){this.selectionSave();var l=t.trim(t(c).html()),d=t.trim(this.getSelectionHtml());if(l=l.replace(/<span(.*?)id="selection-marker(.*?)<\/span>/gi,""),l==d)t(c).replaceWith(t(c).html()+"<br>");else{this.inlineFormat("tmp");var u=this.$editor.find("tmp");u.empty();var h=this.$editor.html().replace("<tmp></tmp>",'</blockquote><span id="selection-marker-1">'+this.opts.invisibleSpace+"</span>"+d+"<blockquote>");this.$editor.html(h),u.remove(),this.$editor.find("blockquote").each(function(){""==t.trim(t(this).html())&&t(this).remove()})}this.selectionRestore(),this.$editor.find("span#selection-marker-1").attr("id",!1)}else{var p=this.selectionWrap("blockquote"),l=t(p).html(),f=["ul","ol","table","tr","tbody","thead","tfoot","dl"];t.each(f,function(t,e){l=l.replace(new RegExp("<"+e+"(.*?)>","gi"),""),l=l.replace(new RegExp("</"+e+">","gi"),"")});var m=this.opts.blockLevelElements;m.push("td"),t.each(m,function(t,e){l=l.replace(new RegExp("<"+e+"(.*?)>","gi"),""),l=l.replace(new RegExp("</"+e+">","gi"),"<br>")}),t(p).html(l),this.selectionElement(p);var g=t(p).next();0!=g.size()&&"BR"===g[0].tagName&&g.remove()}}this.sync()},blockRemoveAttr:function(e){var i=this.getBlocks();t(i).removeAttr(e),this.sync()},blockSetAttr:function(e,i){var n=this.getBlocks();t(n).attr(e,i),this.sync()},blockRemoveStyle:function(e){var i=this.getBlocks();t(i).css(e,""),this.removeEmptyAttr(i,"style"),this.sync()},blockSetStyle:function(e,i){var n=this.getBlocks();t(n).css(e,i),this.sync()},blockRemoveClass:function(e){var i=this.getBlocks();t(i).removeClass(e),this.removeEmptyAttr(i,"class"),this.sync()},blockSetClass:function(e){var i=this.getBlocks();t(i).addClass(e),this.sync()},inlineRemoveClass:function(e){this.selectionSave(),this.inlineEachNodes(function(i){t(i).removeClass(e),this.removeEmptyAttr(i,"class")}),this.selectionRestore(),this.sync()},inlineSetClass:function(e){var i=this.getCurrent();t(i).hasClass(e)||this.inlineMethods("addClass",e)},inlineRemoveStyle:function(e){this.selectionSave(),this.inlineEachNodes(function(i){t(i).css(e,""),this.removeEmptyAttr(i,"style")}),this.selectionRestore(),this.sync()},inlineSetStyle:function(t,e){this.inlineMethods("css",t,e)},inlineRemoveAttr:function(e){this.selectionSave();var i=this.getRange(),n=this.getElement(),s=this.getNodes();(i.collapsed||i.startContainer===i.endContainer&&n)&&(s=t(n)),t(s).removeAttr(e),this.inlineUnwrapSpan(),this.selectionRestore(),this.sync()},inlineSetAttr:function(t,e){this.inlineMethods("attr",t,e)},inlineMethods:function(e,i,n){this.bufferSet(),this.selectionSave();var s=this.getRange(),a=this.getElement();if(!s.collapsed&&s.startContainer!==s.endContainer||!a||this.nodeTestBlocks(a)){this.document.execCommand("fontSize",!1,4);var r=this.$editor.find("font");t.each(r,t.proxy(function(t,s){this.inlineSetMethods(e,s,i,n)},this))}else t(a)[e](i,n);this.selectionRestore(),this.sync()},inlineSetMethods:function(e,i,n,s){var a,r=t(i).parent(),o=this.getSelectionText(),l=t(r).text(),c=o==l;return c&&r&&"INLINE"===r[0].tagName&&0!=r[0].attributes.length?(a=r,t(i).replaceWith(t(i).html())):(a=t("<inline>").append(t(i).contents()),t(i).replaceWith(a)),t(a)[e](n,s),a},inlineEachNodes:function(e){var i,n=this.getRange(),s=this.getElement(),a=this.getNodes();(n.collapsed||n.startContainer===n.endContainer&&s)&&(a=t(s),i=!0),t.each(a,t.proxy(function(n,s){if(!i&&"INLINE"!==s.tagName){var a=this.getSelectionText(),r=t(s).parent().text(),o=a==r;if(!o||"INLINE"!==s.parentNode.tagName||t(s.parentNode).hasClass("redactor_editor"))return;s=s.parentNode}e.call(this,s)},this))},inlineUnwrapSpan:function(){var e=this.$editor.find("inline");t.each(e,t.proxy(function(e,i){var n=t(i);void 0===n.attr("class")&&void 0===n.attr("style")&&n.contents().unwrap()},this))},inlineFormat:function(e){this.selectionSave(),this.document.execCommand("fontSize",!1,4);var i,n=this.$editor.find("font");t.each(n,function(n,s){var a=t("<"+e+"/>").append(t(s).contents());t(s).replaceWith(a),i=a}),this.selectionRestore(),this.sync()},inlineRemoveFormat:function(e){this.selectionSave();var i=e.toUpperCase(),n=this.getNodes(),s=t(this.getParent()).parent();t.each(n,function(t,e){e.tagName===i&&this.inlineRemoveFormatReplace(e)}),s&&s[0].tagName===i&&this.inlineRemoveFormatReplace(s),this.selectionRestore(),this.sync()},inlineRemoveFormatReplace:function(e){t(e).replaceWith(t(e).contents())},insertHtml:function(e,i){var n=this.getCurrent(),s=n.parentNode;this.$editor.focus(),this.bufferSet();var a=t("<div>").append(e);e=a.html(),e=this.cleanRemoveEmptyTags(e),a=t("<div>").append(e);var r=this.getBlock();if(1==a.contents().length){var o=a.contents()[0].tagName;("P"!=o&&o==r.tagName||"PRE"==o)&&(e=a.text(),a=t("<div>").append(e))}!this.opts.linebreaks&&1==a.contents().length&&3==a.contents()[0].nodeType&&(this.getRangeSelectedNodes().length>2||!n||"BODY"==n.tagName&&!s||"HTML"==s.tagName)&&(e="<p>"+e+"</p>"),e=this.setSpansVerifiedHtml(e),a.contents().length>1&&r||a.contents().is("p, :header, ul, ol, li, div, table, td, blockquote, pre, address, section, header, footer, aside, article")?this.browser("msie")?this.isIe11()?this.execPasteFrag(e):this.document.selection.createRange().pasteHTML(e):this.document.execCommand("inserthtml",!1,e):this.insertHtmlAdvanced(e,!1),this.selectall&&this.window.setTimeout(t.proxy(function(){this.opts.linebreaks?this.focusEnd():this.selectionEnd(this.$editor.contents().last())},this),1),this.observeStart(),this.setNonEditable(),i!==!1&&this.sync()},insertHtmlAdvanced:function(t,e){t=this.setSpansVerifiedHtml(t);var i=this.getSelection();if(i.getRangeAt&&i.rangeCount){var n=i.getRangeAt(0);n.deleteContents();var s=this.document.createElement("div");s.innerHTML=t;for(var a,r,o=this.document.createDocumentFragment();a=s.firstChild;)r=o.appendChild(a);n.insertNode(o),r&&(n=n.cloneRange(),n.setStartAfter(r),n.collapse(!0),i.removeAllRanges(),i.addRange(n))}e!==!1&&this.sync()},insertBeforeCursor:function(e){e=this.setSpansVerifiedHtml(e);var i=t(e),n=document.createElement("span");n.innerHTML="\u200b";var s=this.getRange();s.insertNode(n),s.insertNode(i[0]),s.collapse(!1);var a=this.getSelection();a.removeAllRanges(),a.addRange(s),this.sync()},insertText:function(e){var i=t(e);i.length&&(e=i.text()),this.$editor.focus(),this.browser("msie")&&!this.isIe11()?this.document.selection.createRange().pasteHTML(e):this.document.execCommand("inserthtml",!1,e),this.sync()},insertNode:function(e){if(e=e[0]||e,"SPAN"==e.tagName){var i="inline",n=e.outerHTML,s=new RegExp("<"+e.tagName,"i"),a=n.replace(s,"<"+i);s=new RegExp("</"+e.tagName,"i"),a=a.replace(s,"</"+i),e=t(a)[0]}var r=this.getSelection();r.getRangeAt&&r.rangeCount&&(range=r.getRangeAt(0),range.deleteContents(),range.insertNode(e),range.setEndAfter(e),range.setStartAfter(e),r.removeAllRanges(),r.addRange(range))},insertNodeToCaretPositionFromPoint:function(t,e){var i,n=t.clientX,s=t.clientY;if(this.document.caretPositionFromPoint){var a=this.document.caretPositionFromPoint(n,s);i=this.getRange(),i.setStart(a.offsetNode,a.offset),i.collapse(!0),i.insertNode(e)}else if(this.document.caretRangeFromPoint)i=this.document.caretRangeFromPoint(n,s),i.insertNode(e);else if("undefined"!=typeof document.body.createTextRange){i=this.document.body.createTextRange(),i.moveToPoint(n,s);var r=i.duplicate();r.moveToPoint(n,s),i.setEndPoint("EndToEnd",r),i.select()}},insertAfterLastElement:function(e,i){if("undefined"!=typeof i&&(e=i),this.isEndOfElement()){if(this.opts.linebreaks){var n=t("<div>").append(t.trim(this.$editor.html())).contents();if(this.outerHtml(n.last()[0])!=this.outerHtml(e))return!1}else if(this.$editor.contents().last()[0]!==e)return!1;this.insertingAfterLastElement(e)}},insertingAfterLastElement:function(e){if(this.bufferSet(),this.opts.linebreaks===!1){var i=t(this.opts.emptyHtml);t(e).after(i),this.selectionStart(i)}else{var i=t('<span id="selection-marker-1">'+this.opts.invisibleSpace+"</span>",this.document)[0];t(e).after(i),t(i).after(this.opts.invisibleSpace),this.selectionRestore(),this.$editor.find("span#selection-marker-1").removeAttr("id")}},insertLineBreak:function(){this.selectionSave(),this.$editor.find("#selection-marker-1").before("<br>"+(this.browser("webkit")?this.opts.invisibleSpace:"")),this.selectionRestore()},insertDoubleLineBreak:function(){this.selectionSave(),this.$editor.find("#selection-marker-1").before("<br><br>"+(this.browser("webkit")?this.opts.invisibleSpace:"")),this.selectionRestore()},replaceLineBreak:function(e){var i=t("<br>"+this.opts.invisibleSpace);t(e).replaceWith(i),this.selectionStart(i)},pasteClean:function(e){if(e=this.callback("pasteBefore",!1,e),this.browser("msie")){var i=t.trim(e);0==i.search(/^<a(.*?)>(.*?)<\/a>$/i)&&(e=e.replace(/^<a(.*?)>(.*?)<\/a>$/i,"$2"))}if(this.opts.pastePlainText){var i=this.document.createElement("div");return e=e.replace(/<br>|<\/H[1-6]>|<\/p>|<\/div>/gi,"\n"),i.innerHTML=e,e=i.textContent||i.innerText,e=t.trim(e),e=e.replace("\n","<br>"),e=this.cleanParagraphy(e),this.pasteInsert(e),!1}if(this.currentOrParentIs("PRE"))return e=this.pastePre(e),this.pasteInsert(e),!0;if(e=e.replace(/<p(.*?)class="MsoListParagraphCxSpFirst"([\w\W]*?)<\/p>/gi,"<ul><li$2</li>"),e=e.replace(/<p(.*?)class="MsoListParagraphCxSpMiddle"([\w\W]*?)<\/p>/gi,"<li$2</li>"),e=e.replace(/<p(.*?)class="MsoListParagraphCxSpLast"([\w\W]*?)<\/p>/gi,"<li$2</li></ul>"),e=e.replace(/<p(.*?)class="MsoListParagraph"([\w\W]*?)<\/p>/gi,"<ul><li$2</li></ul>"),e=e.replace(/\xb7/g,""),e=e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,""),e=e.replace(/(&nbsp;){2,}/gi,"&nbsp;"),e=e.replace(/&nbsp;/gi," "),e=e.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),e=e.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3"),e=this.cleanStripTags(e),e=e.replace(/<td><\/td>/gi,"[td]"),e=e.replace(/<td>&nbsp;<\/td>/gi,"[td]"),e=e.replace(/<td><br><\/td>/gi,"[td]"),e=e.replace(/<td(.*?)colspan="(.*?)"(.*?)>([\w\W]*?)<\/td>/gi,'[td colspan="$2"]$4[/td]'),e=e.replace(/<td(.*?)rowspan="(.*?)"(.*?)>([\w\W]*?)<\/td>/gi,'[td rowspan="$2"]$4[/td]'),e=e.replace(/<a(.*?)href="(.*?)"(.*?)>([\w\W]*?)<\/a>/gi,'[a href="$2"]$4[/a]'),e=e.replace(/<iframe(.*?)>([\w\W]*?)<\/iframe>/gi,"[iframe$1]$2[/iframe]"),e=e.replace(/<video(.*?)>([\w\W]*?)<\/video>/gi,"[video$1]$2[/video]"),e=e.replace(/<audio(.*?)>([\w\W]*?)<\/audio>/gi,"[audio$1]$2[/audio]"),e=e.replace(/<embed(.*?)>([\w\W]*?)<\/embed>/gi,"[embed$1]$2[/embed]"),e=e.replace(/<object(.*?)>([\w\W]*?)<\/object>/gi,"[object$1]$2[/object]"),e=e.replace(/<param(.*?)>/gi,"[param$1]"),e=e.replace(/<img(.*?)>/gi,"[img$1]"),e=e.replace(/ class="(.*?)"/gi,""),e=e.replace(/<(\w+)([\w\W]*?)>/gi,"<$1>"),e=e.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,""),e=e.replace(/<div>\s*?\t*?\n*?(<ul>|<ol>|<p>)/gi,"$1"),e=e.replace(/\[td colspan="(.*?)"\]([\w\W]*?)\[\/td\]/gi,'<td colspan="$1">$2</td>'),e=e.replace(/\[td rowspan="(.*?)"\]([\w\W]*?)\[\/td\]/gi,'<td rowspan="$1">$2</td>'),e=e.replace(/\[td\]/gi,"<td>&nbsp;</td>"),e=e.replace(/\[a href="(.*?)"\]([\w\W]*?)\[\/a\]/gi,'<a href="$1">$2</a>'),e=e.replace(/\[iframe(.*?)\]([\w\W]*?)\[\/iframe\]/gi,"<iframe$1>$2</iframe>"),e=e.replace(/\[video(.*?)\]([\w\W]*?)\[\/video\]/gi,"<video$1>$2</video>"),e=e.replace(/\[audio(.*?)\]([\w\W]*?)\[\/audio\]/gi,"<audio$1>$2</audio>"),e=e.replace(/\[embed(.*?)\]([\w\W]*?)\[\/embed\]/gi,"<embed$1>$2</embed>"),e=e.replace(/\[object(.*?)\]([\w\W]*?)\[\/object\]/gi,"<object$1>$2</object>"),e=e.replace(/\[param(.*?)\]/gi,"<param$1>"),e=e.replace(/\[img(.*?)\]/gi,"<img$1>"),this.opts.convertDivs&&(e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>"),e=e.replace(/<\/div><p>/gi,"<p>"),e=e.replace(/<\/p><\/div>/gi,"</p>")),e=this.currentOrParentIs("LI")?e.replace(/<p>([\w\W]*?)<\/p>/gi,"$1<br>"):this.cleanParagraphy(e),e=e.replace(/<span(.*?)>([\w\W]*?)<\/span>/gi,"$2"),e=e.replace(/<img>/gi,""),e=e.replace(/<[^\/>][^>][^img|param|source]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,""),e=e.replace(/\n{3,}/gi,"\n"),e=e.replace(/<p><p>/gi,"<p>"),e=e.replace(/<\/p><\/p>/gi,"</p>"),e=e.replace(/<li>(\s*|\t*|\n*)<p>/gi,"<li>"),e=e.replace(/<\/p>(\s*|\t*|\n*)<\/li>/gi,"</li>"),this.opts.linebreaks===!0&&(e=e.replace(/<p(.*?)>([\w\W]*?)<\/p>/gi,"$2<br>")),e=e.replace(/<[^\/>][^>][^img|param|source]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,""),e=e.replace(/<img src="webkit-fake-url\:\/\/(.*?)"(.*?)>/gi,""),e=e.replace(/<td(.*?)>(\s*|\t*|\n*)<p>([\w\W]*?)<\/p>(\s*|\t*|\n*)<\/td>/gi,"<td$1>$3</td>"),e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"$2"),e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"$2"),this.pasteClipboardMozilla=!1,this.browser("mozilla")){if(this.opts.clipboardUpload){var n=e.match(/<img src="data:image(.*?)"(.*?)>/gi);if(null!==n){this.pasteClipboardMozilla=n;for(k in n){var s=n[k].replace("<img",'<img data-mozilla-paste-image="'+k+'" ');e=e.replace(n[k],s)}}}for(;/<br>$/gi.test(e);)e=e.replace(/<br>$/gi,"")}for(e=e.replace(/<p>\u2022([\w\W]*?)<\/p>/gi,"<li>$1</li>");/<font>([\w\W]*?)<\/font>/gi.test(e);)e=e.replace(/<font>([\w\W]*?)<\/font>/gi,"$1");e=e.replace(/<p>\n?<li>/gi,"<li>"),this.browser("msie")&&!this.isIe11()&&(e=e.replace(/\n/g,"")),this.pasteInsert(e)},pastePre:function(t){t=t.replace(/<br>|<\/H[1-6]>|<\/p>|<\/div>/gi,"\n");var e=this.document.createElement("div");return e.innerHTML=t,this.cleanEncodeEntities(e.textContent||e.innerText)},pasteInsert:function(e){this.selectall&&(this.$editor.html(this.opts.linebreaks?"":this.opts.emptyHtml),this.$editor.focus()),e=this.callback("pasteAfter",!1,e),this.insertHtml(e),this.selectall=!1,setTimeout(t.proxy(function(){this.rtePaste=!1,this.browser("mozilla")&&this.$editor.find("p:empty").remove(),this.pasteClipboardMozilla!==!1&&this.pasteClipboardUploadMozilla()},this),100),this.opts.autoresize&&this.fullscreen!==!0?t(this.document.body).scrollTop(this.saveScroll):this.$editor.scrollTop(this.saveScroll)},pasteClipboardUploadMozilla:function(){var e=this.$editor.find("img[data-mozilla-paste-image]");t.each(e,t.proxy(function(e,i){var n=t(i),s=i.src.split(","),a=s[1],r=s[0].split(";")[0].split(":")[1];t.post(this.opts.clipboardUploadUrl,{contentType:r,data:a},t.proxy(function(e){var i="string"==typeof e?t.parseJSON(e):e;n.attr("src",i.filelink),n.removeAttr("data-mozilla-paste-image"),this.sync(),this.callback("imageUpload",n,i)},this))
},this))},pasteClipboardUpload:function(e){var i=e.target.result,n=i.split(","),s=n[1],a=n[0].split(";")[0].split(":")[1];this.opts.clipboardUpload?t.post(this.opts.clipboardUploadUrl,{contentType:a,data:s},t.proxy(function(e){var i="string"==typeof e?t.parseJSON(e):e,n='<img src="'+i.filelink+'" id="clipboard-image-marker" />';this.execCommand("inserthtml",n,!1);var s=t(this.$editor.find("img#clipboard-image-marker"));s.length?s.removeAttr("id"):s=!1,this.sync(),s&&this.callback("imageUpload",s,i)},this)):this.insertHtml('<img src="'+i+'" />')},bufferSet:function(t){void 0!==t?this.opts.buffer.push(t):(this.selectionSave(),this.opts.buffer.push(this.$editor.html()),this.selectionRemoveMarkers("buffer"))},bufferUndo:function(){return 0===this.opts.buffer.length?void this.$editor.focus():(this.selectionSave(),this.opts.rebuffer.push(this.$editor.html()),this.selectionRestore(!1,!0),this.$editor.html(this.opts.buffer.pop()),this.selectionRestore(),void setTimeout(t.proxy(this.observeStart,this),100))},bufferRedo:function(){return 0===this.opts.rebuffer.length?(this.$editor.focus(),!1):(this.selectionSave(),this.opts.buffer.push(this.$editor.html()),this.selectionRestore(!1,!0),this.$editor.html(this.opts.rebuffer.pop()),this.selectionRestore(!0),void setTimeout(t.proxy(this.observeStart,this),4))},observeStart:function(){this.observeImages(),this.opts.observeLinks&&this.observeLinks()},observeLinks:function(){this.$editor.find("a").on("click",t.proxy(this.linkObserver,this)),this.$editor.on("click.redactor",t.proxy(function(t){this.linkObserverTooltipClose(t)},this)),t(document).on("click.redactor",t.proxy(function(t){this.linkObserverTooltipClose(t)},this))},observeImages:function(){return this.opts.observeImages===!1?!1:void this.$editor.find("img").each(t.proxy(function(e,i){this.browser("msie")&&t(i).attr("unselectable","on"),this.imageResize(i)},this))},linkObserver:function(e){var i=t(e.target),n=i.offset();if(this.opts.iframe){var s=this.$frame.offset();n.top=s.top+(n.top-t(this.document).scrollTop()),n.left+=s.left}var a=t('<span class="redactor-link-tooltip"></span>'),r=i.attr("href");r.length>24&&(r=r.substring(0,24)+"...");var o=t('<a href="'+i.attr("href")+'" target="_blank">'+r+"</a>").on("click",t.proxy(function(){this.linkObserverTooltipClose(!1)},this)),l=t('<a href="#">'+this.opts.curLang.edit+"</a>").on("click",t.proxy(function(t){t.preventDefault(),this.linkShow(),this.linkObserverTooltipClose(!1)},this)),c=t('<a href="#">'+this.opts.curLang.unlink+"</a>").on("click",t.proxy(function(t){t.preventDefault(),this.execCommand("unlink"),this.linkObserverTooltipClose(!1)},this));a.append(o),a.append(" | "),a.append(l),a.append(" | "),a.append(c),a.css({top:n.top+20+"px",left:n.left+"px"}),t(".redactor-link-tooltip").remove(),t("body").append(a)},linkObserverTooltipClose:function(e){return e!==!1&&"A"==e.target.tagName?!1:void t(".redactor-link-tooltip").remove()},getSelection:function(){return this.opts.rangy?this.opts.iframe?rangy.getSelection(this.$frame[0]):rangy.getSelection():this.document.getSelection()},getRange:function(){if(this.opts.rangy)return this.opts.iframe?rangy.createRange(this.iframeDoc()):rangy.createRange();if(this.document.getSelection){var t=this.getSelection();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}return this.document.createRange()},selectionElement:function(t){this.setCaret(t)},selectionStart:function(t){this.selectionSet(t[0]||t,0,null,0)},selectionEnd:function(t){this.selectionSet(t[0]||t,1,null,1)},selectionSet:function(t,e,i,n){null==i&&(i=t),null==n&&(n=e);var s=this.getSelection();if(s){var a=this.getRange();a.setStart(t,e),a.setEnd(i,n);try{s.removeAllRanges()}catch(r){}s.addRange(a)}},selectionWrap:function(t){t=t.toLowerCase();var e=this.getBlock();if(e){var i=this.formatChangeTag(e,t);return this.sync(),i}var n=this.getSelection(),s=n.getRangeAt(0),i=document.createElement(t);return i.appendChild(s.extractContents()),s.insertNode(i),this.selectionElement(i),i},selectionAll:function(){var t=this.getRange();t.selectNodeContents(this.$editor[0]);var e=this.getSelection();e.removeAllRanges(),e.addRange(t)},selectionRemove:function(){this.getSelection().removeAllRanges()},getCaretOffset:function(e){var i=0,n=this.getRange(),s=n.cloneRange();return s.selectNodeContents(e),s.setEnd(n.endContainer,n.endOffset),i=t.trim(s.toString()).length},getCaretOffsetRange:function(){return new s(this.getSelection().getRangeAt(0))},setCaret:function(t,e,i){"undefined"==typeof i&&(i=e),t=t[0]||t;var n=this.getRange();n.selectNodeContents(t);var s,a=this.getTextNodesIn(t),r=!1,o=0;if(1==a.length&&e)n.setStart(a[0],e),n.setEnd(a[0],i);else for(var l,c=0;l=a[c++];){if(s=o+l.length,!r&&e>=o&&(s>e||e==s&&c<a.length)&&(n.setStart(l,e-o),r=!0),r&&s>=i){n.setEnd(l,i-o);break}o=s}var d=this.getSelection();d.removeAllRanges(),d.addRange(n)},getTextNodesIn:function(t){var e=[];if(3==t.nodeType)e.push(t);else for(var i=t.childNodes,n=0,s=i.length;s>n;++n)e.push.apply(e,this.getTextNodesIn(i[n]));return e},getCurrent:function(){var t=!1,e=this.getSelection();return e&&e.rangeCount>0&&(t=e.getRangeAt(0).startContainer),this.isParentRedactor(t)},getParent:function(e){return e=e||this.getCurrent(),e?this.isParentRedactor(t(e).parent()[0]):!1},getBlock:function(e){for("undefined"==typeof e&&(e=this.getCurrent());e;){if(this.nodeTestBlocks(e))return t(e).hasClass("redactor_editor")?!1:e;e=e.parentNode}return!1},getBlocks:function(e){var i=[];if("undefined"==typeof e){var n=this.getRange();if(n&&n.collapsed===!0)return[this.getBlock()];var e=this.getNodes(n)}return t.each(e,t.proxy(function(e,n){return this.opts.iframe===!1&&0==t(n).parents("div.redactor_editor").size()?!1:void(this.nodeTestBlocks(n)&&i.push(n))},this)),0===i.length&&(i=[this.getBlock()]),i},nodeTestBlocks:function(t){return 1==t.nodeType&&this.rTestBlock.test(t.nodeName)},tagTestBlock:function(t){return this.rTestBlock.test(t)},getNodes:function(e,i){if("undefined"==typeof e||0==e)var e=this.getRange();if(e&&e.collapsed===!0){if("undefined"==typeof i&&this.tagTestBlock(i)){var n=this.getBlock();return n.tagName==i?[n]:[]}return[this.getCurrent()]}var s=[],a=[],r=this.document.getSelection();if(r.isCollapsed||(s=this.getRangeSelectedNodes(r.getRangeAt(0))),t.each(s,t.proxy(function(e,n){return this.opts.iframe===!1&&0==t(n).parents("div.redactor_editor").size()?!1:void("undefined"==typeof i?""!=t.trim(n.textContent)&&a.push(n):n.tagName==i&&a.push(n))},this)),0==a.length){if("undefined"==typeof i&&this.tagTestBlock(i)){var n=this.getBlock();return n.tagName==i?a.push(n):[]}a.push(this.getCurrent())}var o=a[a.length-1];return this.nodeTestBlocks(o)&&(a=a.slice(0,-1)),a},getElement:function(e){for(e||(e=this.getCurrent());e;){if(1==e.nodeType)return t(e).hasClass("redactor_editor")?!1:e;e=e.parentNode}return!1},getRangeSelectedNodes:function(t){t=t||this.getRange();var e=t.startContainer,i=t.endContainer;if(e==i)return[e];for(var n=[];e&&e!=i;)n.push(e=this.nextNode(e));for(e=t.startContainer;e&&e!=t.commonAncestorContainer;)n.unshift(e),e=e.parentNode;return n},nextNode:function(t){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null},getSelectionText:function(){return this.getSelection().toString()},getSelectionHtml:function(){var t="",e=this.getSelection();if(e.rangeCount){for(var i=this.document.createElement("div"),n=e.rangeCount,s=0;n>s;++s)i.appendChild(e.getRangeAt(s).cloneContents());t=i.innerHTML}return this.syncClean(t)},selectionSave:function(){this.isFocused()||this.$editor.focus(),this.opts.rangy?this.savedSel=rangy.saveSelection():this.selectionCreateMarker(this.getRange())},selectionCreateMarker:function(e){if(e){var i=t('<span id="selection-marker-1" class="redactor-selection-marker">'+this.opts.invisibleSpace+"</span>",this.document)[0],n=t('<span id="selection-marker-2" class="redactor-selection-marker">'+this.opts.invisibleSpace+"</span>",this.document)[0];e.collapsed===!0?this.selectionSetMarker(e,i,!0):(this.selectionSetMarker(e,i,!0),this.selectionSetMarker(e,n,!1)),this.savedSel=this.$editor.html(),this.selectionRestore(!1,!1)}},selectionSetMarker:function(t,e,i){var n=t.cloneRange();n.collapse(i),n.insertNode(e),n.detach()},selectionRestore:function(t,e){if(this.opts.rangy)rangy.restoreSelection(this.savedSel);else{t===!0&&this.savedSel&&this.$editor.html(this.savedSel);var i=this.$editor.find("span#selection-marker-1"),n=this.$editor.find("span#selection-marker-2");this.browser("mozilla")?this.$editor.focus():this.isFocused()||this.$editor.focus(),0!=i.length&&0!=n.length?this.selectionSet(i[0],0,n[0],0):0!=i.length&&this.selectionSet(i[0],0,null,0),e!==!1&&(this.selectionRemoveMarkers(),this.savedSel=!1)}},selectionRemoveMarkers:function(){this.opts.rangy?rangy.removeMarkers(this.savedSel):t.each(this.$editor.find("span.redactor-selection-marker"),function(){var e=t.trim(t(this).html().replace(/[^\u0000-\u1C7F]/g,""));""==e?t(this).remove():t(this).removeAttr("class").removeAttr("id")})},tableShow:function(){this.selectionSave(),this.modalInit(this.opts.curLang.table,this.opts.modal_table,300,t.proxy(function(){t("#redactor_insert_table_btn").click(t.proxy(this.tableInsert,this)),setTimeout(function(){t("#redactor_table_rows").focus()},200)},this))},tableInsert:function(){var e,i,n,s,a=t("#redactor_table_rows").val(),r=t("#redactor_table_columns").val(),o=t("<div></div>"),l=Math.floor(99999*Math.random()),c=t('<table id="table'+l+'"><tbody></tbody></table>');for(e=0;a>e;e++){for(i=t("<tr></tr>"),n=0;r>n;n++)s=t("<td>"+this.opts.invisibleSpace+"</td>"),0===e&&0===n&&s.append('<span id="selection-marker-1">'+this.opts.invisibleSpace+"</span>"),t(i).append(s);c.append(i)}o.append(c);var d=o.html();this.modalClose(),this.selectionRestore();var u=this.getBlock()||this.getCurrent();u&&"BODY"!=u.tagName?t(u).after(d):this.insertHtmlAdvanced(d,!1),this.selectionRestore();var h=this.$editor.find("#table"+l);this.buttonActiveObserver(),h.find("span#selection-marker-1").remove(),h.removeAttr("id"),this.sync()},tableDeleteTable:function(){var e=t(this.getParent()).closest("table");return this.isParentRedactor(e)?0==e.size()?!1:(this.bufferSet(),e.remove(),void this.sync()):!1},tableDeleteRow:function(){var e=t(this.getParent()).closest("table");if(!this.isParentRedactor(e))return!1;if(0==e.size())return!1;this.bufferSet();var i=t(this.getParent()).closest("tr"),n=i.prev().length?i.prev():i.next();if(n.length){var s=n.children("td").first();s.length&&s.prepend('<span id="selection-marker-1">'+this.opts.invisibleSpace+"</span>")}i.remove(),this.selectionRestore(),this.sync()},tableDeleteColumn:function(){var e=t(this.getParent()).closest("table");if(!this.isParentRedactor(e))return!1;if(0==e.size())return!1;this.bufferSet();var i=t(this.getParent()).closest("td"),n=i.get(0).cellIndex;e.find("tr").each(t.proxy(function(e,i){var s=0>n-1?n+1:n-1;0===e&&t(i).find("td").eq(s).prepend('<span id="selection-marker-1">'+this.opts.invisibleSpace+"</span>"),t(i).find("td").eq(n).remove()},this)),this.selectionRestore(),this.sync()},tableAddHead:function(){var e=t(this.getParent()).closest("table");if(!this.isParentRedactor(e))return!1;if(0==e.size())return!1;if(this.bufferSet(),0!==e.find("thead").size())this.tableDeleteHead();else{var i=e.find("tr").first().clone();i.find("td").html(this.opts.invisibleSpace),$thead=t("<thead></thead>"),$thead.append(i),e.prepend($thead),this.sync()}},tableDeleteHead:function(){var e=t(this.getParent()).closest("table");if(!this.isParentRedactor(e))return!1;var i=e.find("thead");return 0==i.size()?!1:(this.bufferSet(),i.remove(),void this.sync())},tableAddRowAbove:function(){this.tableAddRow("before")},tableAddRowBelow:function(){this.tableAddRow("after")},tableAddColumnLeft:function(){this.tableAddColumn("before")},tableAddColumnRight:function(){this.tableAddColumn("after")},tableAddRow:function(e){var i=t(this.getParent()).closest("table");if(!this.isParentRedactor(i))return!1;if(0==i.size())return!1;this.bufferSet();var n=t(this.getParent()).closest("tr"),s=n.clone();s.find("td").html(this.opts.invisibleSpace),"after"===e?n.after(s):n.before(s),this.sync()},tableAddColumn:function(e){var i=t(this.getParent()).closest("table");if(!this.isParentRedactor(i))return!1;if(0==i.size())return!1;this.bufferSet();var n=0,s=t(this.getParent()).closest("tr"),a=t(this.getParent()).closest("td");s.find("td").each(t.proxy(function(e,i){t(i)[0]===a[0]&&(n=e)},this)),i.find("tr").each(t.proxy(function(i,s){var a=t(s).find("td").eq(n),r=a.clone();r.html(this.opts.invisibleSpace),"after"===e?a.after(r):a.before(r)},this)),this.sync()},videoShow:function(){this.selectionSave(),this.modalInit(this.opts.curLang.video,this.opts.modal_video,600,t.proxy(function(){t("#redactor_insert_video_btn").click(t.proxy(this.videoInsert,this)),setTimeout(function(){t("#redactor_insert_video_area").focus()},200)},this))},videoInsert:function(){var e=t("#redactor_insert_video_area").val();e=this.cleanStripTags(e),this.selectionRestore();var i=this.getBlock()||this.getCurrent();i?t(i).after(e):this.insertHtmlAdvanced(e,!1),this.sync(),this.modalClose()},linkShow:function(){this.selectionSave();var e=t.proxy(function(){this.insert_link_node=!1;var e=this.getSelection(),i="",n="",s="",a=this.getParent(),r=t(a).parent().get(0);r&&"A"===r.tagName&&(a=r),a&&"A"===a.tagName?(i=a.href,n=t(a).text(),s=a.target,this.insert_link_node=a):n=e.toString(),t(".redactor_link_text").val(n);var o=self.location.href.replace(/\/$/i,""),l=i.replace(o,"");if(this.opts.linkProtocol===!1){var c=new RegExp("^(http|ftp|https)://"+self.location.host,"i");l=l.replace(c,"")}var d=t("#redactor_tabs").find("a");this.opts.linkEmail===!1&&d.eq(1).remove(),this.opts.linkAnchor===!1&&d.eq(2).remove(),this.opts.linkEmail===!1&&this.opts.linkAnchor===!1?(t("#redactor_tabs").remove(),t("#redactor_link_url").val(l)):0===i.search("mailto:")?(this.modalSetTab.call(this,2),t("#redactor_tab_selected").val(2),t("#redactor_link_mailto").val(i.replace("mailto:",""))):0===l.search(/^#/gi)?(this.modalSetTab.call(this,3),t("#redactor_tab_selected").val(3),t("#redactor_link_anchor").val(l.replace(/^#/gi,""))):t("#redactor_link_url").val(l),"_blank"===s&&t("#redactor_link_blank").prop("checked",!0),t("#redactor_insert_link_btn").click(t.proxy(this.linkProcess,this)),setTimeout(function(){t("#redactor_link_url").focus()},200)},this);this.modalInit(this.opts.curLang.link,this.opts.modal_link,460,e)},linkProcess:function(){var e=t("#redactor_tab_selected").val(),i="",n="",s="",a="";if("1"===e){i=t("#redactor_link_url").val(),n=t("#redactor_link_url_text").val(),t("#redactor_link_blank").prop("checked")&&(s=' target="_blank"',a="_blank");var r="((xn--)?[a-z0-9]+(-[a-z0-9]+)*.)+[a-z]{2,}",o=new RegExp("^(http|ftp|https)://"+r,"i"),l=new RegExp("^"+r,"i");-1==i.search(o)&&0==i.search(l)&&this.opts.linkProtocol&&(i=this.opts.linkProtocol+i)}else"2"===e?(i="mailto:"+t("#redactor_link_mailto").val(),n=t("#redactor_link_mailto_text").val()):"3"===e&&(i="#"+t("#redactor_link_anchor").val(),n=t("#redactor_link_anchor_text").val());n=n.replace(/<|>/g,""),this.linkInsert('<a href="'+i+'"'+s+">"+n+"</a>",t.trim(n),i,a)},linkInsert:function(e,i,n,s){if(this.selectionRestore(),""!==i)if(this.insert_link_node)this.bufferSet(),t(this.insert_link_node).text(i).attr("href",n),""!==s?t(this.insert_link_node).attr("target",s):t(this.insert_link_node).removeAttr("target"),this.sync();else{var a=t(e).addClass("redactor-added-link");this.exec("inserthtml",this.outerHtml(a),!1),this.$editor.find("a.redactor-added-link").removeAttr("style").removeClass("redactor-added-link").each(function(){""==this.className&&t(this).removeAttr("class")}),this.sync()}setTimeout(t.proxy(function(){this.opts.observeLinks&&this.observeLinks()},this),5),this.modalClose()},fileShow:function(){this.selectionSave();var e=t.proxy(function(){var e=this.getSelection(),i="";i=this.oldIE()?e.text:e.toString(),t("#redactor_filename").val(i),this.isMobile()||this.draguploadInit("#redactor_file",{url:this.opts.fileUpload,uploadFields:this.opts.uploadFields,success:t.proxy(this.fileCallback,this),error:t.proxy(function(t,e){this.callback("fileUploadError",e)},this),uploadParam:this.opts.fileUploadParam}),this.uploadInit("redactor_file",{auto:!0,url:this.opts.fileUpload,success:t.proxy(this.fileCallback,this),error:t.proxy(function(t,e){this.callback("fileUploadError",e)},this)})},this);this.modalInit(this.opts.curLang.file,this.opts.modal_file,500,e)},fileCallback:function(e){if(this.selectionRestore(),e!==!1){var i=t("#redactor_filename").val();""===i&&(i=e.filename);var n='<a href="'+e.filelink+'" id="filelink-marker">'+i+"</a>";this.browser("webkit")&&this.window.chrome&&(n+="&nbsp;"),this.execCommand("inserthtml",n,!1);var s=t(this.$editor.find("a#filelink-marker"));0!=s.size()?s.removeAttr("id"):s=!1,this.sync(),this.callback("fileUpload",s,e)}this.modalClose()},imageShow:function(){this.selectionSave();var e=t.proxy(function(){if(this.opts.imageGetJson?t.getJSON(this.opts.imageGetJson,t.proxy(function(e){var i={},n=0;t.each(e,t.proxy(function(t,e){"undefined"!=typeof e.folder&&(n++,i[e.folder]=n)},this));var s=!1;if(t.each(e,t.proxy(function(e,n){var a="";"undefined"!=typeof n.title&&(a=n.title);var r=0;t.isEmptyObject(i)||"undefined"==typeof n.folder||(r=i[n.folder],s===!1&&(s=".redactorfolder"+r));var o=t('<img src="'+n.thumb+'" class="redactorfolder redactorfolder'+r+'" rel="'+n.image+'" title="'+a+'" />');t("#redactor_image_box").append(o),t(o).click(t.proxy(this.imageThumbClick,this))},this)),!t.isEmptyObject(i)){t(".redactorfolder").hide(),t(s).show();var a=function(e){t(".redactorfolder").hide(),t(".redactorfolder"+t(e.target).val()).show()},r=t('<select id="redactor_image_box_select">');t.each(i,function(e,i){r.append(t('<option value="'+i+'">'+e+"</option>"))}),t("#redactor_image_box").before(r),r.change(a)}},this)):t("#redactor_tabs").find("a").eq(1).remove(),this.opts.imageUpload||this.opts.s3)this.isMobile()||this.opts.s3!==!1||t("#redactor_file").length&&this.draguploadInit("#redactor_file",{url:this.opts.imageUpload,uploadFields:this.opts.uploadFields,success:t.proxy(this.imageCallback,this),error:t.proxy(function(t,e){this.callback("imageUploadError",e)},this),uploadParam:this.opts.imageUploadParam}),this.opts.s3===!1?this.uploadInit("redactor_file",{auto:!0,url:this.opts.imageUpload,success:t.proxy(this.imageCallback,this),error:t.proxy(function(t,e){this.callback("imageUploadError",e)},this)}):t("#redactor_file").on("change.redactor",t.proxy(this.s3handleFileSelect,this));else if(t(".redactor_tab").hide(),this.opts.imageGetJson){var e=t("#redactor_tabs").find("a");e.eq(0).remove(),e.eq(1).addClass("redactor_tabs_act"),t("#redactor_tab2").show()}else t("#redactor_tabs").remove(),t("#redactor_tab3").show();t("#redactor_upload_btn").click(t.proxy(this.imageCallbackLink,this)),this.opts.imageUpload||this.opts.imageGetJson||setTimeout(function(){t("#redactor_file_link").focus()},200)},this);this.modalInit(this.opts.curLang.image,this.opts.modal_image,610,e)},imageEdit:function(e){var i=e,n=i.parent().parent(),s=t.proxy(function(){t("#redactor_file_alt").val(i.attr("alt")),t("#redactor_image_edit_src").attr("href",i.attr("src")),t("#redactor_form_image_align").val(i.css("float")),"A"===t(n).get(0).tagName&&(t("#redactor_file_link").val(t(n).attr("href")),"_blank"==t(n).attr("target")&&t("#redactor_link_blank").prop("checked",!0)),t("#redactor_image_delete_btn").click(t.proxy(function(){this.imageRemove(i)},this)),t("#redactorSaveBtn").click(t.proxy(function(){this.imageSave(i)},this))},this);this.modalInit(this.opts.curLang.edit,this.opts.modal_image_edit,380,s)},imageRemove:function(e){var i=t(e).parent();t(e).remove(),i.length&&"P"===i[0].tagName&&(this.$editor.focus(),this.selectionStart(i)),this.callback("imageDelete",e),this.modalClose(),this.sync()},imageSave:function(e){var i=t(e),n=i.parent();i.attr("alt",t("#redactor_file_alt").val());var s=t("#redactor_form_image_align").val();if("left"===s)this.imageMargin="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0",i.css({"float":"left",margin:this.imageMargin});else if("right"===s)this.imageMargin="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin,i.css({"float":"right",margin:this.imageMargin});else{this.imageMargin="0px";var a=i.closest("#redactor-image-box");0!=a.size()&&a.css({"float":"",margin:""}),i.css({"float":"",margin:""})}var r=t.trim(t("#redactor_file_link").val());if(""!==r){var o=!1;if(t("#redactor_link_blank").prop("checked")&&(o=!0),"A"!==n.get(0).tagName){var l=t('<a href="'+r+'">'+this.outerHtml(e)+"</a>");o&&l.attr("target","_blank"),i.replaceWith(l)}else n.attr("href",r),o?n.attr("target","_blank"):n.removeAttr("target")}else"A"===n.get(0).tagName&&n.replaceWith(this.outerHtml(e));this.modalClose(),this.observeImages(),this.sync()},imageResizeHide:function(e){if(e!==!1&&0!=t(e.target).parent().size()&&"redactor-image-box"===t(e.target).parent()[0].id)return!1;var i=this.$editor.find("#redactor-image-box");return 0==i.size()?!1:(this.$editor.find("#redactor-image-editter, #redactor-image-resizer").remove(),"0px"!=this.imageMargin&&(i.find("img").css("margin",this.imageMargin),i.css("margin",""),this.imageMargin="0px"),i.find("img").css("opacity",""),i.replaceWith(function(){return t(this).contents()}),t(document).off("click.redactor-image-resize-hide"),this.$editor.off("click.redactor-image-resize-hide"),this.$editor.off("keydown.redactor-image-delete"),void this.sync())},imageResize:function(e){var i=t(e);i.on("mousedown",t.proxy(function(){this.imageResizeHide(!1)},this)),i.on("dragstart",t.proxy(function(){this.$editor.on("drop.redactor-image-inside-drop",t.proxy(function(){setTimeout(t.proxy(function(){this.observeImages(),this.$editor.off("drop.redactor-image-inside-drop"),this.sync()},this),1)},this))},this)),i.on("click",t.proxy(function(){if(0!=this.$editor.find("#redactor-image-box").size())return!1;var e,n,s=i.width()/i.height(),a=20,r=this.imageResizeControls(i),o=!1;r.on("mousedown",function(t){o=!0,t.preventDefault(),s=i.width()/i.height(),e=Math.round(t.pageX-i.eq(0).offset().left),n=Math.round(t.pageY-i.eq(0).offset().top)}),t(this.document.body).on("mousemove",t.proxy(function(t){if(o){var r=(Math.round(t.pageX-i.eq(0).offset().left)-e,Math.round(t.pageY-i.eq(0).offset().top)-n),l=i.height(),c=parseInt(l,10)+r,d=Math.round(c*s);d>a&&(i.width(d),this.imageEditter.css(100>d?{marginTop:"-7px",marginLeft:"-13px",fontSize:"9px",padding:"3px 5px"}:{marginTop:"-11px",marginLeft:"-18px",fontSize:"11px",padding:"7px 10px"})),e=Math.round(t.pageX-i.eq(0).offset().left),n=Math.round(t.pageY-i.eq(0).offset().top),this.sync()}},this)).on("mouseup",function(){o=!1}),this.$editor.on("keydown.redactor-image-delete",t.proxy(function(t){var e=t.which;(this.keyCode.BACKSPACE==e||this.keyCode.DELETE==e)&&(this.bufferSet(),this.imageResizeHide(!1),this.imageRemove(i))},this)),t(document).on("click.redactor-image-resize-hide",t.proxy(this.imageResizeHide,this)),this.$editor.on("click.redactor-image-resize-hide",t.proxy(this.imageResizeHide,this))},this))},imageResizeControls:function(e){var i=t('<span id="redactor-image-box" data-redactor="verified">');i.css({position:"relative",display:"inline-block",lineHeight:0,outline:"1px dashed rgba(0, 0, 0, .6)","float":e.css("float")}),i.attr("contenteditable",!1),this.imageMargin=e[0].style.margin,"0px"!=this.imageMargin&&(i.css("margin",this.imageMargin),e.css("margin","")),e.css("opacity",.5).after(i),this.imageEditter=t('<span id="redactor-image-editter" data-redactor="verified">'+this.opts.curLang.edit+"</span>"),this.imageEditter.css({position:"absolute",zIndex:2,top:"50%",left:"50%",marginTop:"-11px",marginLeft:"-18px",lineHeight:1,backgroundColor:"#000",color:"#fff",fontSize:"11px",padding:"7px 10px",cursor:"pointer"}),this.imageEditter.attr("contenteditable",!1),this.imageEditter.on("click",t.proxy(function(){this.imageEdit(e)},this)),i.append(this.imageEditter);var n=t('<span id="redactor-image-resizer" data-redactor="verified"></span>');return n.css({position:"absolute",zIndex:2,lineHeight:1,cursor:"nw-resize",bottom:"-4px",right:"-5px",border:"1px solid #fff",backgroundColor:"#000",width:"8px",height:"8px"}),n.attr("contenteditable",!1),i.append(n),i.append(e),n},imageThumbClick:function(e){var i='<img id="image-marker" src="'+t(e.target).attr("rel")+'" alt="'+t(e.target).attr("title")+'" />',n=this.getParent();this.opts.paragraphy&&0==t(n).closest("li").size()&&(i="<p>"+i+"</p>"),this.imageInsert(i,!0)},imageCallbackLink:function(){var e=t("#redactor_file_link").val();if(""!==e){var i='<img id="image-marker" src="'+e+'" />';this.opts.linebreaks===!1&&(i="<p>"+i+"</p>"),this.imageInsert(i,!0)}else this.modalClose()},imageCallback:function(t){this.imageInsert(t)},imageInsert:function(e,i){if(this.selectionRestore(),e!==!1){var n="";if(i!==!0){n='<img id="image-marker" src="'+e.filelink+'" />';var s=this.getParent();this.opts.paragraphy&&0==t(s).closest("li").size()&&(n="<p>"+n+"</p>")}else n=e;this.execCommand("inserthtml",n,!1);var a=t(this.$editor.find("img#image-marker"));a.length?a.removeAttr("id"):a=!1,this.sync(),i!==!0&&this.callback("imageUpload",a,e)}this.modalClose(),this.observeImages()},modalTemplatesInit:function(){t.extend(this.opts,{modal_file:String()+'<section><div id="redactor-progress" class="redactor-progress redactor-progress-striped" style="display: none;"><div id="redactor-progress-bar" class="redactor-progress-bar" style="width: 100%;"></div></div><form id="redactorUploadFileForm" method="post" action="" enctype="multipart/form-data"><label>'+this.opts.curLang.filename+'</label><input type="text" id="redactor_filename" class="redactor_input" /><div style="margin-top: 7px;"><input type="file" id="redactor_file" name="'+this.opts.fileUploadParam+'" /></div></form></section>',modal_image_edit:String()+"<section><label>"+this.opts.curLang.title+'</label><input id="redactor_file_alt" class="redactor_input" /><label>'+this.opts.curLang.link+'</label><input id="redactor_file_link" class="redactor_input" /><label><input type="checkbox" id="redactor_link_blank"> '+this.opts.curLang.link_new_tab+"</label><label>"+this.opts.curLang.image_position+'</label><select id="redactor_form_image_align"><option value="none">'+this.opts.curLang.none+'</option><option value="left">'+this.opts.curLang.left+'</option><option value="right">'+this.opts.curLang.right+'</option></select></section><footer><button id="redactor_image_delete_btn" class="redactor_modal_btn redactor_modal_delete_btn">'+this.opts.curLang._delete+'</button>&nbsp;&nbsp;&nbsp;<button class="redactor_modal_btn redactor_btn_modal_close">'+this.opts.curLang.cancel+'</button><input type="button" name="save" class="redactor_modal_btn redactor_modal_action_btn" id="redactorSaveBtn" value="'+this.opts.curLang.save+'" /></footer>',modal_image:String()+'<section><div id="redactor_tabs"><a href="#" class="redactor_tabs_act">'+this.opts.curLang.upload+'</a><a href="#">'+this.opts.curLang.choose+'</a><a href="#">'+this.opts.curLang.link+'</a></div><div id="redactor-progress" class="redactor-progress redactor-progress-striped" style="display: none;"><div id="redactor-progress-bar" class="redactor-progress-bar" style="width: 100%;"></div></div><form id="redactorInsertImageForm" method="post" action="" enctype="multipart/form-data"><div id="redactor_tab1" class="redactor_tab"><input type="file" id="redactor_file" name="'+this.opts.imageUploadParam+'" /></div><div id="redactor_tab2" class="redactor_tab" style="display: none;"><div id="redactor_image_box"></div></div></form><div id="redactor_tab3" class="redactor_tab" style="display: none;"><label>'+this.opts.curLang.image_web_link+'</label><input type="text" name="redactor_file_link" id="redactor_file_link" class="redactor_input"  /></div></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">'+this.opts.curLang.cancel+'</button><input type="button" name="upload" class="redactor_modal_btn redactor_modal_action_btn" id="redactor_upload_btn" value="'+this.opts.curLang.insert+'" /></footer>',modal_link:String()+'<section><form id="redactorInsertLinkForm" method="post" action=""><div id="redactor_tabs"><a href="#" class="redactor_tabs_act">URL</a><a href="#">Email</a><a href="#">'+this.opts.curLang.anchor+'</a></div><input type="hidden" id="redactor_tab_selected" value="1" /><div class="redactor_tab" id="redactor_tab1"><label>URL</label><input type="text" id="redactor_link_url" class="redactor_input"  /><label>'+this.opts.curLang.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_url_text" /><label><input type="checkbox" id="redactor_link_blank"> '+this.opts.curLang.link_new_tab+'</label></div><div class="redactor_tab" id="redactor_tab2" style="display: none;"><label>Email</label><input type="text" id="redactor_link_mailto" class="redactor_input" /><label>'+this.opts.curLang.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_mailto_text" /></div><div class="redactor_tab" id="redactor_tab3" style="display: none;"><label>'+this.opts.curLang.anchor+'</label><input type="text" class="redactor_input" id="redactor_link_anchor"  /><label>'+this.opts.curLang.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_anchor_text" /></div></form></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">'+this.opts.curLang.cancel+'</button><input type="button" class="redactor_modal_btn redactor_modal_action_btn" id="redactor_insert_link_btn" value="'+this.opts.curLang.insert+'" /></footer>',modal_table:String()+"<section><label>"+this.opts.curLang.rows+'</label><input type="text" size="5" value="2" id="redactor_table_rows" /><label>'+this.opts.curLang.columns+'</label><input type="text" size="5" value="3" id="redactor_table_columns" /></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">'+this.opts.curLang.cancel+'</button><input type="button" name="upload" class="redactor_modal_btn redactor_modal_action_btn" id="redactor_insert_table_btn" value="'+this.opts.curLang.insert+'" /></footer>',modal_video:String()+'<section><form id="redactorInsertVideoForm"><label>'+this.opts.curLang.video_html_code+'</label><textarea id="redactor_insert_video_area" style="width: 99%; height: 160px;"></textarea></form></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">'+this.opts.curLang.cancel+'</button><input type="button" class="redactor_modal_btn redactor_modal_action_btn" id="redactor_insert_video_btn" value="'+this.opts.curLang.insert+'" /></footer>'})},modalInit:function(e,i,n,s){var a=t("#redactor_modal_overlay");a.length||(this.$overlay=a=t('<div id="redactor_modal_overlay" style="display: none;"></div>'),t("body").prepend(this.$overlay)),this.opts.modalOverlay&&a.show().on("click",t.proxy(this.modalClose,this));var r=t("#redactor_modal");r.length||(this.$modal=r=t('<div id="redactor_modal" style="display: none;"><div id="redactor_modal_close">&times;</div><header id="redactor_modal_header"></header><div id="redactor_modal_inner"></div></div>'),t("body").append(this.$modal)),t("#redactor_modal_close").on("click",t.proxy(this.modalClose,this)),this.hdlModalClose=t.proxy(function(t){return t.keyCode===this.keyCode.ESC?(this.modalClose(),!1):void 0},this),t(document).keyup(this.hdlModalClose),this.$editor.keyup(this.hdlModalClose),this.modalcontent=!1,0==i.indexOf("#")?(this.modalcontent=t(i),t("#redactor_modal_inner").empty().append(this.modalcontent.html()),this.modalcontent.html("")):t("#redactor_modal_inner").empty().append(i),r.find("#redactor_modal_header").html(e),"undefined"!=typeof t.fn.draggable&&(r.draggable({handle:"#redactor_modal_header"}),r.find("#redactor_modal_header").css("cursor","move"));var o=t("#redactor_tabs");if(o.length){var l=this;o.find("a").each(function(e,i){e++,t(i).on("click",function(i){if(i.preventDefault(),o.find("a").removeClass("redactor_tabs_act"),t(this).addClass("redactor_tabs_act"),t(".redactor_tab").hide(),t("#redactor_tab"+e).show(),t("#redactor_tab_selected").val(e),l.isMobile()===!1){var n=r.outerHeight();r.css("margin-top","-"+(n+10)/2+"px")}})})}r.find(".redactor_btn_modal_close").on("click",t.proxy(this.modalClose,this)),this.saveModalScroll=this.opts.autoresize===!0?this.document.body.scrollTop:this.$editor.scrollTop(),this.isMobile()===!1?(r.css({position:"fixed",top:"-2000px",left:"50%",width:n+"px",marginLeft:"-"+(n+60)/2+"px"}).show(),this.modalSaveBodyOveflow=t(document.body).css("overflow"),t(document.body).css("overflow","hidden")):r.css({position:"fixed",width:"100%",height:"100%",top:"0",left:"0",margin:"0",minHeight:"300px"}).show(),"function"==typeof s&&s(),this.isMobile()===!1&&setTimeout(function(){var t=r.outerHeight();
r.css({top:"50%",height:"auto",minHeight:"auto",marginTop:"-"+(t+10)/2+"px"})},10)},modalClose:function(){return t("#redactor_modal_close").off("click",this.modalClose),t("#redactor_modal").fadeOut("fast",t.proxy(function(){var e=t("#redactor_modal_inner");this.modalcontent!==!1&&(this.modalcontent.html(e.html()),this.modalcontent=!1),e.html(""),this.opts.modalOverlay&&t("#redactor_modal_overlay").hide().off("click",this.modalClose),t(document).unbind("keyup",this.hdlModalClose),this.$editor.unbind("keyup",this.hdlModalClose),this.selectionRestore(),this.opts.autoresize&&this.saveModalScroll?t(this.document.body).scrollTop(this.saveModalScroll):this.opts.autoresize===!1&&this.saveModalScroll&&this.$editor.scrollTop(this.saveModalScroll)},this)),this.isMobile()===!1&&t(document.body).css("overflow",this.modalSaveBodyOveflow?this.modalSaveBodyOveflow:"visible"),!1},modalSetTab:function(e){t(".redactor_tab").hide(),t("#redactor_tabs").find("a").removeClass("redactor_tabs_act").eq(e-1).addClass("redactor_tabs_act"),t("#redactor_tab"+e).show()},s3handleFileSelect:function(t){for(var e,i=t.target.files,n=0;e=i[n];n++)this.s3uploadFile(e)},s3uploadFile:function(e){this.s3executeOnSignedUrl(e,t.proxy(function(t){this.s3uploadToS3(e,t)},this))},s3executeOnSignedUrl:function(e,i){var n=new XMLHttpRequest,s="?";"-1"!=this.opts.s3.search(/\?/)&&(s="&"),n.open("GET",this.opts.s3+s+"name="+e.name+"&type="+e.type,!0),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(){4==this.readyState&&200==this.status?(t("#redactor-progress").fadeIn(),i(decodeURIComponent(this.responseText))):4==this.readyState&&200!=this.status},n.send()},s3createCORSRequest:function(t,e){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(t,e,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(t,e)):i=null,i},s3uploadToS3:function(e,i){var n=this.s3createCORSRequest("PUT",i);n&&(n.onload=t.proxy(function(){if(200==n.status){t("#redactor-progress, #redactor-progress-drag").hide();var e=i.split("?");if(!e[0])return!1;this.selectionRestore();var s="";s='<img id="image-marker" src="'+e[0]+'" />',this.opts.paragraphy&&(s="<p>"+s+"</p>"),this.execCommand("inserthtml",s,!1);var a=t(this.$editor.find("img#image-marker"));a.length?a.removeAttr("id"):a=!1,this.sync(),this.callback("imageUpload",a,!1),this.modalClose(),this.observeImages()}},this),n.onerror=function(){},n.upload.onprogress=function(){},n.setRequestHeader("Content-Type",e.type),n.setRequestHeader("x-amz-acl","public-read"),n.send(e))},uploadInit:function(e,i){this.uploadOptions={url:!1,success:!1,error:!1,start:!1,trigger:!1,auto:!1,input:!1},t.extend(this.uploadOptions,i);var n=t("#"+e);n.length&&"INPUT"===n[0].tagName?(this.uploadOptions.input=n,this.el=t(n[0].form)):this.el=n,this.element_action=this.el.attr("action"),this.uploadOptions.auto?t(this.uploadOptions.input).change(t.proxy(function(t){this.el.submit(function(){return!1}),this.uploadSubmit(t)},this)):this.uploadOptions.trigger&&t("#"+this.uploadOptions.trigger).click(t.proxy(this.uploadSubmit,this))},uploadSubmit:function(){t("#redactor-progress").fadeIn(),this.uploadForm(this.element,this.uploadFrame())},uploadFrame:function(){this.id="f"+Math.floor(99999*Math.random());var e=this.document.createElement("div"),i='<iframe style="display:none" id="'+this.id+'" name="'+this.id+'"></iframe>';return e.innerHTML=i,t(e).appendTo("body"),this.uploadOptions.start&&this.uploadOptions.start(),t("#"+this.id).load(t.proxy(this.uploadLoaded,this)),this.id},uploadForm:function(e,i){if(this.uploadOptions.input){var n="redactorUploadForm"+this.id,s="redactorUploadFile"+this.id;this.form=t('<form  action="'+this.uploadOptions.url+'" method="POST" target="'+i+'" name="'+n+'" id="'+n+'" enctype="multipart/form-data" />'),this.opts.uploadFields!==!1&&"object"==typeof this.opts.uploadFields&&t.each(this.opts.uploadFields,t.proxy(function(e,i){null!=i&&0===i.toString().indexOf("#")&&(i=t(i).val());var n=t("<input/>",{type:"hidden",name:e,value:i});t(this.form).append(n)},this));var a=this.uploadOptions.input,r=t(a).clone();t(a).attr("id",s).before(r).appendTo(this.form),t(this.form).css("position","absolute").css("top","-2000px").css("left","-2000px").appendTo("body"),this.form.submit()}else e.attr("target",i).attr("method","POST").attr("enctype","multipart/form-data").attr("action",this.uploadOptions.url),this.element.submit()},uploadLoaded:function(){var e,i=t("#"+this.id)[0];if(e=i.contentDocument?i.contentDocument:i.contentWindow?i.contentWindow.document:window.frames[this.id].document,this.uploadOptions.success)if(t("#redactor-progress").hide(),"undefined"!=typeof e){var n=e.body.innerHTML,s=n.match(/\{(.|\n)*\}/)[0];s=s.replace(/^\[/,""),s=s.replace(/\]$/,"");var a=t.parseJSON(s);"undefined"==typeof a.error?this.uploadOptions.success(a):(this.uploadOptions.error(this,a),this.modalClose())}else this.modalClose(),alert("Upload failed!");this.el.attr("action",this.element_action),this.el.attr("target","")},draguploadInit:function(e,i){return this.draguploadOptions=t.extend({url:!1,success:!1,error:!1,preview:!1,uploadFields:!1,text:this.opts.curLang.drop_file_here,atext:this.opts.curLang.or_choose,uploadParam:!1},i),void 0===window.FormData?!1:(this.droparea=t('<div class="redactor_droparea"></div>'),this.dropareabox=t('<div class="redactor_dropareabox">'+this.draguploadOptions.text+"</div>"),this.dropalternative=t('<div class="redactor_dropalternative">'+this.draguploadOptions.atext+"</div>"),this.droparea.append(this.dropareabox),t(e).before(this.droparea),t(e).before(this.dropalternative),this.dropareabox.on("dragover",t.proxy(function(){return this.draguploadOndrag()},this)),this.dropareabox.on("dragleave",t.proxy(function(){return this.draguploadOndragleave()},this)),void(this.dropareabox.get(0).ondrop=t.proxy(function(t){t.preventDefault(),this.dropareabox.removeClass("hover").addClass("drop"),this.dragUploadAjax(this.draguploadOptions.url,t.dataTransfer.files[0],!1,!1,!1,this.draguploadOptions.uploadParam)},this)))},dragUploadAjax:function(e,i,n,s,a,r){if(!n){var o=t.ajaxSettings.xhr();o.upload&&o.upload.addEventListener("progress",t.proxy(this.uploadProgress,this),!1),t.ajaxSetup({xhr:function(){return o}})}var l=new FormData;r!==!1?l.append(r,i):l.append("file",i),this.opts.uploadFields!==!1&&"object"==typeof this.opts.uploadFields&&t.each(this.opts.uploadFields,t.proxy(function(e,i){null!=i&&0===i.toString().indexOf("#")&&(i=t(i).val()),l.append(e,i)},this)),t.ajax({url:e,dataType:"html",data:l,cache:!1,contentType:!1,processData:!1,type:"POST",success:t.proxy(function(e){e=e.replace(/^\[/,""),e=e.replace(/\]$/,"");var i="string"==typeof e?t.parseJSON(e):e;if(n){s.fadeOut("slow",function(){t(this).remove()});var r=t("<img>");r.attr("src",i.filelink).attr("id","drag-image-marker"),this.insertNodeToCaretPositionFromPoint(a,r[0]);var o=t(this.$editor.find("img#drag-image-marker"));o.length?o.removeAttr("id"):o=!1,this.sync(),this.observeImages(),o&&this.callback("imageUpload",o,i),"undefined"!=typeof i.error&&this.callback("imageUploadError",i)}else"undefined"==typeof i.error?this.draguploadOptions.success(i):(this.draguploadOptions.error(this,i),this.draguploadOptions.success(!1))},this)})},draguploadOndrag:function(){return this.dropareabox.addClass("hover"),!1},draguploadOndragleave:function(){return this.dropareabox.removeClass("hover"),!1},uploadProgress:function(t,e){var i=t.loaded?parseInt(t.loaded/t.total*100,10):t;this.dropareabox.text("Loading "+i+"% "+(e||""))},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},normalize:function(t){return"undefined"==typeof t?0:parseInt(t.replace("px",""),10)},outerHtml:function(e){return t("<div>").append(t(e).eq(0).clone()).html()},isString:function(t){return"[object String]"==Object.prototype.toString.call(t)},isEmpty:function(t){return t=t.replace(/&#x200b;|<br>|<br\/>|&nbsp;/gi,""),t=t.replace(/\s/g,""),t=t.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),""==t},isIe11:function(){return!!navigator.userAgent.match(/Trident\/7\./)},browser:function(t){var e=navigator.userAgent.toLowerCase(),i=/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return"version"==t?i[2]:"webkit"==t?"chrome"==i[1]||"webkit"==i[1]:"rv"==i[1]?"msie"==t:"opr"==i[1]?"webkit"==t:t==i[1]},oldIE:function(){return this.browser("msie")&&parseInt(this.browser("version"),10)<9?!0:!1},getFragmentHtml:function(t){var e=t.cloneNode(!0),i=this.document.createElement("div");return i.appendChild(e),i.innerHTML},extractContent:function(){for(var t,e=this.$editor[0],i=this.document.createDocumentFragment();t=e.firstChild;)i.appendChild(t);return i},isParentRedactor:function(e){return e?this.opts.iframe?e:0==t(e).parents("div.redactor_editor").length||t(e).hasClass("redactor_editor")?!1:e:!1},currentOrParentIs:function(t){var e=this.getParent(),i=this.getCurrent();return e&&e.tagName===t?e:i&&i.tagName===t?i:!1},isEndOfElement:function(){var e=this.getBlock(),i=this.getCaretOffset(e),n=t.trim(t(e).text()).replace(/\n\r\n/g,""),s=n.length;return i==s?!0:!1},isFocused:function(){var e,i=this.getSelection();return i&&i.rangeCount&&i.rangeCount>0&&(e=i.getRangeAt(0).startContainer),e?this.opts.iframe?this.getCaretOffsetRange().equals()?!this.$editor.is(e):!0:0!=t(e).closest("div.redactor_editor").length:!1},removeEmptyAttr:function(e,i){""==t(e).attr(i)&&t(e).removeAttr(i)},removeFromArrayByValue:function(t,e){for(var i=null;-1!==(i=t.indexOf(e));)t.splice(i,1);return t}},e.prototype.init.prototype=e.prototype,t.Redactor.fn.formatLinkify=function(e,i,n,s,a){for(var r=/(^|&lt;|\s)(www\..+?\..+?)(\s|&gt;|$)/g,o=/(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?)(\s|&gt;|$)/g,l=/(https?:\/\/.*\.(?:png|jpg|jpeg|gif))/gi,c=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,d=/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,u=(this.$editor?this.$editor.get(0):this).childNodes,h=u.length;h--;){var p=u[h];if(3===p.nodeType){var f=p.nodeValue;if(s&&f){var m='<iframe width="500" height="281" src="',g='" frameborder="0" allowfullscreen></iframe>';f.match(c)?(f=f.replace(c,m+"//www.youtube.com/embed/$1"+g),t(p).after(f).remove()):f.match(d)&&(f=f.replace(d,m+"//player.vimeo.com/video/$2"+g),t(p).after(f).remove())}if(n&&f&&f.match(l)&&(f=f.replace(l,'<img src="$1">'),t(p).after(f).remove()),i&&f&&(f.match(r)||f.match(o))){var v=f.match(r)||f.match(o);v=v[0],v.length>a&&(v=v.substring(0,a)+"..."),f=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(r,'$1<a href="'+e+'$2">'+t.trim(v)+"</a>$3").replace(o,'$1<a href="$2">'+t.trim(v)+"</a>$5"),t(p).after(f).remove()}}else 1!==p.nodeType||/^(a|button|textarea)$/i.test(p.tagName)||t.Redactor.fn.formatLinkify.call(p,e,i,n,s,a)}}}(jQuery),window.init_redactor=function(){var t,e=$("meta[name=csrf-token]").attr("content"),i=$("meta[name=csrf-param]").attr("content");void 0!==i&&void 0!==e&&(t=i+"="+encodeURIComponent(e)),$(".redactor").redactor({imageUpload:"/redactor_rails/pictures?"+t,imageGetJson:"/redactor_rails/pictures",path:"/assets/redactor-rails",css:"style.css"})},$(document).ready(window.init_redactor),$(window).bind("page:change",window.init_redactor),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var i=e.currentTarget,n=t(i).data("association"),s=t("#"+t(i).data("blueprint-id")),a=s.data("blueprint"),r=(t(i).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(r)for(var o=r.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=r.match(/[0-9]+/g)||[],c=0;c<o.length;c++)l[c]&&(a=a.replace(new RegExp("(_"+o[c]+")_.+?_","g"),"$1_"+l[c]+"_"),a=a.replace(new RegExp("(\\["+o[c]+"\\])\\[.+?\\]","g"),"$1["+l[c]+"]"));var d=new RegExp("new_"+n,"g"),u=this.newId();a=t.trim(a.replace(d,u));var h=this.insertFields(a,n,i);return h.trigger({type:"nested:fieldAdded",field:h}).trigger({type:"nested:fieldAdded:"+n,field:h}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,i,n){var s=t(n).data("target");return s?t(e).appendTo(t(s)):t(e).insertBefore(n)},removeFields:function(e){var i=t(e.currentTarget),n=i.data("association"),s=i.prev("input[type=hidden]");s.val("1");var a=i.closest(".fields");return a.hide(),a.trigger({type:"nested:fieldRemoved",field:a}).trigger({type:"nested:fieldRemoved:"+n,field:a}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(t){t.fn.closestChild=function(e){if(e&&""!=e){var i=[];for(i.push(this);i.length>0;)for(var n=i.shift(),s=n.children(),a=0;a<s.length;++a){var r=t(s[a]);if(r.is(e))return r;i.push(r)}}return t()}}(jQuery),function(){var t,e,i,n,s,a,r,o,l,c,d,u,h,p,f,m,g,v,b,y,_,x,w,k,C,S,T,A,$,E,F,N,D,L,R,H,j,z,P,I,O,M,B,q,W,U,K,X,G,V,Q,Y=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},J={}.hasOwnProperty,Z=function(t,e){function i(){this.constructor=t}for(var n in e)J.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},te=[].slice;E={},u=10,U=!1,m=null,A=null,H=null,f=null,V=null,y=function(t){var e;return t=new i(t),O(),d(),U&&(e=K(t.absolute))?(_(e),x(t)):x(t,q)},K=function(t){var e;return e=E[t],e&&!e.transitionCacheDisabled?e:void 0},g=function(t){return null==t&&(t=!0),U=t},x=function(t,e){return null==e&&(e=function(){return function(){}}(this)),X("page:fetch",{url:t.absolute}),null!=V&&V.abort(),V=new XMLHttpRequest,V.open("GET",t.withoutHashForIE10compatibility(),!0),V.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),V.setRequestHeader("X-XHR-Referer",H),V.onload=function(){var i;return X("page:receive",{url:t.absolute}),(i=L())?(j(t),h.apply(null,b(i)),$(),z(),e(),X("page:load")):document.location.href=t.absolute},V.onloadend=function(){return V=null},V.onerror=function(){return document.location.href=t.absolute},V.send()},_=function(t){return null!=V&&V.abort(),h(t.title,t.body),R(t),X("page:restore")},d=function(){var t;return t=new i(m.url),E[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},p(u)},N=function(t){return null==t&&(t=u),/^[\d]+$/.test(t)?u=parseInt(t):void 0},p=function(t){var e,i,n,s,a,r;for(n=Object.keys(E),e=n.map(function(t){return E[t].cachedAt}).sort(function(t,e){return e-t}),r=[],s=0,a=n.length;a>s;s++)i=n[s],E[i].cachedAt<=e[t]&&(X("page:expire",E[i]),r.push(delete E[i]));return r},h=function(e,i,n,s){return document.title=e,document.documentElement.replaceChild(i,document.body),null!=n&&t.update(n),W(),s&&v(),m=window.history.state,X("page:change"),X("page:update")},v=function(){var t,e,i,n,s,a,r,o,l,c,d,u;for(a=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),r=0,l=a.length;l>r;r++)if(s=a[r],""===(d=s.type)||"text/javascript"===d){for(e=document.createElement("script"),u=s.attributes,o=0,c=u.length;c>o;o++)t=u[o],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(s.innerHTML)),n=s.parentNode,i=s.nextSibling,n.removeChild(s),n.insertBefore(e,i)}},M=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},W=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},j=function(t){return(t=new i(t)).absolute!==H?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},z=function(){var t,e;return(t=V.getResponseHeader("X-XHR-Redirected-To"))?(t=new i(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(m,"",t.href+e)):void 0},O=function(){return H=document.location.href},I=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},P=function(){return m=window.history.state},$=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new i).hasNoHash()?(window.history.replaceState(m,"",t.withoutHash()),document.location.hash=t.hash):void 0},R=function(t){return window.scrollTo(t.positionX,t.positionY)},q=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},D=function(t){var e,i;return e=(null!=(i=document.cookie.match(new RegExp(t+"=(\\w+)")))?i[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e},X=function(t,e){var i;return i=document.createEvent("Events"),e&&(i.data=e),i.initEvent(t,!0,!0),document.dispatchEvent(i)},F=function(){return!X("page:before-change")},L=function(){var t,e,i,n,s,a;return e=function(){var t;return 400<=(t=V.status)&&600>t},a=function(){return V.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},n=function(t){var e,i,n,s,a;for(s=t.head.childNodes,a=[],i=0,n=s.length;n>i;i++)e=s[i],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&a.push(e.getAttribute("src")||e.getAttribute("href"));return a},t=function(t){var e;return A||(A=n(document)),e=n(t),e.length!==A.length||s(e,A).length!==A.length},s=function(t,e){var i,n,s,a,r;for(t.length>e.length&&(a=[e,t],t=a[0],e=a[1]),r=[],n=0,s=t.length;s>n;n++)i=t[n],Y.call(e,i)>=0&&r.push(i);return r},!e()&&a()&&(i=f(V.responseText),i&&!t(i))?i:void 0},b=function(e){var i;return i=e.querySelector("title"),[null!=i?i.textContent:void 0,M(e.body),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},s=function(){var t,e,i,n,s,a;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},i=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return s=e("<html><body><p>test"),e}catch(r){return n=r,s=t("<html><body><p>test"),t}finally{if(1!==(null!=s&&null!=(a=s.body)?a.childNodes.length:void 0))return i}},i=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),n=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,void e.__super__.constructor.apply(this,arguments))}return Z(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,i,n,s;for(i=1<=arguments.length?te.call(arguments,0):[],n=0,s=i.length;s>n;n++)t=i[n],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._crossOrigin=function(){return this.origin!==(new i).origin},e.prototype._anchored=function(){var t;return(this.hash&&this.withoutHash())===(t=new i).withoutHash()||this.href===t.href+"#"},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.link;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(i),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(F()||G(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new n(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),c=function(t){return setTimeout(t,500)},C=function(){return document.addEventListener("DOMContentLoaded",function(){return X("page:change"),X("page:update")},!0)},T=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?X("page:update"):void 0}):void 0},S=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=E[new i(t.state.url).absolute])?(d(),_(e)):G(t.target.location.href):void 0},k=function(){return I(),P(),f=s(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(){return I(),P()},!1),c(function(){return window.addEventListener("popstate",S,!1)})},w=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),o=window.history&&window.history.pushState&&window.history.replaceState&&w,a=!navigator.userAgent.match(/CriOS\//),B="GET"===(Q=D("request_method"))||""===Q,l=o&&a&&B,r=document.addEventListener&&document.createEvent,r&&(C(),T()),l?(G=y,k()):G=function(t){return document.location.href=t},this.Turbolinks={visit:G,pagesCached:N,enableTransitionCache:g,allowLinkExtensions:n.allowExtensions,supported:l}}.call(this),$(document).ready(function(){{var t=jstz.determine();$(window).height()}document.cookie="jstz_time_zone="+t.name()+";",Waves.displayEffect(),$(".autosize").autosize(),$(".easy_submit").shiftenter({focusClass:"shiftenter",inactiveClass:"shiftenterInactive",hint:"",metaKey:"shift",pseudoPadding:"0"})}),$(document).foundation(),$(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}})});