  [1m[36m (7.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to ActsAsTaggableOnMigration (20140917114857)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "tags" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "taggings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tag_id" integer, "taggable_id" integer, "taggable_type" varchar(255), "tagger_id" integer, "tagger_type" varchar(255), "context" varchar(128), "created_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_taggings_on_tag_id" ON "taggings" ("tag_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917114857"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to AddMissingUniqueIndices (20140917114858)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_tags_on_name" ON "tags" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'

  [1m[36m (0.8ms)[0m  [1mDROP INDEX "index_taggings_on_tag_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context"[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "taggings_idx" ON "taggings" ("tag_id", "taggable_id", "taggable_type", "context", "tagger_id", "tagger_type")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917114858"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to AddTaggingsCounterCacheToTags (20140917114859)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "tags" ADD "taggings_count" integer DEFAULT 0
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags"   ORDER BY "tags"."id" ASC LIMIT 1000[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917114859"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddMissingTaggableIndex (20140917114860)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917114860"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to DeviseCreateUsers (20140917115046)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "confirmation_token" varchar(255), "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar(255), "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar(255), "locked_at" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917115046"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to RolifyCreateRoles (20140917115054)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "resource_id" integer, "resource_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users_roles" ("user_id" integer, "role_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_roles_on_name" ON "roles" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917115054"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to AddExtraInfoToUser (20140917122702)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "username" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "name" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "gender" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "birthday" date
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "agreement" boolean DEFAULT 't'[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_name" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "first_name" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "job" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "description" text[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "website" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "phone" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "locale" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "sns_avatar" varchar(255)[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "address" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "facebook_account_url" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "twitter_account_url" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "linkedin_account_url" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "github_account_url" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "googleplus_account_url" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917122702"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to AddAvatarToUsers (20140917123143)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "avatar" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917123143"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreatePosts (20140917125801)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "user_id" integer, "category_id" integer, "published" boolean DEFAULT 'f', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_posts_on_user_id" ON "posts" ("user_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_posts_on_category_id" ON "posts" ("category_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917125801"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to ThumbsUpMigration (20140917132148)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "vote" boolean DEFAULT 'f' NOT NULL, "voteable_id" integer NOT NULL, "voteable_type" varchar(255) NOT NULL, "voter_id" integer, "voter_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_votes_on_voter_id_and_voter_type" ON "votes" ("voter_id", "voter_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_votes_on_voteable_id_and_voteable_type" ON "votes" ("voteable_id", "voteable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "fk_one_vote_per_user_per_entity" ON "votes" ("voter_id", "voter_type", "voteable_id", "voteable_type")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917132148"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to ActsAsCommentableWithThreadingMigration (20140917132340)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(255), "title" varchar(255), "body" text, "subject" varchar(255), "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_comments_on_commentable_id_and_commentable_type" ON "comments" ("commentable_id", "commentable_type")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917132340"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Migrating to CreateAuthorizations (20140921161559)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "provider" varchar(255), "uid" varchar(255), "user_id" integer, "token" varchar(255), "secret" varchar(255), "username" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_authorizations_on_user_id" ON "authorizations" ("user_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140921161559"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreateViews (20140922112828)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "views" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "viewable_id" integer, "viewable_type" varchar(255), "ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_views_on_user_id" ON "views" ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140922112828"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateRedactorAssets (20140923002324)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "redactor_assets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "data_file_name" varchar(255) NOT NULL, "data_content_type" varchar(255), "data_file_size" integer, "assetable_id" integer, "assetable_type" varchar(30), "type" varchar(30), "width" integer, "height" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "idx_redactor_assetable_type" ON "redactor_assets" ("assetable_type", "type", "assetable_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='idx_redactor_assetable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='idx_redactor_assetable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "idx_redactor_assetable" ON "redactor_assets" ("assetable_type", "assetable_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140923002324"]]
  [1m[35m (1.1ms)[0m  commit transaction
Migrating to AddUrlToTitle (20140923084120)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "posts" ADD "url" varchar(255)
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_user_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_posts_on_url" ON "posts" ("url")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140923084120"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateCategories (20140923124927)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_categories_on_user_id" ON "categories" ("user_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140923124927"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateSearches (20140923174451)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "searches" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "keywords" varchar(255), "category_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_searches_on_user_id" ON "searches" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140923174451"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreatePolicies (20140927134557)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "policies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "body_en" text, "body_ko" text, "version" varchar(255), "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_policies_on_user_id" ON "policies" ("user_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140927134557"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddSlugToPost (20141001042337)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "posts" ADD "slug" varchar(255)
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_url' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_url' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_user_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "index_posts_on_slug" ON "posts" ("slug")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20141001042337"]]
  [1m[35m (1.1ms)[0m  commit transaction
Migrating to CreateLimits (20141017054005)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "limits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "limitable_id" integer, "limitable_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20141017054005"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLimitations (20141019103548)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "limitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "post_id" integer, "limit_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20141019103548"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_authorizations_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_authorizations_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_commentable_id_and_commentable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_commentable_id_and_commentable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_policies_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_policies_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_slug' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_url' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_url' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='idx_redactor_assetable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='idx_redactor_assetable' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='idx_redactor_assetable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='idx_redactor_assetable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_searches_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_searches_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_unlock_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_unlock_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_views_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_views_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m


Started GET "/" for 127.0.0.1 at 2015-03-24 11:50:52 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `current_sign_in_ip`
Binary data inserted for `string` type on column `last_sign_in_ip`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("confirmed_at", "created_at", "current_sign_in_ip", "email", "last_sign_in_ip", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?)  [["confirmed_at", "2015-03-24 02:50:52.851532"], ["created_at", "2015-03-24 02:50:52.852183"], ["current_sign_in_ip", "127.0.0.1"], ["email", "guest_14271654526851@example.com"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2015-03-24 02:50:52.852183"], ["username", "guest1427165452786"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
손님계정: 1
  Rendered pages/home.html.erb within layouts/application (3.1ms)
  Rendered shared/_social_meta_tags.html.erb (1.4ms)
  Rendered shared/_flash.html.erb (3.6ms)
  Rendered layouts/_menu.html.erb (8.8ms)
  Rendered layouts/_header.html.erb (10.3ms)
Completed 200 OK in 3445ms (Views: 3357.1ms | ActiveRecord: 2.8ms)


Started GET "/signup" for 127.0.0.1 at 2015-03-24 11:50:59 +0900
Processing by Users::RegistrationsController#new as HTML
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
손님계정: #<User id: 1, email: "guest_14271654526851@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 02:50:52", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 02:50:52", updated_at: "2015-03-24 02:50:52", username: "guest1427165452786", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  Rendered devise/shared/_sns_connector.html.erb (1.3ms)
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.3ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.2ms)
  Rendered layouts/_menu.html.erb (2.1ms)
  Rendered layouts/_header.html.erb (2.9ms)
Completed 200 OK in 236ms (Views: 223.9ms | ActiveRecord: 1.8ms)


Started GET "/signup" for 127.0.0.1 at 2015-03-24 11:50:59 +0900
Processing by Users::RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
손님계정: #<User id: 1, email: "guest_14271654526851@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 02:50:52", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 02:50:52", updated_at: "2015-03-24 02:50:52", username: "guest1427165452786", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  Rendered devise/shared/_sns_connector.html.erb (0.7ms)
  Rendered devise/shared/_links.html.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (6.0ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.1ms)
  Rendered layouts/_menu.html.erb (1.8ms)
  Rendered layouts/_header.html.erb (2.5ms)
Completed 200 OK in 212ms (Views: 209.6ms | ActiveRecord: 0.1ms)


Started POST "/" for 127.0.0.1 at 2015-03-24 11:51:17 +0900
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0/1XdcBYZnB8JNFPG6H6EGFAVwCsGDgZo3uEyR9M9oc=", "user"=>{"first_name"=>"Yoochan", "last_name"=>"Seo", "email"=>"admin@admin.com", "password"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
손님계정: #<User id: 1, email: "guest_14271654526851@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 02:50:52", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 02:50:52", updated_at: "2015-03-24 02:50:52", username: "guest1427165452786", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('admin@admin.com') LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."confirmation_token" = '10eec1c7dbb6736857f3cf4f0771056450319ffc784e5837e35f4e4970c6ce2a'  ORDER BY "users"."id" ASC LIMIT 1[0m
Binary data inserted for `string` type on column `confirmation_token`
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("confirmation_sent_at", "confirmation_token", "created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["confirmation_sent_at", "2015-03-24 02:51:17.371297"], ["confirmation_token", "10eec1c7dbb6736857f3cf4f0771056450319ffc784e5837e35f4e4970c6ce2a"], ["created_at", "2015-03-24 02:51:17.160346"], ["email", "admin@admin.com"], ["encrypted_password", "$2a$10$mf7o5SisG1J3JZa4a9u50OWWID/IlPNn5h0Kb4RQmLgxjowFfM1I2"], ["first_name", "Yoochan"], ["last_name", "Seo"], ["updated_at", "2015-03-24 02:51:17.160346"]]
  Rendered devise/mailer/confirmation_instructions.html.erb (1.1ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 21.0ms

Sent mail to admin@admin.com (407.3ms)
Date: Tue, 24 Mar 2015 11:51:17 +0900
From: mailer@seoyoochan.com
Reply-To: mailer@seoyoochan.com
To: admin@admin.com
Message-ID: <5510d12562393_7aca3ff8dd465be837551@Seoui-MacBook-Pro.local.mail>
Subject: [Seo Yoochan] Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>To be a valued member of Seo Yoochan application, <strong>admin@admin.com</strong> must be confirmed</p>
<p>You can confirm your account email through the link below:</p>
<p><a href="http://localhost:3000/confirmation?confirmation_token=q_Q96V1yGdnLmc_tBtCe">Confrim My Account</a></p>

  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/signup
Completed 302 Found in 745ms (ActiveRecord: 8.5ms)


Started GET "/signup" for 127.0.0.1 at 2015-03-24 11:51:17 +0900
Processing by Users::RegistrationsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
손님계정: #<User id: 1, email: "guest_14271654526851@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 02:50:52", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 02:50:52", updated_at: "2015-03-24 02:50:52", username: "guest1427165452786", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  Rendered devise/shared/_sns_connector.html.erb (1.1ms)
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.6ms)
  Rendered shared/_social_meta_tags.html.erb (0.7ms)
  Rendered shared/_flash.html.erb (0.2ms)
  Rendered layouts/_menu.html.erb (2.3ms)
  Rendered layouts/_header.html.erb (3.0ms)
Completed 200 OK in 311ms (Views: 306.1ms | ActiveRecord: 0.2ms)


Started GET "/confirmation?confirmation_token=q_Q96V1yGdnLmc_tBtCe" for 127.0.0.1 at 2015-03-24 11:51:29 +0900
Processing by Devise::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"q_Q96V1yGdnLmc_tBtCe"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
손님계정: #<User id: 1, email: "guest_14271654526851@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 02:50:52", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 02:50:52", updated_at: "2015-03-24 02:50:52", username: "guest1427165452786", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."confirmation_token" = '10eec1c7dbb6736857f3cf4f0771056450319ffc784e5837e35f4e4970c6ce2a'  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = ?, "confirmed_at" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["confirmation_token", nil], ["confirmed_at", "2015-03-24 02:51:29.914258"], ["updated_at", "2015-03-24 02:51:29.914672"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/signin
Completed 302 Found in 15ms (ActiveRecord: 7.5ms)


Started GET "/signin" for 127.0.0.1 at 2015-03-24 11:51:29 +0900
Processing by Users::SessionsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
손님계정: #<User id: 1, email: "guest_14271654526851@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 02:50:52", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 02:50:52", updated_at: "2015-03-24 02:50:52", username: "guest1427165452786", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  Rendered devise/shared/_sns_connector.html.erb (0.6ms)
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.6ms)
  Rendered shared/_social_meta_tags.html.erb (0.3ms)
  Rendered shared/_flash.html.erb (0.2ms)
  Rendered layouts/_menu.html.erb (2.4ms)
  Rendered layouts/_header.html.erb (3.3ms)
Completed 200 OK in 228ms (Views: 224.2ms | ActiveRecord: 0.2ms)


Started POST "/signin" for 127.0.0.1 at 2015-03-24 11:51:37 +0900
Processing by Users::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0/1XdcBYZnB8JNFPG6H6EGFAVwCsGDgZo3uEyR9M9oc=", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign In"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'admin@admin.com'  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `current_sign_in_ip`
Binary data inserted for `string` type on column `last_sign_in_ip`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "current_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_at" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["current_sign_in_at", "2015-03-24 02:51:38.047007"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_at", "2015-03-24 02:51:38.047007"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-03-24 02:51:38.047644"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Load (0.3ms)[0m  [1mSELECT "taggings".* FROM "taggings"  WHERE "taggings"."tagger_id" = ? AND "taggings"."tagger_type" = ?[0m  [["tagger_id", 1], ["tagger_type", "User"]]
  [1m[35mVote Load (0.3ms)[0m  SELECT "votes".* FROM "votes"  WHERE "votes"."voter_id" = ? AND "votes"."voter_type" = ?  [["voter_id", 1], ["voter_type", "User"]]
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts"  WHERE "posts"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mView Load (0.2ms)[0m  SELECT "views".* FROM "views"  WHERE "views"."user_id" = ?  [["user_id", 1]]
  [1m[36mAuthorization Load (0.2ms)[0m  [1mSELECT "authorizations".* FROM "authorizations"  WHERE "authorizations"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "categories" SET "user_id" = NULL WHERE "categories"."user_id" = ?  [["user_id", 1]]
  [1m[36mSearch Load (0.2ms)[0m  [1mSELECT "searches".* FROM "searches"  WHERE "searches"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users_roles" WHERE "users_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 197ms (ActiveRecord: 7.3ms)


Started GET "/" for 127.0.0.1 at 2015-03-24 11:51:38 +0900
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered pages/home.html.erb within layouts/application (0.8ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (5.8ms)
  Rendered layouts/_header.html.erb (6.6ms)
Completed 200 OK in 234ms (Views: 231.3ms | ActiveRecord: 0.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "roles" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", "2015-03-24 02:51:54.380892"], ["name", "admin"], ["updated_at", "2015-03-24 02:51:54.380892"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 1 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 2]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction


Started GET "/settings" for 127.0.0.1 at 2015-03-24 11:52:21 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Users::RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.erb within layouts/application (35.2ms)
  Rendered shared/_social_meta_tags.html.erb (1.2ms)
  Rendered shared/_flash.html.erb (0.7ms)
  Rendered layouts/_menu.html.erb (6.7ms)
  Rendered layouts/_header.html.erb (8.5ms)
Completed 200 OK in 475ms (Views: 398.9ms | ActiveRecord: 1.5ms)


Started PUT "/" for 127.0.0.1 at 2015-03-24 11:52:31 +0900
Processing by Users::RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wrMWHM9gl6tHw+NMDvszn+62aW45tgLceOM9JFW3JJg=", "user"=>{"name"=>"", "first_name"=>"Yoochan", "last_name"=>"Seo", "job"=>"", "description"=>"", "website"=>"", "phone"=>"", "birthday(1i)"=>"", "birthday(2i)"=>"", "birthday(3i)"=>"", "gender"=>"male", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "locale"=>"en"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "description" = ?, "gender" = ?, "job" = ?, "locale" = ?, "name" = ?, "phone" = ?, "updated_at" = ?, "website" = ? WHERE "users"."id" = 2  [["description", ""], ["gender", "male"], ["job", ""], ["locale", "en"], ["name", ""], ["phone", ""], ["updated_at", "2015-03-24 02:52:31.788572"], ["website", ""]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/settings
Completed 302 Found in 33ms (ActiveRecord: 1.8ms)


Started GET "/settings" for 127.0.0.1 at 2015-03-24 11:52:31 +0900
Processing by Users::RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.erb within layouts/application (16.1ms)
  Rendered shared/_social_meta_tags.html.erb (1.1ms)
  Rendered shared/_flash.html.erb (1.0ms)
  Rendered layouts/_menu.html.erb (3.0ms)
  Rendered layouts/_header.html.erb (4.6ms)
Completed 200 OK in 220ms (Views: 217.6ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m


Started GET "/settings" for 127.0.0.1 at 2015-03-24 11:56:27 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Users::RegistrationsController#edit as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.erb within layouts/application (38.1ms)
  Rendered shared/_social_meta_tags.html.erb (1.3ms)
  Rendered shared/_flash.html.erb (0.7ms)
  Rendered layouts/_menu.html.erb (5.9ms)
  Rendered layouts/_header.html.erb (7.0ms)
Completed 200 OK in 476ms (Views: 396.1ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2015-03-24 11:57:29 +0900
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered pages/home.html.erb within layouts/application (1.5ms)
  Rendered shared/_social_meta_tags.html.erb (1.1ms)
  Rendered shared/_flash.html.erb (0.9ms)
  Rendered layouts/_menu.html.erb (2.8ms)
  Rendered layouts/_header.html.erb (3.9ms)
Completed 200 OK in 193ms (Views: 191.3ms | ActiveRecord: 0.2ms)


Started GET "/blog" for 127.0.0.1 at 2015-03-24 11:58:11 +0900
Processing by PagesController#blog as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "roles" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", "2015-03-24 02:58:11.254704"], ["name", "basic"], ["updated_at", "2015-03-24 02:58:11.254704"]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles"  WHERE "roles"."id" IN (1, 2)[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)  [["role_id", 2], ["user_id", 2]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered layouts/_default_blog.html.erb (69.6ms)
  Rendered pages/blog.html.erb within layouts/application (70.7ms)
  Rendered shared/_social_meta_tags.html.erb (0.4ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (2.7ms)
  Rendered layouts/_header.html.erb (4.0ms)
Completed 200 OK in 327ms (Views: 273.7ms | ActiveRecord: 11.5ms)


Started GET "/categories" for 127.0.0.1 at 2015-03-24 11:58:12 +0900
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.1ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/index.html.erb within layouts/application (3.2ms)
  Rendered shared/_social_meta_tags.html.erb (0.3ms)
  Rendered shared/_flash.html.erb (0.5ms)
  Rendered layouts/_menu.html.erb (2.4ms)
  Rendered layouts/_header.html.erb (3.4ms)
Completed 200 OK in 218ms (Views: 208.2ms | ActiveRecord: 1.1ms)


Started GET "/categories/new" for 127.0.0.1 at 2015-03-24 11:58:14 +0900
Processing by CategoriesController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  Rendered categories/_form.html.erb (6.2ms)
  Rendered categories/new.html.erb within layouts/application (7.7ms)
  Rendered shared/_social_meta_tags.html.erb (0.3ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (1.9ms)
  Rendered layouts/_header.html.erb (2.7ms)
Completed 200 OK in 230ms (Views: 220.6ms | ActiveRecord: 0.6ms)


Started POST "/categories" for 127.0.0.1 at 2015-03-24 11:58:16 +0900
Processing by CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wrMWHM9gl6tHw+NMDvszn+62aW45tgLceOM9JFW3JJg=", "category"=>{"name"=>"요리"}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.1ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", "2015-03-24 02:58:16.462929"], ["name", "요리"], ["updated_at", "2015-03-24 02:58:16.462929"]]
  [1m[35m (0.9ms)[0m  commit transaction
Redirected to http://localhost:3000/categories/1
Completed 302 Found in 22ms (ActiveRecord: 2.5ms)


Started GET "/categories/1" for 127.0.0.1 at 2015-03-24 11:58:16 +0900
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT  "categories".* FROM "categories"  WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 1]]
  Rendered categories/show.html.erb within layouts/application (4.3ms)
  Rendered shared/_social_meta_tags.html.erb (0.5ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (3.4ms)
  Rendered layouts/_header.html.erb (4.2ms)
Completed 200 OK in 291ms (Views: 268.8ms | ActiveRecord: 2.3ms)


Started GET "/categories/new" for 127.0.0.1 at 2015-03-24 11:58:17 +0900
Processing by CategoriesController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  Rendered categories/_form.html.erb (1.8ms)
  Rendered categories/new.html.erb within layouts/application (4.0ms)
  Rendered shared/_social_meta_tags.html.erb (0.3ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (2.1ms)
  Rendered layouts/_header.html.erb (3.1ms)
Completed 200 OK in 253ms (Views: 239.2ms | ActiveRecord: 1.2ms)


Started POST "/categories" for 127.0.0.1 at 2015-03-24 11:58:19 +0900
Processing by CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wrMWHM9gl6tHw+NMDvszn+62aW45tgLceOM9JFW3JJg=", "category"=>{"name"=>"웹개발"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.1ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", "2015-03-24 02:58:19.063337"], ["name", "웹개발"], ["updated_at", "2015-03-24 02:58:19.063337"]]
  [1m[35m (0.7ms)[0m  commit transaction
Redirected to http://localhost:3000/categories/2
Completed 302 Found in 19ms (ActiveRecord: 2.0ms)


Started GET "/categories/2" for 127.0.0.1 at 2015-03-24 11:58:19 +0900
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories"  WHERE "categories"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 2]]
  Rendered categories/show.html.erb within layouts/application (4.6ms)
  Rendered shared/_social_meta_tags.html.erb (0.3ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (2.0ms)
  Rendered layouts/_header.html.erb (2.7ms)
Completed 200 OK in 287ms (Views: 271.8ms | ActiveRecord: 1.3ms)


Started GET "/categories/new" for 127.0.0.1 at 2015-03-24 11:58:20 +0900
Processing by CategoriesController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  Rendered categories/_form.html.erb (3.8ms)
  Rendered categories/new.html.erb within layouts/application (5.0ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.3ms)
  Rendered layouts/_menu.html.erb (3.7ms)
  Rendered layouts/_header.html.erb (4.5ms)
Completed 200 OK in 232ms (Views: 217.3ms | ActiveRecord: 0.7ms)


Started POST "/categories" for 127.0.0.1 at 2015-03-24 11:58:24 +0900
Processing by CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wrMWHM9gl6tHw+NMDvszn+62aW45tgLceOM9JFW3JJg=", "category"=>{"name"=>"웹디자인"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", "2015-03-24 02:58:24.614734"], ["name", "웹디자인"], ["updated_at", "2015-03-24 02:58:24.614734"]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to http://localhost:3000/categories/3
Completed 302 Found in 29ms (ActiveRecord: 3.1ms)


Started GET "/categories/3" for 127.0.0.1 at 2015-03-24 11:58:24 +0900
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories"  WHERE "categories"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 3]]
  Rendered categories/show.html.erb within layouts/application (4.5ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.5ms)
  Rendered layouts/_menu.html.erb (2.5ms)
  Rendered layouts/_header.html.erb (3.5ms)
Completed 200 OK in 270ms (Views: 252.8ms | ActiveRecord: 2.7ms)


Started GET "/categories/new" for 127.0.0.1 at 2015-03-24 11:58:25 +0900
Processing by CategoriesController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  Rendered categories/_form.html.erb (1.5ms)
  Rendered categories/new.html.erb within layouts/application (2.1ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (2.2ms)
  Rendered layouts/_header.html.erb (3.0ms)
Completed 200 OK in 234ms (Views: 218.2ms | ActiveRecord: 0.9ms)


Started POST "/categories" for 127.0.0.1 at 2015-03-24 11:58:28 +0900
Processing by CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wrMWHM9gl6tHw+NMDvszn+62aW45tgLceOM9JFW3JJg=", "category"=>{"name"=>"칼럼"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.1ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", "2015-03-24 02:58:28.448829"], ["name", "칼럼"], ["updated_at", "2015-03-24 02:58:28.448829"]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://localhost:3000/categories/4
Completed 302 Found in 21ms (ActiveRecord: 2.8ms)


Started GET "/categories/4" for 127.0.0.1 at 2015-03-24 11:58:28 +0900
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories"  WHERE "categories"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 4]]
  Rendered categories/show.html.erb within layouts/application (2.6ms)
  Rendered shared/_social_meta_tags.html.erb (0.6ms)
  Rendered shared/_flash.html.erb (0.8ms)
  Rendered layouts/_menu.html.erb (2.1ms)
  Rendered layouts/_header.html.erb (3.0ms)
Completed 200 OK in 251ms (Views: 235.4ms | ActiveRecord: 1.3ms)


Started GET "/categories/4" for 127.0.0.1 at 2015-03-24 11:58:30 +0900
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories"  WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.1ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 4]]
  Rendered categories/show.html.erb within layouts/application (2.1ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (4.6ms)
  Rendered layouts/_header.html.erb (6.6ms)
Completed 200 OK in 216ms (Views: 204.5ms | ActiveRecord: 0.9ms)


Started GET "/blog" for 127.0.0.1 at 2015-03-24 11:58:35 +0900
Processing by PagesController#blog as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 4]]
  Rendered layouts/_default_blog.html.erb (11.2ms)
  Rendered pages/blog.html.erb within layouts/application (11.8ms)
  Rendered shared/_social_meta_tags.html.erb (0.5ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (2.9ms)
  Rendered layouts/_header.html.erb (3.9ms)
Completed 200 OK in 212ms (Views: 204.8ms | ActiveRecord: 1.5ms)
  [1m[36mCategory Load (2.6ms)[0m  [1mSELECT "categories".* FROM "categories"[0m


Started GET "/posts/new" for 127.0.0.1 at 2015-03-24 12:00:52 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PostsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered posts/_form.html.erb (40.7ms)
  Rendered posts/new.html.erb within layouts/application (45.4ms)
  Rendered shared/_social_meta_tags.html.erb (1.2ms)
  Rendered shared/_flash.html.erb (1.0ms)
  Rendered layouts/_menu.html.erb (7.0ms)
  Rendered layouts/_header.html.erb (8.4ms)
Completed 200 OK in 578ms (Views: 417.0ms | ActiveRecord: 4.1ms)


Started POST "/posts" for 127.0.0.1 at 2015-03-24 12:02:23 +0900
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wrMWHM9gl6tHw+NMDvszn+62aW45tgLceOM9JFW3JJg=", "post"=>{"category_id"=>"2", "title"=>"​ Programming With Yii2: Integrating User Registration", "slug"=>"​ Programming With Yii2: Integrating User Registration", "body"=>"<p><em>If you're asking, \"What's Yii?\", check out my earlier tutorial: </em><a href=\"http://code.tutsplus.com/articles/introduction-to-the-yii-framework--cms-20948\"><em>Introduction to the Yii Framework</em></a><em>, which reviews the benefits of Yii and includes an overview of what's new in Yii 2.0, released October 12th, 2014.</em></p><p>This is part four of a series on Yii2. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-getting-started--cms-22440\">Programming With Yii2: Getting Started</a>, we set up Yii2 locally, built a Hello World application, set up a remote server, and used Github to deploy our code. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-exploring-mvc-forms-and-layouts--cms-22682\">part two</a>, we learned about Yii's implementation of its Model View Controller architecture and how to build web pages and forms that collect and validate data. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-working-with-the-database-and-active-record--cms-22768\">part three</a>, we learned about working with databases and ActiveRecord. In this tutorial, we'll walk you through integrating a popular user registration plugin.</p><p>For these examples, we'll continue building on our hello app available in the <a href=\"https://github.com/newscloud/hello/releases/tag/user-registration\">Tuts+ repository</a> so that you can follow along.</p><h2>User Registration for Your Web Application</h2><p>Almost any web application of any usefulness requires some form of user registration. Yii provides a couple of ways to approach user registration, both relatively straightforward. This is one of the things I like about using Yii over vanilla PHP—in moments, I can have a fully featured web application framework ready to build cool stuff on.</p><p>There are few reasons to rebuild the wheel and code user authentication and its many requirements and corollary features from scratch, e.g. sending emails and authentication for registration verification, password recovery, third party social authentication, et al. </p><p>The <a href=\"http://www.yiiframework.com/doc-2.0/guide-tutorial-advanced-app.html\">Yii2 Advanced Application Template</a> provides built-in user registration; we're using this approach in my <a href=\"http://code.tutsplus.com/tutorials/building-your-startup-with-php-getting-started--cms-21948\">Building Your Startup</a> series. However, in this series, we've been building on Yii2's basic application template. The default basic application template includes hard coded user login, which isn't very useful.</p><figure><img alt=\"Yii2 Basic Application Template Static Login\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/static-login.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Another approach to user registration is to use third party extensions. For this tutorial, I'll walk you through using <a href=\"https://twitter.com/dmeroff_en\">Dmitry Erofeev</a>'s <a href=\"https://github.com/dektrium/yii2-user\">Yii2-User extension</a>.<a href=\"http://yii2-user.readthedocs.org/en/latest/index.html\">Documentation for Yii2-User is available here</a>. Erofeev's building <a href=\"https://github.com/dektrium\">other plugins for Yii2</a> as well.</p><figure><img alt=\"Dektriums Yii2-User Documentation\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/yii2-user-documentation.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><h2>Installation of Yii2-User</h2><p>Let's get started installing the Yii2-User extension. We'll follow the <a href=\"https://github.com/dektrium/yii2-user/blob/master/docs/installation.md\">installation instructions</a>.</p><h3>Installing Yii2-User With Composer</h3><p>First, we need to add Yii2-User to composer's required extensions. Edit the /composer.json file to include Yii2-User:</p><table><tbody><tr><td>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><code>\"require\"</code><code>: {</code><p><code>\"php\"</code><code>: </code><code>\"&gt;=5.4.0\"</code><code>,</code></p><p><code>\"yiisoft/yii2\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"yiisoft/yii2-bootstrap\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"yiisoft/yii2-swiftmailer\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"dektrium/yii2-user\"</code><code>: </code><code>\"*\"</code></p><p><code>},</code></p></div></td></tr></tbody></table><p>Then, when we update composer, you'll see something like this:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p></div></td><td><div><code>Admins-MacBook-Pro-2:hello Jeff$ composer update</code><p><code>Loading composer repositories with package information</code></p><p><code>Updating dependencies (including require-dev)</code></p><p><code>- Removing yiisoft</code><code>/yii2-composer</code> <code>(2.0.0)  </code></p><p><code>- Installing yiisoft</code><code>/yii2-composer</code> <code>(2.0.1)</code></p><p><code>Downloading: 100%  </code></p><p><code>...</code></p><p><code>- Installing dektrium</code><code>/yii2-user</code> <code>(v0.8.2)</code></p><p><code>Downloading: 100%  </code></p><p><code>Writing lock </code><code>file</code></p><p><code>Generating autoload files</code></p></div></td></tr></tbody></table><h3>Update the Database</h3><p>Next, we run the database migration for Yii2-User. This creates the database tables that the extension requires. These will manage user accounts and credentials.</p><table><tbody><tr><td>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p></td><td><div><code>hello Jeff$ php yii migrate</code><code>/up</code> <code>--migrationPath=@vendor</code><code>/dektrium/yii2-user/migrations</code><p><code>Yii Migration Tool (based on Yii v2.0.1)</code></p><p><code>Total 6 new migrations to be applied:</code></p><p><code>m140209_132017_init</code></p><p><code>m140403_174025_create_account_table</code></p><p><code>m140504_113157_update_tables</code></p><p><code>m140504_130429_create_token_table</code></p><p><code>m140830_171933_fix_ip_field</code></p><p><code>m140830_172703_change_account_table_name</code></p><p><code>Apply the above migrations? (</code><code>yes</code><code>|no) [no]:</code><code>yes</code></p><p><code>*** applying m140209_132017_init</code></p><p><code>&gt; create table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; create unique index user_unique_username on {{%user}} (username) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.015s)</code></p><p><code>&gt; create unique index user_unique_email on {{%user}} (email) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.012s)</code></p><p><code>&gt; create unique index user_confirmation on {{%user}} (</code><code>id</code><code>, confirmation_token) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.011s)</code></p><p><code>&gt; create unique index user_recovery on {{%user}} (</code><code>id</code><code>, recovery_token) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; create table {{%profile}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; add foreign key fk_user_profile: {{%profile}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>*** applied m140209_132017_init (</code><code>time</code><code>: 0.078s)</code></p><p><code>*** applying m140403_174025_create_account_table</code></p><p><code>&gt; create table {{%account}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; create unique index account_unique on {{%account}} (provider,client_id) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; add foreign key fk_user_account: {{%account}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>*** applied m140403_174025_create_account_table (</code><code>time</code><code>: 0.027s)</code></p><p><code>*** applying m140504_113157_update_tables</code></p><p><code>&gt; drop index user_confirmation ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop index user_recovery ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; drop column confirmation_token from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; drop column confirmation_sent_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; drop column recovery_token from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop column recovery_sent_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; drop column logged_in_from from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop column logged_in_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; rename column registered_from </code><code>in</code> <code>table {{%user}} to registration_ip ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; add column flags integer NOT NULL DEFAULT 0 to table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; rename column properties </code><code>in</code> <code>table {{%account}} to data ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>*** applied m140504_113157_update_tables (</code><code>time</code><code>: 0.090s)</code></p><p><code>*** applying m140504_130429_create_token_table</code></p><p><code>&gt; create table {{%token}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.006s)</code></p><p><code>&gt; create unique index token_unique on {{%token}} (user_id,code,</code><code>type</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; add foreign key fk_user_token: {{%token}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>*** applied m140504_130429_create_token_table (</code><code>time</code><code>: 0.026s)</code></p><p><code>*** applying m140830_171933_fix_ip_field</code></p><p><code>&gt; alter column registration_ip </code><code>in</code> <code>table {{%user}} to bigint ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>*** applied m140830_171933_fix_ip_field (</code><code>time</code><code>: 0.011s)</code></p><p><code>*** applying m140830_172703_change_account_table_name</code></p><p><code>&gt; rename table {{%account}} to {{%social_account}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.001s)</code></p><p><code>*** applied m140830_172703_change_account_table_name (</code><code>time</code><code>: 0.002s)</code></p><p><code>Migrated up successfully.</code></p></div></td></tr></tbody></table><h3>Update the Configuration File</h3><p>Next, we need to tell Yii to use the Yii2-User component. In /config/web.php, we replace the default User component...</p><table><tbody><tr><td>12<p>3</p><p>4</p></td><td><div><code>'user'</code> <code>=&gt; [</code><p><code>'identityClass'</code> <code>=&gt; </code><code>'app\\models\\User'</code><code>,</code></p><p><code>'enableAutoLogin'</code> <code>=&gt; </code><code>true</code><code>,</code></p><p><code>],</code></p></div></td></tr></tbody></table><p>... with the Yii2-User component:</p><table><tbody><tr><td><div>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></div></td><td><div><code>'user'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'dektrium\\user\\Module'</code><code>,</code></p><p><code>'enableUnconfirmedLogin'</code> <code>=&gt; </code><code>true</code><code>,</code></p><p><code>'confirmWithin'</code> <code>=&gt; 21600,</code></p><p><code>'cost'</code> <code>=&gt; 12,</code></p><p><code>'admins'</code> <code>=&gt; [</code><code>'admin'</code><code>]</code></p><p><code>],</code></p></div></td></tr></tbody></table><h3>Activate the SwiftMailer</h3><p>Since Yii2-User uses email to send out registration confirmations and forgotten passwords, it's time to activate our SwiftMailer configuration. In config/web.php, replace the default Mailer configuration here...</p><table><tbody><tr><td>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><code>'mailer'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'yii\\swiftmailer\\Mailer'</code><code>,</code></p><p><code>// send all mails to a file by default. You have to set</code></p><p><code>// 'useFileTransport' to false and configure a transport</code></p><p><code>// for the mailer to send real emails.</code></p><p><code>'useFileTransport'</code> <code>=&gt; true,</code></p><p><code>],</code></p></div></td></tr></tbody></table><p>... with this—you'll need to include your own SMTP credentials:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p></div></td><td><div><code>'mailer'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'yii\\swiftmailer\\Mailer'</code><code>,</code></p><p><code>'viewPath'</code> <code>=&gt; </code><code>'@app/mailer'</code><code>,</code></p><p><code>'useFileTransport'</code> <code>=&gt; false,</code></p><p><code>'transport'</code> <code>=&gt; [</code></p><p><code>'class'</code> <code>=&gt; </code><code>'Swift_SmtpTransport'</code><code>,</code></p><p><code>'host'</code> <code>=&gt; </code><code>'your-host-domain e.g. smtp.gmail.com'</code><code>,</code></p><p><code>'username'</code> <code>=&gt; </code><code>'your-email-or-username'</code><code>,</code></p><p><code>'password'</code> <code>=&gt; </code><code>'your-password'</code><code>,</code></p><p><code>'port'</code> <code>=&gt; </code><code>'587'</code><code>,</code></p><p><code>'encryption'</code> <code>=&gt; </code><code>'tls'</code><code>,</code></p><p><code>],</code></p><p><code>],</code></p></div></td></tr></tbody></table><h2>Integration of Yii2-User</h2><p>Now, we need to link our navigation bar to the Yii2-User controller paths. In /views/layouts/main.php, we update the navigation bar array definition for the Bootstrap menu. Replace the current navigation bar...</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p></div></td><td><div><code>echo</code> <code>Nav::widget([</code><p><code>'options'</code> <code>=&gt; [</code><code>'class'</code> <code>=&gt; </code><code>'navbar-nav navbar-right'</code><code>],</code></p><p><code>'items'</code> <code>=&gt; [</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Home'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Status'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/status/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'About'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/about'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Contact'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/contact'</code><code>]],</code></p><p><code>Yii::</code><code>$app</code><code>-&gt;user-&gt;isGuest ?</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Login'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/login'</code><code>]] :</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Logout ('</code> <code>. Yii::</code><code>$app</code><code>-&gt;user-&gt;identity-&gt;username . </code><code>')'</code><code>,</code></p><p><code>'url'</code> <code>=&gt; [</code><code>'/site/logout'</code><code>],</code></p><p><code>'linkOptions'</code> <code>=&gt; [</code><code>'data-method'</code> <code>=&gt; </code><code>'post'</code><code>]],</code></p><p><code>],</code></p><p><code>]);</code></p></div></td></tr></tbody></table><p>... with the following array definition:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p></div></td><td><div><code>$navItems</code><code>=[</code><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Home'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Status'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/status/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'About'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/about'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Contact'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/contact'</code><code>]]</code></p><p><code>];</code></p><p><code>if</code> <code>(Yii::</code><code>$app</code><code>-&gt;user-&gt;isGuest) {</code></p><p><code>array_push</code><code>(</code><code>$navItems</code><code>,[</code><code>'label'</code> <code>=&gt; </code><code>'Sign In'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/user/login'</code><code>]],[</code><code>'label'</code> <code>=&gt; </code><code>'Sign Up'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/user/register'</code><code>]]);</code></p><p><code>} </code><code>else</code> <code>{</code></p><p><code>array_push</code><code>(</code><code>$navItems</code><code>,[</code><code>'label'</code> <code>=&gt; </code><code>'Logout ('</code> <code>. Yii::</code><code>$app</code><code>-&gt;user-&gt;identity-&gt;username . </code><code>')'</code><code>,</code></p><p><code>'url'</code> <code>=&gt; [</code><code>'/site/logout'</code><code>],</code></p><p><code>'linkOptions'</code> <code>=&gt; [</code><code>'data-method'</code> <code>=&gt; </code><code>'post'</code><code>]]</code></p><p><code>);</code></p><p><code>}</code></p><p><code>echo</code> <code>Nav::widget([</code></p><p><code>'options'</code> <code>=&gt; [</code><code>'class'</code> <code>=&gt; </code><code>'navbar-nav navbar-right'</code><code>],</code></p><p><code>'items'</code> <code>=&gt; </code><code>$navItems</code><code>,</code></p><p><code>]);</code></p></div></td></tr></tbody></table><p>Reload the application and click the <strong>Sign Up</strong> link in the navigation bar. You should see something like this:</p><figure><img alt=\"Yii2-User Sign Up Page\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signup.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>When you click <strong>Sign Up</strong>, you'll see the confirmation notification. This tells us an email has been sent that we need to click on to verify our registration.</p><figure><img alt=\"Yii2-User Sign Up Confirmation Notice\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signup-confirm.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>You'll receive an email much like this one:</p><figure><img alt=\"Yii2-User Confirmation Email\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/email-verify.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Click on the link in the email and you'll see something like this:</p><figure><img alt=\"Yii2-User Sign Up Confirmation\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/user-verified.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Notice the login state maintained by Yii2 and the Yii2-User component—it's displayed in the navigation bar above. Click <strong>Logout</strong> and let's walk through the <strong>Sign In</strong> page:</p><figure><img alt=\"Yii2-User Sign In Form\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signin.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Yii2-User also includes password recovery:</p><figure><img alt=\"Yii2-User Forgot Your Password\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/forgot-pwd.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Just like that, we have a hugely important core authentication component for our application.</p><p>Yii2-User also has a number of <a href=\"https://github.com/dektrium/yii2-user/blob/master/docs/configuration.md\">configuration features</a> which you can explore further on your own, e.g. third party social authentication. We'll likely return to them in a later tutorial.</p><h2>What's Next?\r\n<p>I hope you've found this useful for your own Yii2 web application. If you'd like to know when the next Yii2 tutorial arrives, follow me <a href=\"https://twitter.com/intent/user?screen_name=reifman\">@reifman</a> on Twitter or <a href=\"http://tutsplus.com/authors/jeff-reifman\">check my instructor page</a>. My instructor page will include all the articles from this series as soon as they are published.</p></h2>", "tag_list"=>"웹개발, 개발, 튜토리얼", "limit_ids"=>[""]}, "commit"=>"Save"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mPost Load (0.7ms)[0m  SELECT "posts".* FROM "posts"  WHERE (slug LIKE 'programming-with-yii2-integrating-user-registration%')
  [1m[36mPost Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "category_id", "created_at", "slug", "title", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["body", "<p><em>If you're asking, \"What's Yii?\", check out my earlier tutorial: </em><a href=\"http://code.tutsplus.com/articles/introduction-to-the-yii-framework--cms-20948\"><em>Introduction to the Yii Framework</em></a><em>, which reviews the benefits of Yii and includes an overview of what's new in Yii 2.0, released October 12th, 2014.</em></p><p>This is part four of a series on Yii2. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-getting-started--cms-22440\">Programming With Yii2: Getting Started</a>, we set up Yii2 locally, built a Hello World application, set up a remote server, and used Github to deploy our code. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-exploring-mvc-forms-and-layouts--cms-22682\">part two</a>, we learned about Yii's implementation of its Model View Controller architecture and how to build web pages and forms that collect and validate data. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-working-with-the-database-and-active-record--cms-22768\">part three</a>, we learned about working with databases and ActiveRecord. In this tutorial, we'll walk you through integrating a popular user registration plugin.</p><p>For these examples, we'll continue building on our hello app available in the <a href=\"https://github.com/newscloud/hello/releases/tag/user-registration\">Tuts+ repository</a> so that you can follow along.</p><h2>User Registration for Your Web Application</h2><p>Almost any web application of any usefulness requires some form of user registration. Yii provides a couple of ways to approach user registration, both relatively straightforward. This is one of the things I like about using Yii over vanilla PHP—in moments, I can have a fully featured web application framework ready to build cool stuff on.</p><p>There are few reasons to rebuild the wheel and code user authentication and its many requirements and corollary features from scratch, e.g. sending emails and authentication for registration verification, password recovery, third party social authentication, et al. </p><p>The <a href=\"http://www.yiiframework.com/doc-2.0/guide-tutorial-advanced-app.html\">Yii2 Advanced Application Template</a> provides built-in user registration; we're using this approach in my <a href=\"http://code.tutsplus.com/tutorials/building-your-startup-with-php-getting-started--cms-21948\">Building Your Startup</a> series. However, in this series, we've been building on Yii2's basic application template. The default basic application template includes hard coded user login, which isn't very useful.</p><figure><img alt=\"Yii2 Basic Application Template Static Login\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/static-login.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Another approach to user registration is to use third party extensions. For this tutorial, I'll walk you through using <a href=\"https://twitter.com/dmeroff_en\">Dmitry Erofeev</a>'s <a href=\"https://github.com/dektrium/yii2-user\">Yii2-User extension</a>.<a href=\"http://yii2-user.readthedocs.org/en/latest/index.html\">Documentation for Yii2-User is available here</a>. Erofeev's building <a href=\"https://github.com/dektrium\">other plugins for Yii2</a> as well.</p><figure><img alt=\"Dektriums Yii2-User Documentation\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/yii2-user-documentation.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><h2>Installation of Yii2-User</h2><p>Let's get started installing the Yii2-User extension. We'll follow the <a href=\"https://github.com/dektrium/yii2-user/blob/master/docs/installation.md\">installation instructions</a>.</p><h3>Installing Yii2-User With Composer</h3><p>First, we need to add Yii2-User to composer's required extensions. Edit the /composer.json file to include Yii2-User:</p><table><tbody><tr><td>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><code>\"require\"</code><code>: {</code><p><code>\"php\"</code><code>: </code><code>\"&gt;=5.4.0\"</code><code>,</code></p><p><code>\"yiisoft/yii2\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"yiisoft/yii2-bootstrap\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"yiisoft/yii2-swiftmailer\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"dektrium/yii2-user\"</code><code>: </code><code>\"*\"</code></p><p><code>},</code></p></div></td></tr></tbody></table><p>Then, when we update composer, you'll see something like this:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p></div></td><td><div><code>Admins-MacBook-Pro-2:hello Jeff$ composer update</code><p><code>Loading composer repositories with package information</code></p><p><code>Updating dependencies (including require-dev)</code></p><p><code>- Removing yiisoft</code><code>/yii2-composer</code> <code>(2.0.0)  </code></p><p><code>- Installing yiisoft</code><code>/yii2-composer</code> <code>(2.0.1)</code></p><p><code>Downloading: 100%  </code></p><p><code>...</code></p><p><code>- Installing dektrium</code><code>/yii2-user</code> <code>(v0.8.2)</code></p><p><code>Downloading: 100%  </code></p><p><code>Writing lock </code><code>file</code></p><p><code>Generating autoload files</code></p></div></td></tr></tbody></table><h3>Update the Database</h3><p>Next, we run the database migration for Yii2-User. This creates the database tables that the extension requires. These will manage user accounts and credentials.</p><table><tbody><tr><td>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p></td><td><div><code>hello Jeff$ php yii migrate</code><code>/up</code> <code>--migrationPath=@vendor</code><code>/dektrium/yii2-user/migrations</code><p><code>Yii Migration Tool (based on Yii v2.0.1)</code></p><p><code>Total 6 new migrations to be applied:</code></p><p><code>m140209_132017_init</code></p><p><code>m140403_174025_create_account_table</code></p><p><code>m140504_113157_update_tables</code></p><p><code>m140504_130429_create_token_table</code></p><p><code>m140830_171933_fix_ip_field</code></p><p><code>m140830_172703_change_account_table_name</code></p><p><code>Apply the above migrations? (</code><code>yes</code><code>|no) [no]:</code><code>yes</code></p><p><code>*** applying m140209_132017_init</code></p><p><code>&gt; create table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; create unique index user_unique_username on {{%user}} (username) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.015s)</code></p><p><code>&gt; create unique index user_unique_email on {{%user}} (email) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.012s)</code></p><p><code>&gt; create unique index user_confirmation on {{%user}} (</code><code>id</code><code>, confirmation_token) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.011s)</code></p><p><code>&gt; create unique index user_recovery on {{%user}} (</code><code>id</code><code>, recovery_token) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; create table {{%profile}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; add foreign key fk_user_profile: {{%profile}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>*** applied m140209_132017_init (</code><code>time</code><code>: 0.078s)</code></p><p><code>*** applying m140403_174025_create_account_table</code></p><p><code>&gt; create table {{%account}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; create unique index account_unique on {{%account}} (provider,client_id) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; add foreign key fk_user_account: {{%account}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>*** applied m140403_174025_create_account_table (</code><code>time</code><code>: 0.027s)</code></p><p><code>*** applying m140504_113157_update_tables</code></p><p><code>&gt; drop index user_confirmation ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop index user_recovery ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; drop column confirmation_token from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; drop column confirmation_sent_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; drop column recovery_token from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop column recovery_sent_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; drop column logged_in_from from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop column logged_in_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; rename column registered_from </code><code>in</code> <code>table {{%user}} to registration_ip ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; add column flags integer NOT NULL DEFAULT 0 to table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; rename column properties </code><code>in</code> <code>table {{%account}} to data ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>*** applied m140504_113157_update_tables (</code><code>time</code><code>: 0.090s)</code></p><p><code>*** applying m140504_130429_create_token_table</code></p><p><code>&gt; create table {{%token}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.006s)</code></p><p><code>&gt; create unique index token_unique on {{%token}} (user_id,code,</code><code>type</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; add foreign key fk_user_token: {{%token}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>*** applied m140504_130429_create_token_table (</code><code>time</code><code>: 0.026s)</code></p><p><code>*** applying m140830_171933_fix_ip_field</code></p><p><code>&gt; alter column registration_ip </code><code>in</code> <code>table {{%user}} to bigint ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>*** applied m140830_171933_fix_ip_field (</code><code>time</code><code>: 0.011s)</code></p><p><code>*** applying m140830_172703_change_account_table_name</code></p><p><code>&gt; rename table {{%account}} to {{%social_account}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.001s)</code></p><p><code>*** applied m140830_172703_change_account_table_name (</code><code>time</code><code>: 0.002s)</code></p><p><code>Migrated up successfully.</code></p></div></td></tr></tbody></table><h3>Update the Configuration File</h3><p>Next, we need to tell Yii to use the Yii2-User component. In /config/web.php, we replace the default User component...</p><table><tbody><tr><td>12<p>3</p><p>4</p></td><td><div><code>'user'</code> <code>=&gt; [</code><p><code>'identityClass'</code> <code>=&gt; </code><code>'app\\models\\User'</code><code>,</code></p><p><code>'enableAutoLogin'</code> <code>=&gt; </code><code>true</code><code>,</code></p><p><code>],</code></p></div></td></tr></tbody></table><p>... with the Yii2-User component:</p><table><tbody><tr><td><div>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></div></td><td><div><code>'user'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'dektrium\\user\\Module'</code><code>,</code></p><p><code>'enableUnconfirmedLogin'</code> <code>=&gt; </code><code>true</code><code>,</code></p><p><code>'confirmWithin'</code> <code>=&gt; 21600,</code></p><p><code>'cost'</code> <code>=&gt; 12,</code></p><p><code>'admins'</code> <code>=&gt; [</code><code>'admin'</code><code>]</code></p><p><code>],</code></p></div></td></tr></tbody></table><h3>Activate the SwiftMailer</h3><p>Since Yii2-User uses email to send out registration confirmations and forgotten passwords, it's time to activate our SwiftMailer configuration. In config/web.php, replace the default Mailer configuration here...</p><table><tbody><tr><td>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><code>'mailer'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'yii\\swiftmailer\\Mailer'</code><code>,</code></p><p><code>// send all mails to a file by default. You have to set</code></p><p><code>// 'useFileTransport' to false and configure a transport</code></p><p><code>// for the mailer to send real emails.</code></p><p><code>'useFileTransport'</code> <code>=&gt; true,</code></p><p><code>],</code></p></div></td></tr></tbody></table><p>... with this—you'll need to include your own SMTP credentials:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p></div></td><td><div><code>'mailer'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'yii\\swiftmailer\\Mailer'</code><code>,</code></p><p><code>'viewPath'</code> <code>=&gt; </code><code>'@app/mailer'</code><code>,</code></p><p><code>'useFileTransport'</code> <code>=&gt; false,</code></p><p><code>'transport'</code> <code>=&gt; [</code></p><p><code>'class'</code> <code>=&gt; </code><code>'Swift_SmtpTransport'</code><code>,</code></p><p><code>'host'</code> <code>=&gt; </code><code>'your-host-domain e.g. smtp.gmail.com'</code><code>,</code></p><p><code>'username'</code> <code>=&gt; </code><code>'your-email-or-username'</code><code>,</code></p><p><code>'password'</code> <code>=&gt; </code><code>'your-password'</code><code>,</code></p><p><code>'port'</code> <code>=&gt; </code><code>'587'</code><code>,</code></p><p><code>'encryption'</code> <code>=&gt; </code><code>'tls'</code><code>,</code></p><p><code>],</code></p><p><code>],</code></p></div></td></tr></tbody></table><h2>Integration of Yii2-User</h2><p>Now, we need to link our navigation bar to the Yii2-User controller paths. In /views/layouts/main.php, we update the navigation bar array definition for the Bootstrap menu. Replace the current navigation bar...</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p></div></td><td><div><code>echo</code> <code>Nav::widget([</code><p><code>'options'</code> <code>=&gt; [</code><code>'class'</code> <code>=&gt; </code><code>'navbar-nav navbar-right'</code><code>],</code></p><p><code>'items'</code> <code>=&gt; [</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Home'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Status'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/status/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'About'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/about'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Contact'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/contact'</code><code>]],</code></p><p><code>Yii::</code><code>$app</code><code>-&gt;user-&gt;isGuest ?</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Login'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/login'</code><code>]] :</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Logout ('</code> <code>. Yii::</code><code>$app</code><code>-&gt;user-&gt;identity-&gt;username . </code><code>')'</code><code>,</code></p><p><code>'url'</code> <code>=&gt; [</code><code>'/site/logout'</code><code>],</code></p><p><code>'linkOptions'</code> <code>=&gt; [</code><code>'data-method'</code> <code>=&gt; </code><code>'post'</code><code>]],</code></p><p><code>],</code></p><p><code>]);</code></p></div></td></tr></tbody></table><p>... with the following array definition:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p></div></td><td><div><code>$navItems</code><code>=[</code><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Home'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Status'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/status/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'About'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/about'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Contact'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/contact'</code><code>]]</code></p><p><code>];</code></p><p><code>if</code> <code>(Yii::</code><code>$app</code><code>-&gt;user-&gt;isGuest) {</code></p><p><code>array_push</code><code>(</code><code>$navItems</code><code>,[</code><code>'label'</code> <code>=&gt; </code><code>'Sign In'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/user/login'</code><code>]],[</code><code>'label'</code> <code>=&gt; </code><code>'Sign Up'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/user/register'</code><code>]]);</code></p><p><code>} </code><code>else</code> <code>{</code></p><p><code>array_push</code><code>(</code><code>$navItems</code><code>,[</code><code>'label'</code> <code>=&gt; </code><code>'Logout ('</code> <code>. Yii::</code><code>$app</code><code>-&gt;user-&gt;identity-&gt;username . </code><code>')'</code><code>,</code></p><p><code>'url'</code> <code>=&gt; [</code><code>'/site/logout'</code><code>],</code></p><p><code>'linkOptions'</code> <code>=&gt; [</code><code>'data-method'</code> <code>=&gt; </code><code>'post'</code><code>]]</code></p><p><code>);</code></p><p><code>}</code></p><p><code>echo</code> <code>Nav::widget([</code></p><p><code>'options'</code> <code>=&gt; [</code><code>'class'</code> <code>=&gt; </code><code>'navbar-nav navbar-right'</code><code>],</code></p><p><code>'items'</code> <code>=&gt; </code><code>$navItems</code><code>,</code></p><p><code>]);</code></p></div></td></tr></tbody></table><p>Reload the application and click the <strong>Sign Up</strong> link in the navigation bar. You should see something like this:</p><figure><img alt=\"Yii2-User Sign Up Page\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signup.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>When you click <strong>Sign Up</strong>, you'll see the confirmation notification. This tells us an email has been sent that we need to click on to verify our registration.</p><figure><img alt=\"Yii2-User Sign Up Confirmation Notice\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signup-confirm.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>You'll receive an email much like this one:</p><figure><img alt=\"Yii2-User Confirmation Email\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/email-verify.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Click on the link in the email and you'll see something like this:</p><figure><img alt=\"Yii2-User Sign Up Confirmation\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/user-verified.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Notice the login state maintained by Yii2 and the Yii2-User component—it's displayed in the navigation bar above. Click <strong>Logout</strong> and let's walk through the <strong>Sign In</strong> page:</p><figure><img alt=\"Yii2-User Sign In Form\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signin.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Yii2-User also includes password recovery:</p><figure><img alt=\"Yii2-User Forgot Your Password\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/forgot-pwd.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Just like that, we have a hugely important core authentication component for our application.</p><p>Yii2-User also has a number of <a href=\"https://github.com/dektrium/yii2-user/blob/master/docs/configuration.md\">configuration features</a> which you can explore further on your own, e.g. third party social authentication. We'll likely return to them in a later tutorial.</p><h2>What's Next?\r\n<p>I hope you've found this useful for your own Yii2 web application. If you'd like to know when the next Yii2 tutorial arrives, follow me <a href=\"https://twitter.com/intent/user?screen_name=reifman\">@reifman</a> on Twitter or <a href=\"http://tutsplus.com/authors/jeff-reifman\">check my instructor page</a>. My instructor page will include all the articles from this series as soon as they are published.</p></h2>"], ["category_id", 2], ["created_at", "2015-03-24 03:02:23.659130"], ["slug", "programming-with-yii2-integrating-user-registration"], ["title", "​ Programming With Yii2: Integrating User Registration"], ["updated_at", "2015-03-24 03:02:23.659130"], ["user_id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (5.4ms)[0m  [1mSELECT "tags".* FROM "tags"  WHERE (LOWER(name) = LOWER('웹개발') OR LOWER(name) = LOWER('개발') OR LOWER(name) = LOWER('튜토리얼'))[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.2ms)[0m  SELECT  1 AS one FROM "tags"  WHERE "tags"."name" = '웹개발' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "웹개발"]]
  [1m[35mActsAsTaggableOn::Tag Exists (0.1ms)[0m  SELECT  1 AS one FROM "tags"  WHERE "tags"."name" = '개발' LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "개발"]]
  [1m[35mActsAsTaggableOn::Tag Exists (0.1ms)[0m  SELECT  1 AS one FROM "tags"  WHERE "tags"."name" = '튜토리얼' LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "튜토리얼"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "taggings"  WHERE ("taggings"."tag_id" = 1 AND "taggings"."taggable_type" = 'Post' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'tags' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "taggings" ("context", "created_at", "tag_id", "taggable_id", "taggable_type") VALUES (?, ?, ?, ?, ?)  [["context", "tags"], ["created_at", "2015-03-24 03:02:23.809049"], ["tag_id", 1], ["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags"  WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = 1
  [1m[36mActsAsTaggableOn::Tagging Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "taggings"  WHERE ("taggings"."tag_id" = 2 AND "taggings"."taggable_type" = 'Post' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'tags' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "taggings" ("context", "created_at", "tag_id", "taggable_id", "taggable_type") VALUES (?, ?, ?, ?, ?)  [["context", "tags"], ["created_at", "2015-03-24 03:02:23.813879"], ["tag_id", 2], ["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.0ms)[0m  [1mSELECT  "tags".* FROM "tags"  WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = 2
  [1m[36mActsAsTaggableOn::Tagging Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "taggings"  WHERE ("taggings"."tag_id" = 3 AND "taggings"."taggable_type" = 'Post' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'tags' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "taggings" ("context", "created_at", "tag_id", "taggable_id", "taggable_type") VALUES (?, ?, ?, ?, ?)  [["context", "tags"], ["created_at", "2015-03-24 03:02:23.816890"], ["tag_id", 3], ["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.0ms)[0m  [1mSELECT  "tags".* FROM "tags"  WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = 3
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/posts/programming-with-yii2-integrating-user-registration
Completed 302 Found in 211ms (ActiveRecord: 12.2ms)


Started GET "/posts/programming-with-yii2-integrating-user-registration" for 127.0.0.1 at 2015-03-24 12:02:23 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"programming-with-yii2-integrating-user-registration"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT  "categories".* FROM "categories"  WHERE "categories"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.1ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mView Load (0.2ms)[0m  SELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."user_id" = 2  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36mView Load (0.1ms)[0m  [1mSELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."ip" = '127.0.0.1'[0m  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "views" ("created_at", "ip", "updated_at", "user_id", "viewable_id", "viewable_type") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", "2015-03-24 03:02:23.947169"], ["ip", "127.0.0.1"], ["updated_at", "2015-03-24 03:02:23.947173"], ["user_id", 2], ["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?[0m  [["commentable_id", 1], ["commentable_type", "Post"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ?  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voter_id" = 2 AND "votes"."voter_type" = 'User' AND "votes"."voteable_id" = 1 AND "votes"."voteable_type" = 'Post'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "votes"  WHERE "votes"."voter_id" = 2 AND "votes"."voter_type" = 'User' AND "votes"."voteable_id" = 1 AND "votes"."voteable_type" = 'Post'
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voteable_id" = 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id  [["taggable_id", 1], ["taggable_type", "Post"]]
  Rendered comments/_form.html.erb (5.1ms)
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT "comments".* FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?  ORDER BY updated_at DESC[0m  [["commentable_id", 1], ["commentable_type", "Post"]]
  Rendered comments/_comment.html.erb (0.0ms)
  Rendered posts/show.html.erb within layouts/application (42.9ms)
  Rendered shared/_social_meta_tags.html.erb (1.3ms)
  Rendered shared/_flash.html.erb (1.0ms)
  Rendered layouts/_menu.html.erb (3.3ms)
  Rendered layouts/_header.html.erb (4.6ms)
Completed 200 OK in 368ms (Views: 245.7ms | ActiveRecord: 5.5ms)


Started POST "/posts/1/comments" for 127.0.0.1 at 2015-03-24 12:02:45 +0900
Processing by CommentsController#create as JS
  Parameters: {"utf8"=>"✓", "comment"=>{"parent_id"=>"", "commentable_id"=>"1", "commentable_type"=>"Post", "body"=>"This is my comment."}, "commit"=>"Save", "id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mComment Load (0.4ms)[0m  [1mSELECT  "comments".* FROM "comments"   ORDER BY "comments"."rgt" desc LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "comments".* FROM "comments"   ORDER BY "comments"."rgt" desc LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "comments" ("body", "commentable_id", "commentable_type", "created_at", "lft", "rgt", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["body", "This is my comment."], ["commentable_id", 1], ["commentable_type", "Post"], ["created_at", "2015-03-24 03:02:45.474727"], ["lft", 1], ["rgt", 2], ["updated_at", "2015-03-24 03:02:45.474800"], ["user_id", 2]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voteable_id" = 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes"  WHERE "votes"."voter_id" = 2 AND "votes"."voter_type" = 'User' AND "votes"."voteable_id" = 1 AND "votes"."voteable_type" = 'Comment'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voter_id" = 2 AND "votes"."voter_type" = 'User' AND "votes"."voteable_id" = 1 AND "votes"."voteable_type" = 'Comment'[0m
  Rendered comments/_comment.html.erb (7.7ms)
  Rendered comments/create.js.erb (10.5ms)
Completed 200 OK in 56ms (Views: 16.0ms | ActiveRecord: 10.4ms)


Started GET "/blog" for 127.0.0.1 at 2015-03-24 12:02:56 +0900
Processing by PagesController#blog as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts"   ORDER BY created_at DESC LIMIT 10 OFFSET 0[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories"  WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?  [["commentable_id", 1], ["commentable_type", "Post"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voteable_id" = 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ?  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  Rendered posts/_borderless.html.erb (99.3ms)
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 4]]
  Rendered layouts/_default_blog.html.erb (113.5ms)
  Rendered pages/blog.html.erb within layouts/application (114.6ms)
  Rendered shared/_social_meta_tags.html.erb (0.3ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (2.2ms)
  Rendered layouts/_header.html.erb (3.0ms)
Completed 200 OK in 364ms (Views: 359.1ms | ActiveRecord: 2.4ms)


Started POST "/searches" for 127.0.0.1 at 2015-03-24 12:03:21 +0900
Processing by SearchesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wrMWHM9gl6tHw+NMDvszn+62aW45tgLceOM9JFW3JJg=", "search"=>{"keywords"=>"programming"}, "commit"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.1ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "searches" ("created_at", "keywords", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", "2015-03-24 03:03:21.182594"], ["keywords", "programming"], ["updated_at", "2015-03-24 03:03:21.182594"], ["user_id", 2]]
  [1m[35m (0.8ms)[0m  commit transaction
Redirected to http://localhost:3000/searches/1
Completed 302 Found in 14ms (ActiveRecord: 1.8ms)


Started GET "/searches/1" for 127.0.0.1 at 2015-03-24 12:03:21 +0900
Processing by SearchesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mSearch Load (0.2ms)[0m  SELECT  "searches".* FROM "searches"  WHERE "searches"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "searches".* FROM "searches"  WHERE "searches"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(DISTINCT "posts"."id") FROM "posts" LEFT OUTER JOIN "comments" ON "comments"."commentable_id" = "posts"."id" AND "comments"."commentable_type" = 'Post' WHERE (("posts"."title" LIKE '%programming%' OR "posts"."body" LIKE '%programming%' OR "comments"."body" LIKE '%programming%'))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "posts"."id" AS t0_r0, "posts"."title" AS t0_r1, "posts"."body" AS t0_r2, "posts"."user_id" AS t0_r3, "posts"."category_id" AS t0_r4, "posts"."published" AS t0_r5, "posts"."created_at" AS t0_r6, "posts"."updated_at" AS t0_r7, "posts"."url" AS t0_r8, "posts"."slug" AS t0_r9, "comments"."id" AS t1_r0, "comments"."commentable_id" AS t1_r1, "comments"."commentable_type" AS t1_r2, "comments"."title" AS t1_r3, "comments"."body" AS t1_r4, "comments"."subject" AS t1_r5, "comments"."user_id" AS t1_r6, "comments"."parent_id" AS t1_r7, "comments"."lft" AS t1_r8, "comments"."rgt" AS t1_r9, "comments"."created_at" AS t1_r10, "comments"."updated_at" AS t1_r11 FROM "posts" LEFT OUTER JOIN "comments" ON "comments"."commentable_id" = "posts"."id" AND "comments"."commentable_type" = 'Post' WHERE (("posts"."title" LIKE '%programming%' OR "posts"."body" LIKE '%programming%' OR "comments"."body" LIKE '%programming%'))[0m
  Rendered searches/show.html.erb within layouts/application (7.0ms)
  Rendered shared/_social_meta_tags.html.erb (0.3ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (2.3ms)
  Rendered layouts/_header.html.erb (3.0ms)
Completed 200 OK in 230ms (Views: 215.2ms | ActiveRecord: 1.4ms)


Started GET "/searches/new" for 127.0.0.1 at 2015-03-24 12:03:33 +0900
Processing by SearchesController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered searches/new.html.erb within layouts/application (12.3ms)
  Rendered shared/_social_meta_tags.html.erb (0.5ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (2.0ms)
  Rendered layouts/_header.html.erb (2.7ms)
Completed 200 OK in 262ms (Views: 244.4ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2015-03-24 12:04:14 +0900
Processing by PagesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  Rendered pages/home.html.erb within layouts/application (1.6ms)
  Rendered shared/_social_meta_tags.html.erb (0.3ms)
  Rendered shared/_flash.html.erb (0.3ms)
  Rendered layouts/_menu.html.erb (1.9ms)
  Rendered layouts/_header.html.erb (2.7ms)
Completed 200 OK in 199ms (Views: 196.9ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2015-03-24 12:04:14 +0900
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered pages/home.html.erb within layouts/application (1.9ms)
  Rendered shared/_social_meta_tags.html.erb (0.8ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (1.9ms)
  Rendered layouts/_header.html.erb (2.8ms)
Completed 200 OK in 246ms (Views: 244.5ms | ActiveRecord: 0.2ms)


Started GET "/blog" for 127.0.0.1 at 2015-03-24 12:04:25 +0900
Processing by PagesController#blog as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts"   ORDER BY created_at DESC LIMIT 10 OFFSET 0[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories"  WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?  [["commentable_id", 1], ["commentable_type", "Post"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voteable_id" = 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ?  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  Rendered posts/_borderless.html.erb (120.1ms)
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 4]]
  Rendered layouts/_default_blog.html.erb (125.1ms)
  Rendered pages/blog.html.erb within layouts/application (126.1ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.6ms)
  Rendered layouts/_menu.html.erb (2.4ms)
  Rendered layouts/_header.html.erb (3.5ms)
Completed 200 OK in 335ms (Views: 325.6ms | ActiveRecord: 4.4ms)


Started GET "/posts/programming-with-yii2-integrating-user-registration" for 127.0.0.1 at 2015-03-24 12:04:27 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"programming-with-yii2-integrating-user-registration"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories"  WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mView Load (0.1ms)[0m  [1mSELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."user_id" = 2[0m  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?  [["commentable_id", 1], ["commentable_type", "Post"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ?[0m  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes"  WHERE "votes"."voter_id" = 2 AND "votes"."voter_type" = 'User' AND "votes"."voteable_id" = 1 AND "votes"."voteable_type" = 'Post'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voter_id" = 2 AND "votes"."voter_type" = 'User' AND "votes"."voteable_id" = 1 AND "votes"."voteable_type" = 'Post'[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes"  WHERE "votes"."voteable_id" = 1
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  Rendered comments/_form.html.erb (3.0ms)
  [1m[35mComment Load (0.1ms)[0m  SELECT "comments".* FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?  ORDER BY updated_at DESC  [["commentable_id", 1], ["commentable_type", "Post"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "votes"  WHERE "votes"."voteable_id" = 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voter_id" = 2 AND "votes"."voter_type" = 'User' AND "votes"."voteable_id" = 1 AND "votes"."voteable_type" = 'Comment'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "votes"  WHERE "votes"."voter_id" = 2 AND "votes"."voter_type" = 'User' AND "votes"."voteable_id" = 1 AND "votes"."voteable_type" = 'Comment'
  Rendered comments/_comment.html.erb (4.8ms)
  Rendered posts/show.html.erb within layouts/application (46.9ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.4ms)
  Rendered layouts/_menu.html.erb (2.9ms)
  Rendered layouts/_header.html.erb (4.1ms)
Completed 200 OK in 321ms (Views: 243.7ms | ActiveRecord: 1.9ms)


Started GET "/posts/programming-with-yii2-integrating-user-registration/edit" for 127.0.0.1 at 2015-03-24 12:08:54 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"programming-with-yii2-integrating-user-registration"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mPost Load (1.4ms)[0m  [1mSELECT  "posts".* FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mLimit Load (0.7ms)[0m  SELECT "limits".* FROM "limits"  WHERE "limits"."limitable_id" = ? AND "limits"."limitable_type" = ?  [["limitable_id", 1], ["limitable_type", "Post"]]
  Rendered posts/_form.html.erb (36.6ms)
  Rendered posts/edit.html.erb within layouts/application (41.1ms)
  Rendered shared/_social_meta_tags.html.erb (1.0ms)
  Rendered shared/_flash.html.erb (1.0ms)
  Rendered layouts/_menu.html.erb (6.5ms)
  Rendered layouts/_header.html.erb (7.6ms)
Completed 200 OK in 573ms (Views: 393.2ms | ActiveRecord: 6.1ms)
  [1m[36mPost Load (3.3ms)[0m  [1mSELECT "posts".* FROM "posts"[0m
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1[0m
  [1m[35mPost Load (0.4ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1[0m
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1[0m
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1[0m
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mPost Load (0.3ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY "posts"."id" ASC LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "provider" varchar(255), "uid" varchar(255), "user_id" integer, "token" varchar(255), "secret" varchar(255), "username" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX "index_authorizations_on_user_id" ON "authorizations" ("user_id")[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.8ms)[0m  [1mCREATE  INDEX "index_categories_on_user_id" ON "categories" ("user_id")[0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(255), "title" varchar(255), "body" text, "subject" varchar(255), "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX "index_comments_on_commentable_id_and_commentable_type" ON "comments" ("commentable_id", "commentable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_commentable_id_and_commentable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_commentable_id_and_commentable_type' AND type='index'

  [1m[36m (0.8ms)[0m  [1mCREATE  INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "limitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "post_id" integer, "limit_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "limits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "limitable_id" integer, "limitable_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "policies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "body_en" text, "body_ko" text, "version" varchar(255), "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.7ms)[0m  [1mCREATE  INDEX "index_policies_on_user_id" ON "policies" ("user_id")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "user_id" integer, "category_id" integer, "published" boolean DEFAULT 'f', "created_at" datetime, "updated_at" datetime, "url" varchar(255), "slug" varchar(255)) 
  [1m[36m (0.8ms)[0m  [1mCREATE  INDEX "index_posts_on_category_id" ON "posts" ("category_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_category_id' AND type='index'

  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "index_posts_on_slug" ON "posts" ("slug")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_slug' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_category_id' AND type='index'
[0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "index_posts_on_url" ON "posts" ("url")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_url' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_url' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_slug' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_category_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  CREATE  INDEX "index_posts_on_user_id" ON "posts" ("user_id")
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "redactor_assets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "data_file_name" varchar(255) NOT NULL, "data_content_type" varchar(255), "data_file_size" integer, "assetable_id" integer, "assetable_type" varchar(30), "type" varchar(30), "width" integer, "height" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.7ms)[0m  CREATE  INDEX "idx_redactor_assetable" ON "redactor_assets" ("assetable_type", "assetable_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='idx_redactor_assetable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='idx_redactor_assetable' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  CREATE  INDEX "idx_redactor_assetable_type" ON "redactor_assets" ("assetable_type", "type", "assetable_id")
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "resource_id" integer, "resource_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
[0m
  [1m[35m (1.0ms)[0m  CREATE  INDEX "index_roles_on_name" ON "roles" ("name")
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "searches" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "keywords" varchar(255), "category_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE  INDEX "index_searches_on_user_id" ON "searches" ("user_id")
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "taggings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tag_id" integer, "taggable_id" integer, "taggable_type" varchar(255), "tagger_id" integer, "tagger_type" varchar(255), "context" varchar(128), "created_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "taggings_idx" ON "taggings" ("tag_id", "taggable_id", "taggable_type", "context", "tagger_id", "tagger_type")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (1.3ms)[0m  CREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "tags" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "taggings_count" integer DEFAULT 0) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "index_tags_on_name" ON "tags" ("name")
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "confirmation_token" varchar(255), "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar(255), "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar(255), "locked_at" datetime, "created_at" datetime, "updated_at" datetime, "username" varchar(255), "name" varchar(255), "gender" varchar(255), "birthday" date, "agreement" boolean DEFAULT 't', "last_name" varchar(255), "first_name" varchar(255), "job" varchar(255), "description" text, "website" varchar(255), "phone" varchar(255), "locale" varchar(255), "sns_avatar" varchar(255), "address" varchar(255), "facebook_account_url" varchar(255), "twitter_account_url" varchar(255), "linkedin_account_url" varchar(255), "github_account_url" varchar(255), "googleplus_account_url" varchar(255), "avatar" varchar(255)) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'

  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'

  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "users_roles" ("user_id" integer, "role_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "views" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "viewable_id" integer, "viewable_type" varchar(255), "ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX "index_views_on_user_id" ON "views" ("user_id")[0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "vote" boolean DEFAULT 'f' NOT NULL, "voteable_id" integer NOT NULL, "voteable_type" varchar(255) NOT NULL, "voter_id" integer, "voter_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.8ms)[0m  [1mCREATE  INDEX "index_votes_on_voteable_id_and_voteable_type" ON "votes" ("voteable_id", "voteable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "fk_one_vote_per_user_per_entity" ON "votes" ("voter_id", "voter_type", "voteable_id", "voteable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  CREATE  INDEX "index_votes_on_voter_id_and_voter_type" ON "votes" ("voter_id", "voter_type")
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20141019103548')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140917114857')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140917114858')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140917114859')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140917114860')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140917115046')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140917115054')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140917122702')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140917123143')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140917125801')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140917132148')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140917132340')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140921161559')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140922112828')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140923002324')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140923084120')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140923124927')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140923174451')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140927134557')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20141001042337')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20141017054005')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("confirmed_at", "created_at", "email", "first_name", "gender", "last_name", "locale", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["confirmed_at", "2015-03-24 03:18:12.846119"], ["created_at", "2015-03-24 03:18:12.846624"], ["email", "admin@admin.com"], ["first_name", "admin"], ["gender", "male"], ["last_name", "Seo"], ["locale", "en"], ["updated_at", "2015-03-24 03:18:12.846624"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "name", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", "2015-03-24 03:18:12.854107"], ["name", "Cooking"], ["updated_at", "2015-03-24 03:18:12.854108"], ["user_id", 1]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("created_at", "name", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", "2015-03-24 03:18:12.862351"], ["name", "Design"], ["updated_at", "2015-03-24 03:18:12.862352"], ["user_id", 1]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("created_at", "name", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", "2015-03-24 03:18:12.864221"], ["name", "Programming"], ["updated_at", "2015-03-24 03:18:12.864221"], ["user_id", 1]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("created_at", "name", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", "2015-03-24 03:18:12.865928"], ["name", "Articles"], ["updated_at", "2015-03-24 03:18:12.865929"], ["user_id", 1]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mPost Load (0.2ms)[0m  SELECT "posts".* FROM "posts"  WHERE (slug LIKE 'programming-with-yii2-integrating-user-registration%')
  [1m[36mPost Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "created_at", "slug", "title", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)  [["body", "<p><em>If you're asking, \"What's Yii?\", check out my earlier tutorial: </em><a href=\"http://code.tutsplus.com/articles/introduction-to-the-yii-framework--cms-20948\"><em>Introduction to the Yii Framework</em></a><em>, which reviews the benefits of Yii and includes an overview of what's new in Yii 2.0, released October 12th, 2014.</em></p><p>This is part four of a series on Yii2. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-getting-started--cms-22440\">Programming With Yii2: Getting Started</a>, we set up Yii2 locally, built a Hello World application, set up a remote server, and used Github to deploy our code. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-exploring-mvc-forms-and-layouts--cms-22682\">part two</a>, we learned about Yii's implementation of its Model View Controller architecture and how to build web pages and forms that collect and validate data. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-working-with-the-database-and-active-record--cms-22768\">part three</a>, we learned about working with databases and ActiveRecord. In this tutorial, we'll walk you through integrating a popular user registration plugin.</p><p>For these examples, we'll continue building on our hello app available in the <a href=\"https://github.com/newscloud/hello/releases/tag/user-registration\">Tuts+ repository</a> so that you can follow along.</p><h2>User Registration for Your Web Application</h2><p>Almost any web application of any usefulness requires some form of user registration. Yii provides a couple of ways to approach user registration, both relatively straightforward. This is one of the things I like about using Yii over vanilla PHP—in moments, I can have a fully featured web application framework ready to build cool stuff on.</p><p>There are few reasons to rebuild the wheel and code user authentication and its many requirements and corollary features from scratch, e.g. sending emails and authentication for registration verification, password recovery, third party social authentication, et al. </p><p>The <a href=\"http://www.yiiframework.com/doc-2.0/guide-tutorial-advanced-app.html\">Yii2 Advanced Application Template</a> provides built-in user registration; we're using this approach in my <a href=\"http://code.tutsplus.com/tutorials/building-your-startup-with-php-getting-started--cms-21948\">Building Your Startup</a> series. However, in this series, we've been building on Yii2's basic application template. The default basic application template includes hard coded user login, which isn't very useful.</p><figure><img alt=\"Yii2 Basic Application Template Static Login\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/static-login.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Another approach to user registration is to use third party extensions. For this tutorial, I'll walk you through using <a href=\"https://twitter.com/dmeroff_en\">Dmitry Erofeev</a>'s <a href=\"https://github.com/dektrium/yii2-user\">Yii2-User extension</a>.<a href=\"http://yii2-user.readthedocs.org/en/latest/index.html\">Documentation for Yii2-User is available here</a>. Erofeev's building <a href=\"https://github.com/dektrium\">other plugins for Yii2</a> as well.</p><figure><img alt=\"Dektriums Yii2-User Documentation\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/yii2-user-documentation.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><h2>Installation of Yii2-User</h2><p>Let's get started installing the Yii2-User extension. We'll follow the <a href=\"https://github.com/dektrium/yii2-user/blob/master/docs/installation.md\">installation instructions</a>.</p><h3>Installing Yii2-User With Composer</h3><p>First, we need to add Yii2-User to composer's required extensions. Edit the /composer.json file to include Yii2-User:</p><table><tbody><tr><td>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><code>\"require\"</code><code>: {</code><p><code>\"php\"</code><code>: </code><code>\"&gt;=5.4.0\"</code><code>,</code></p><p><code>\"yiisoft/yii2\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"yiisoft/yii2-bootstrap\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"yiisoft/yii2-swiftmailer\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"dektrium/yii2-user\"</code><code>: </code><code>\"*\"</code></p><p><code>},</code></p></div></td></tr></tbody></table><p>Then, when we update composer, you'll see something like this:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p></div></td><td><div><code>Admins-MacBook-Pro-2:hello Jeff$ composer update</code><p><code>Loading composer repositories with package information</code></p><p><code>Updating dependencies (including require-dev)</code></p><p><code>- Removing yiisoft</code><code>/yii2-composer</code> <code>(2.0.0)  </code></p><p><code>- Installing yiisoft</code><code>/yii2-composer</code> <code>(2.0.1)</code></p><p><code>Downloading: 100%  </code></p><p><code>...</code></p><p><code>- Installing dektrium</code><code>/yii2-user</code> <code>(v0.8.2)</code></p><p><code>Downloading: 100%  </code></p><p><code>Writing lock </code><code>file</code></p><p><code>Generating autoload files</code></p></div></td></tr></tbody></table><h3>Update the Database</h3><p>Next, we run the database migration for Yii2-User. This creates the database tables that the extension requires. These will manage user accounts and credentials.</p><table><tbody><tr><td>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p></td><td><div><code>hello Jeff$ php yii migrate</code><code>/up</code> <code>--migrationPath=@vendor</code><code>/dektrium/yii2-user/migrations</code><p><code>Yii Migration Tool (based on Yii v2.0.1)</code></p><p><code>Total 6 new migrations to be applied:</code></p><p><code>m140209_132017_init</code></p><p><code>m140403_174025_create_account_table</code></p><p><code>m140504_113157_update_tables</code></p><p><code>m140504_130429_create_token_table</code></p><p><code>m140830_171933_fix_ip_field</code></p><p><code>m140830_172703_change_account_table_name</code></p><p><code>Apply the above migrations? (</code><code>yes</code><code>|no) [no]:</code><code>yes</code></p><p><code>*** applying m140209_132017_init</code></p><p><code>&gt; create table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; create unique index user_unique_username on {{%user}} (username) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.015s)</code></p><p><code>&gt; create unique index user_unique_email on {{%user}} (email) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.012s)</code></p><p><code>&gt; create unique index user_confirmation on {{%user}} (</code><code>id</code><code>, confirmation_token) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.011s)</code></p><p><code>&gt; create unique index user_recovery on {{%user}} (</code><code>id</code><code>, recovery_token) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; create table {{%profile}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; add foreign key fk_user_profile: {{%profile}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>*** applied m140209_132017_init (</code><code>time</code><code>: 0.078s)</code></p><p><code>*** applying m140403_174025_create_account_table</code></p><p><code>&gt; create table {{%account}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; create unique index account_unique on {{%account}} (provider,client_id) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; add foreign key fk_user_account: {{%account}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>*** applied m140403_174025_create_account_table (</code><code>time</code><code>: 0.027s)</code></p><p><code>*** applying m140504_113157_update_tables</code></p><p><code>&gt; drop index user_confirmation ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop index user_recovery ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; drop column confirmation_token from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; drop column confirmation_sent_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; drop column recovery_token from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop column recovery_sent_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; drop column logged_in_from from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop column logged_in_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; rename column registered_from </code><code>in</code> <code>table {{%user}} to registration_ip ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; add column flags integer NOT NULL DEFAULT 0 to table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; rename column properties </code><code>in</code> <code>table {{%account}} to data ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>*** applied m140504_113157_update_tables (</code><code>time</code><code>: 0.090s)</code></p><p><code>*** applying m140504_130429_create_token_table</code></p><p><code>&gt; create table {{%token}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.006s)</code></p><p><code>&gt; create unique index token_unique on {{%token}} (user_id,code,</code><code>type</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; add foreign key fk_user_token: {{%token}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>*** applied m140504_130429_create_token_table (</code><code>time</code><code>: 0.026s)</code></p><p><code>*** applying m140830_171933_fix_ip_field</code></p><p><code>&gt; alter column registration_ip </code><code>in</code> <code>table {{%user}} to bigint ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>*** applied m140830_171933_fix_ip_field (</code><code>time</code><code>: 0.011s)</code></p><p><code>*** applying m140830_172703_change_account_table_name</code></p><p><code>&gt; rename table {{%account}} to {{%social_account}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.001s)</code></p><p><code>*** applied m140830_172703_change_account_table_name (</code><code>time</code><code>: 0.002s)</code></p><p><code>Migrated up successfully.</code></p></div></td></tr></tbody></table><h3>Update the Configuration File</h3><p>Next, we need to tell Yii to use the Yii2-User component. In /config/web.php, we replace the default User component...</p><table><tbody><tr><td>12<p>3</p><p>4</p></td><td><div><code>'user'</code> <code>=&gt; [</code><p><code>'identityClass'</code> <code>=&gt; </code><code>'app\\models\\User'</code><code>,</code></p><p><code>'enableAutoLogin'</code> <code>=&gt; </code><code>true</code><code>,</code></p><p><code>],</code></p></div></td></tr></tbody></table><p>... with the Yii2-User component:</p><table><tbody><tr><td><div>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></div></td><td><div><code>'user'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'dektrium\\user\\Module'</code><code>,</code></p><p><code>'enableUnconfirmedLogin'</code> <code>=&gt; </code><code>true</code><code>,</code></p><p><code>'confirmWithin'</code> <code>=&gt; 21600,</code></p><p><code>'cost'</code> <code>=&gt; 12,</code></p><p><code>'admins'</code> <code>=&gt; [</code><code>'admin'</code><code>]</code></p><p><code>],</code></p></div></td></tr></tbody></table><h3>Activate the SwiftMailer</h3><p>Since Yii2-User uses email to send out registration confirmations and forgotten passwords, it's time to activate our SwiftMailer configuration. In config/web.php, replace the default Mailer configuration here...</p><table><tbody><tr><td>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><code>'mailer'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'yii\\swiftmailer\\Mailer'</code><code>,</code></p><p><code>// send all mails to a file by default. You have to set</code></p><p><code>// 'useFileTransport' to false and configure a transport</code></p><p><code>// for the mailer to send real emails.</code></p><p><code>'useFileTransport'</code> <code>=&gt; true,</code></p><p><code>],</code></p></div></td></tr></tbody></table><p>... with this—you'll need to include your own SMTP credentials:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p></div></td><td><div><code>'mailer'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'yii\\swiftmailer\\Mailer'</code><code>,</code></p><p><code>'viewPath'</code> <code>=&gt; </code><code>'@app/mailer'</code><code>,</code></p><p><code>'useFileTransport'</code> <code>=&gt; false,</code></p><p><code>'transport'</code> <code>=&gt; [</code></p><p><code>'class'</code> <code>=&gt; </code><code>'Swift_SmtpTransport'</code><code>,</code></p><p><code>'host'</code> <code>=&gt; </code><code>'your-host-domain e.g. smtp.gmail.com'</code><code>,</code></p><p><code>'username'</code> <code>=&gt; </code><code>'your-email-or-username'</code><code>,</code></p><p><code>'password'</code> <code>=&gt; </code><code>'your-password'</code><code>,</code></p><p><code>'port'</code> <code>=&gt; </code><code>'587'</code><code>,</code></p><p><code>'encryption'</code> <code>=&gt; </code><code>'tls'</code><code>,</code></p><p><code>],</code></p><p><code>],</code></p></div></td></tr></tbody></table><h2>Integration of Yii2-User</h2><p>Now, we need to link our navigation bar to the Yii2-User controller paths. In /views/layouts/main.php, we update the navigation bar array definition for the Bootstrap menu. Replace the current navigation bar...</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p></div></td><td><div><code>echo</code> <code>Nav::widget([</code><p><code>'options'</code> <code>=&gt; [</code><code>'class'</code> <code>=&gt; </code><code>'navbar-nav navbar-right'</code><code>],</code></p><p><code>'items'</code> <code>=&gt; [</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Home'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Status'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/status/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'About'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/about'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Contact'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/contact'</code><code>]],</code></p><p><code>Yii::</code><code>$app</code><code>-&gt;user-&gt;isGuest ?</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Login'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/login'</code><code>]] :</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Logout ('</code> <code>. Yii::</code><code>$app</code><code>-&gt;user-&gt;identity-&gt;username . </code><code>')'</code><code>,</code></p><p><code>'url'</code> <code>=&gt; [</code><code>'/site/logout'</code><code>],</code></p><p><code>'linkOptions'</code> <code>=&gt; [</code><code>'data-method'</code> <code>=&gt; </code><code>'post'</code><code>]],</code></p><p><code>],</code></p><p><code>]);</code></p></div></td></tr></tbody></table><p>... with the following array definition:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p></div></td><td><div><code>$navItems</code><code>=[</code><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Home'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Status'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/status/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'About'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/about'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Contact'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/contact'</code><code>]]</code></p><p><code>];</code></p><p><code>if</code> <code>(Yii::</code><code>$app</code><code>-&gt;user-&gt;isGuest) {</code></p><p><code>array_push</code><code>(</code><code>$navItems</code><code>,[</code><code>'label'</code> <code>=&gt; </code><code>'Sign In'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/user/login'</code><code>]],[</code><code>'label'</code> <code>=&gt; </code><code>'Sign Up'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/user/register'</code><code>]]);</code></p><p><code>} </code><code>else</code> <code>{</code></p><p><code>array_push</code><code>(</code><code>$navItems</code><code>,[</code><code>'label'</code> <code>=&gt; </code><code>'Logout ('</code> <code>. Yii::</code><code>$app</code><code>-&gt;user-&gt;identity-&gt;username . </code><code>')'</code><code>,</code></p><p><code>'url'</code> <code>=&gt; [</code><code>'/site/logout'</code><code>],</code></p><p><code>'linkOptions'</code> <code>=&gt; [</code><code>'data-method'</code> <code>=&gt; </code><code>'post'</code><code>]]</code></p><p><code>);</code></p><p><code>}</code></p><p><code>echo</code> <code>Nav::widget([</code></p><p><code>'options'</code> <code>=&gt; [</code><code>'class'</code> <code>=&gt; </code><code>'navbar-nav navbar-right'</code><code>],</code></p><p><code>'items'</code> <code>=&gt; </code><code>$navItems</code><code>,</code></p><p><code>]);</code></p></div></td></tr></tbody></table><p>Reload the application and click the <strong>Sign Up</strong> link in the navigation bar. You should see something like this:</p><figure><img alt=\"Yii2-User Sign Up Page\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signup.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>When you click <strong>Sign Up</strong>, you'll see the confirmation notification. This tells us an email has been sent that we need to click on to verify our registration.</p><figure><img alt=\"Yii2-User Sign Up Confirmation Notice\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signup-confirm.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>You'll receive an email much like this one:</p><figure><img alt=\"Yii2-User Confirmation Email\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/email-verify.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Click on the link in the email and you'll see something like this:</p><figure><img alt=\"Yii2-User Sign Up Confirmation\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/user-verified.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Notice the login state maintained by Yii2 and the Yii2-User component—it's displayed in the navigation bar above. Click <strong>Logout</strong> and let's walk through the <strong>Sign In</strong> page:</p><figure><img alt=\"Yii2-User Sign In Form\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signin.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Yii2-User also includes password recovery:</p><figure><img alt=\"Yii2-User Forgot Your Password\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/forgot-pwd.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Just like that, we have a hugely important core authentication component for our application.</p><p>Yii2-User also has a number of <a href=\"https://github.com/dektrium/yii2-user/blob/master/docs/configuration.md\">configuration features</a> which you can explore further on your own, e.g. third party social authentication. We'll likely return to them in a later tutorial.</p><h2>What's Next?\r\n<p>I hope you've found this useful for your own Yii2 web application. If you'd like to know when the next Yii2 tutorial arrives, follow me <a href=\"https://twitter.com/intent/user?screen_name=reifman\">@reifman</a> on Twitter or <a href=\"http://tutsplus.com/authors/jeff-reifman\">check my instructor page</a>. My instructor page will include all the articles from this series as soon as they are published.</p></h2>"], ["created_at", "2015-03-24 03:18:12.896255"], ["slug", "programming-with-yii2-integrating-user-registration"], ["title", "Programming With Yii2: Integrating User Registration"], ["updated_at", "2015-03-24 03:18:12.896257"], ["user_id", 1]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[36m (7.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to ActsAsTaggableOnMigration (20140917114857)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "tags" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "taggings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tag_id" integer, "taggable_id" integer, "taggable_type" varchar(255), "tagger_id" integer, "tagger_type" varchar(255), "context" varchar(128), "created_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_taggings_on_tag_id" ON "taggings" ("tag_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917114857"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to AddMissingUniqueIndices (20140917114858)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE UNIQUE INDEX "index_tags_on_name" ON "tags" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'

  [1m[36m (0.9ms)[0m  [1mDROP INDEX "index_taggings_on_tag_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context"[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "taggings_idx" ON "taggings" ("tag_id", "taggable_id", "taggable_type", "context", "tagger_id", "tagger_type")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917114858"]]
  [1m[35m (1.4ms)[0m  commit transaction
Migrating to AddTaggingsCounterCacheToTags (20140917114859)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "tags" ADD "taggings_count" integer DEFAULT 0
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags"   ORDER BY "tags"."id" ASC LIMIT 1000[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917114859"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to AddMissingTaggableIndex (20140917114860)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917114860"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to DeviseCreateUsers (20140917115046)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "confirmation_token" varchar(255), "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar(255), "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar(255), "locked_at" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.5ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917115046"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to RolifyCreateRoles (20140917115054)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "resource_id" integer, "resource_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users_roles" ("user_id" integer, "role_id" integer) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_roles_on_name" ON "roles" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917115054"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to AddExtraInfoToUser (20140917122702)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "username" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "name" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "gender" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "birthday" date
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "agreement" boolean DEFAULT 't'[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "last_name" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "first_name" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "job" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "description" text[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "website" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "phone" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "locale" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "sns_avatar" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "address" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "facebook_account_url" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "twitter_account_url" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "linkedin_account_url" varchar(255)[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "github_account_url" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "googleplus_account_url" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917122702"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddAvatarToUsers (20140917123143)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "avatar" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917123143"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePosts (20140917125801)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "user_id" integer, "category_id" integer, "published" boolean DEFAULT 'f', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_posts_on_user_id" ON "posts" ("user_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_posts_on_category_id" ON "posts" ("category_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917125801"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to ThumbsUpMigration (20140917132148)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "vote" boolean DEFAULT 'f' NOT NULL, "voteable_id" integer NOT NULL, "voteable_type" varchar(255) NOT NULL, "voter_id" integer, "voter_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_votes_on_voter_id_and_voter_type" ON "votes" ("voter_id", "voter_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_votes_on_voteable_id_and_voteable_type" ON "votes" ("voteable_id", "voteable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  CREATE UNIQUE INDEX "fk_one_vote_per_user_per_entity" ON "votes" ("voter_id", "voter_type", "voteable_id", "voteable_type")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140917132148"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to ActsAsCommentableWithThreadingMigration (20140917132340)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(255), "title" varchar(255), "body" text, "subject" varchar(255), "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_comments_on_commentable_id_and_commentable_type" ON "comments" ("commentable_id", "commentable_type")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140917132340"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateAuthorizations (20140921161559)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "provider" varchar(255), "uid" varchar(255), "user_id" integer, "token" varchar(255), "secret" varchar(255), "username" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_authorizations_on_user_id" ON "authorizations" ("user_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140921161559"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreateViews (20140922112828)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "views" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "viewable_id" integer, "viewable_type" varchar(255), "ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_views_on_user_id" ON "views" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140922112828"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateRedactorAssets (20140923002324)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "redactor_assets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "data_file_name" varchar(255) NOT NULL, "data_content_type" varchar(255), "data_file_size" integer, "assetable_id" integer, "assetable_type" varchar(30), "type" varchar(30), "width" integer, "height" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "idx_redactor_assetable_type" ON "redactor_assets" ("assetable_type", "type", "assetable_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='idx_redactor_assetable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='idx_redactor_assetable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "idx_redactor_assetable" ON "redactor_assets" ("assetable_type", "assetable_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140923002324"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to AddUrlToTitle (20140923084120)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "posts" ADD "url" varchar(255)
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_user_id' AND type='index'

  [1m[36m (0.6ms)[0m  [1mCREATE UNIQUE INDEX "index_posts_on_url" ON "posts" ("url")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140923084120"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateCategories (20140923124927)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_categories_on_user_id" ON "categories" ("user_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140923124927"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to CreateSearches (20140923174451)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "searches" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "keywords" varchar(255), "category_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_searches_on_user_id" ON "searches" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140923174451"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreatePolicies (20140927134557)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "policies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "type" varchar(255), "body_en" text, "body_ko" text, "version" varchar(255), "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_policies_on_user_id" ON "policies" ("user_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140927134557"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to AddSlugToPost (20141001042337)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "posts" ADD "slug" varchar(255)
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_url' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_url' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_category_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_user_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "index_posts_on_slug" ON "posts" ("slug")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20141001042337"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreateLimits (20141017054005)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "limits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "limitable_id" integer, "limitable_type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20141017054005"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLimitations (20141019103548)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "limitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "post_id" integer, "limit_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20141019103548"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_authorizations_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_authorizations_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_commentable_id_and_commentable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_commentable_id_and_commentable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_comments_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_comments_on_user_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_policies_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_policies_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_slug' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_slug' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_url' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_url' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_posts_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_posts_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='idx_redactor_assetable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='idx_redactor_assetable' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='idx_redactor_assetable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='idx_redactor_assetable_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_searches_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_searches_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_unlock_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_unlock_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_views_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_views_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("confirmed_at", "created_at", "email", "first_name", "gender", "last_name", "locale", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["confirmed_at", "2015-03-24 03:19:31.535511"], ["created_at", "2015-03-24 03:19:31.535988"], ["email", "admin@admin.com"], ["first_name", "admin"], ["gender", "male"], ["last_name", "Seo"], ["locale", "en"], ["updated_at", "2015-03-24 03:19:31.535988"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "name", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", "2015-03-24 03:19:31.554656"], ["name", "Cooking"], ["updated_at", "2015-03-24 03:19:31.554657"], ["user_id", 1]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("created_at", "name", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", "2015-03-24 03:19:31.563810"], ["name", "Design"], ["updated_at", "2015-03-24 03:19:31.563810"], ["user_id", 1]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("created_at", "name", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", "2015-03-24 03:19:31.565720"], ["name", "Programming"], ["updated_at", "2015-03-24 03:19:31.565721"], ["user_id", 1]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("created_at", "name", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", "2015-03-24 03:19:31.567556"], ["name", "Articles"], ["updated_at", "2015-03-24 03:19:31.567557"], ["user_id", 1]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mPost Load (0.2ms)[0m  SELECT "posts".* FROM "posts"  WHERE (slug LIKE 'programming-with-yii2-integrating-user-registration%')
  [1m[36mPost Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "created_at", "slug", "title", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?)  [["body", "<p><em>If you're asking, \"What's Yii?\", check out my earlier tutorial: </em><a href=\"http://code.tutsplus.com/articles/introduction-to-the-yii-framework--cms-20948\"><em>Introduction to the Yii Framework</em></a><em>, which reviews the benefits of Yii and includes an overview of what's new in Yii 2.0, released October 12th, 2014.</em></p><p>This is part four of a series on Yii2. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-getting-started--cms-22440\">Programming With Yii2: Getting Started</a>, we set up Yii2 locally, built a Hello World application, set up a remote server, and used Github to deploy our code. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-exploring-mvc-forms-and-layouts--cms-22682\">part two</a>, we learned about Yii's implementation of its Model View Controller architecture and how to build web pages and forms that collect and validate data. In <a href=\"http://code.tutsplus.com/tutorials/programming-with-yii2-working-with-the-database-and-active-record--cms-22768\">part three</a>, we learned about working with databases and ActiveRecord. In this tutorial, we'll walk you through integrating a popular user registration plugin.</p><p>For these examples, we'll continue building on our hello app available in the <a href=\"https://github.com/newscloud/hello/releases/tag/user-registration\">Tuts+ repository</a> so that you can follow along.</p><h2>User Registration for Your Web Application</h2><p>Almost any web application of any usefulness requires some form of user registration. Yii provides a couple of ways to approach user registration, both relatively straightforward. This is one of the things I like about using Yii over vanilla PHP—in moments, I can have a fully featured web application framework ready to build cool stuff on.</p><p>There are few reasons to rebuild the wheel and code user authentication and its many requirements and corollary features from scratch, e.g. sending emails and authentication for registration verification, password recovery, third party social authentication, et al. </p><p>The <a href=\"http://www.yiiframework.com/doc-2.0/guide-tutorial-advanced-app.html\">Yii2 Advanced Application Template</a> provides built-in user registration; we're using this approach in my <a href=\"http://code.tutsplus.com/tutorials/building-your-startup-with-php-getting-started--cms-21948\">Building Your Startup</a> series. However, in this series, we've been building on Yii2's basic application template. The default basic application template includes hard coded user login, which isn't very useful.</p><figure><img alt=\"Yii2 Basic Application Template Static Login\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/static-login.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Another approach to user registration is to use third party extensions. For this tutorial, I'll walk you through using <a href=\"https://twitter.com/dmeroff_en\">Dmitry Erofeev</a>'s <a href=\"https://github.com/dektrium/yii2-user\">Yii2-User extension</a>.<a href=\"http://yii2-user.readthedocs.org/en/latest/index.html\">Documentation for Yii2-User is available here</a>. Erofeev's building <a href=\"https://github.com/dektrium\">other plugins for Yii2</a> as well.</p><figure><img alt=\"Dektriums Yii2-User Documentation\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/yii2-user-documentation.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><h2>Installation of Yii2-User</h2><p>Let's get started installing the Yii2-User extension. We'll follow the <a href=\"https://github.com/dektrium/yii2-user/blob/master/docs/installation.md\">installation instructions</a>.</p><h3>Installing Yii2-User With Composer</h3><p>First, we need to add Yii2-User to composer's required extensions. Edit the /composer.json file to include Yii2-User:</p><table><tbody><tr><td>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><code>\"require\"</code><code>: {</code><p><code>\"php\"</code><code>: </code><code>\"&gt;=5.4.0\"</code><code>,</code></p><p><code>\"yiisoft/yii2\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"yiisoft/yii2-bootstrap\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"yiisoft/yii2-swiftmailer\"</code><code>: </code><code>\"*\"</code><code>,</code></p><p><code>\"dektrium/yii2-user\"</code><code>: </code><code>\"*\"</code></p><p><code>},</code></p></div></td></tr></tbody></table><p>Then, when we update composer, you'll see something like this:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p></div></td><td><div><code>Admins-MacBook-Pro-2:hello Jeff$ composer update</code><p><code>Loading composer repositories with package information</code></p><p><code>Updating dependencies (including require-dev)</code></p><p><code>- Removing yiisoft</code><code>/yii2-composer</code> <code>(2.0.0)  </code></p><p><code>- Installing yiisoft</code><code>/yii2-composer</code> <code>(2.0.1)</code></p><p><code>Downloading: 100%  </code></p><p><code>...</code></p><p><code>- Installing dektrium</code><code>/yii2-user</code> <code>(v0.8.2)</code></p><p><code>Downloading: 100%  </code></p><p><code>Writing lock </code><code>file</code></p><p><code>Generating autoload files</code></p></div></td></tr></tbody></table><h3>Update the Database</h3><p>Next, we run the database migration for Yii2-User. This creates the database tables that the extension requires. These will manage user accounts and credentials.</p><table><tbody><tr><td>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p></td><td><div><code>hello Jeff$ php yii migrate</code><code>/up</code> <code>--migrationPath=@vendor</code><code>/dektrium/yii2-user/migrations</code><p><code>Yii Migration Tool (based on Yii v2.0.1)</code></p><p><code>Total 6 new migrations to be applied:</code></p><p><code>m140209_132017_init</code></p><p><code>m140403_174025_create_account_table</code></p><p><code>m140504_113157_update_tables</code></p><p><code>m140504_130429_create_token_table</code></p><p><code>m140830_171933_fix_ip_field</code></p><p><code>m140830_172703_change_account_table_name</code></p><p><code>Apply the above migrations? (</code><code>yes</code><code>|no) [no]:</code><code>yes</code></p><p><code>*** applying m140209_132017_init</code></p><p><code>&gt; create table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; create unique index user_unique_username on {{%user}} (username) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.015s)</code></p><p><code>&gt; create unique index user_unique_email on {{%user}} (email) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.012s)</code></p><p><code>&gt; create unique index user_confirmation on {{%user}} (</code><code>id</code><code>, confirmation_token) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.011s)</code></p><p><code>&gt; create unique index user_recovery on {{%user}} (</code><code>id</code><code>, recovery_token) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; create table {{%profile}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; add foreign key fk_user_profile: {{%profile}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>*** applied m140209_132017_init (</code><code>time</code><code>: 0.078s)</code></p><p><code>*** applying m140403_174025_create_account_table</code></p><p><code>&gt; create table {{%account}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; create unique index account_unique on {{%account}} (provider,client_id) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; add foreign key fk_user_account: {{%account}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>*** applied m140403_174025_create_account_table (</code><code>time</code><code>: 0.027s)</code></p><p><code>*** applying m140504_113157_update_tables</code></p><p><code>&gt; drop index user_confirmation ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop index user_recovery ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; drop column confirmation_token from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; drop column confirmation_sent_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; drop column recovery_token from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop column recovery_sent_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; drop column logged_in_from from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.007s)</code></p><p><code>&gt; drop column logged_in_at from table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>&gt; rename column registered_from </code><code>in</code> <code>table {{%user}} to registration_ip ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>&gt; add column flags integer NOT NULL DEFAULT 0 to table {{%user}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; rename column properties </code><code>in</code> <code>table {{%account}} to data ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.008s)</code></p><p><code>*** applied m140504_113157_update_tables (</code><code>time</code><code>: 0.090s)</code></p><p><code>*** applying m140504_130429_create_token_table</code></p><p><code>&gt; create table {{%token}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.006s)</code></p><p><code>&gt; create unique index token_unique on {{%token}} (user_id,code,</code><code>type</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>&gt; add foreign key fk_user_token: {{%token}} (user_id) references {{%user}} (</code><code>id</code><code>) ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.009s)</code></p><p><code>*** applied m140504_130429_create_token_table (</code><code>time</code><code>: 0.026s)</code></p><p><code>*** applying m140830_171933_fix_ip_field</code></p><p><code>&gt; alter column registration_ip </code><code>in</code> <code>table {{%user}} to bigint ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.010s)</code></p><p><code>*** applied m140830_171933_fix_ip_field (</code><code>time</code><code>: 0.011s)</code></p><p><code>*** applying m140830_172703_change_account_table_name</code></p><p><code>&gt; rename table {{%account}} to {{%social_account}} ... </code><code>done</code> <code>(</code><code>time</code><code>: 0.001s)</code></p><p><code>*** applied m140830_172703_change_account_table_name (</code><code>time</code><code>: 0.002s)</code></p><p><code>Migrated up successfully.</code></p></div></td></tr></tbody></table><h3>Update the Configuration File</h3><p>Next, we need to tell Yii to use the Yii2-User component. In /config/web.php, we replace the default User component...</p><table><tbody><tr><td>12<p>3</p><p>4</p></td><td><div><code>'user'</code> <code>=&gt; [</code><p><code>'identityClass'</code> <code>=&gt; </code><code>'app\\models\\User'</code><code>,</code></p><p><code>'enableAutoLogin'</code> <code>=&gt; </code><code>true</code><code>,</code></p><p><code>],</code></p></div></td></tr></tbody></table><p>... with the Yii2-User component:</p><table><tbody><tr><td><div>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></div></td><td><div><code>'user'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'dektrium\\user\\Module'</code><code>,</code></p><p><code>'enableUnconfirmedLogin'</code> <code>=&gt; </code><code>true</code><code>,</code></p><p><code>'confirmWithin'</code> <code>=&gt; 21600,</code></p><p><code>'cost'</code> <code>=&gt; 12,</code></p><p><code>'admins'</code> <code>=&gt; [</code><code>'admin'</code><code>]</code></p><p><code>],</code></p></div></td></tr></tbody></table><h3>Activate the SwiftMailer</h3><p>Since Yii2-User uses email to send out registration confirmations and forgotten passwords, it's time to activate our SwiftMailer configuration. In config/web.php, replace the default Mailer configuration here...</p><table><tbody><tr><td>12<p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><code>'mailer'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'yii\\swiftmailer\\Mailer'</code><code>,</code></p><p><code>// send all mails to a file by default. You have to set</code></p><p><code>// 'useFileTransport' to false and configure a transport</code></p><p><code>// for the mailer to send real emails.</code></p><p><code>'useFileTransport'</code> <code>=&gt; true,</code></p><p><code>],</code></p></div></td></tr></tbody></table><p>... with this—you'll need to include your own SMTP credentials:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p></div></td><td><div><code>'mailer'</code> <code>=&gt; [</code><p><code>'class'</code> <code>=&gt; </code><code>'yii\\swiftmailer\\Mailer'</code><code>,</code></p><p><code>'viewPath'</code> <code>=&gt; </code><code>'@app/mailer'</code><code>,</code></p><p><code>'useFileTransport'</code> <code>=&gt; false,</code></p><p><code>'transport'</code> <code>=&gt; [</code></p><p><code>'class'</code> <code>=&gt; </code><code>'Swift_SmtpTransport'</code><code>,</code></p><p><code>'host'</code> <code>=&gt; </code><code>'your-host-domain e.g. smtp.gmail.com'</code><code>,</code></p><p><code>'username'</code> <code>=&gt; </code><code>'your-email-or-username'</code><code>,</code></p><p><code>'password'</code> <code>=&gt; </code><code>'your-password'</code><code>,</code></p><p><code>'port'</code> <code>=&gt; </code><code>'587'</code><code>,</code></p><p><code>'encryption'</code> <code>=&gt; </code><code>'tls'</code><code>,</code></p><p><code>],</code></p><p><code>],</code></p></div></td></tr></tbody></table><h2>Integration of Yii2-User</h2><p>Now, we need to link our navigation bar to the Yii2-User controller paths. In /views/layouts/main.php, we update the navigation bar array definition for the Bootstrap menu. Replace the current navigation bar...</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p></div></td><td><div><code>echo</code> <code>Nav::widget([</code><p><code>'options'</code> <code>=&gt; [</code><code>'class'</code> <code>=&gt; </code><code>'navbar-nav navbar-right'</code><code>],</code></p><p><code>'items'</code> <code>=&gt; [</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Home'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Status'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/status/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'About'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/about'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Contact'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/contact'</code><code>]],</code></p><p><code>Yii::</code><code>$app</code><code>-&gt;user-&gt;isGuest ?</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Login'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/login'</code><code>]] :</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Logout ('</code> <code>. Yii::</code><code>$app</code><code>-&gt;user-&gt;identity-&gt;username . </code><code>')'</code><code>,</code></p><p><code>'url'</code> <code>=&gt; [</code><code>'/site/logout'</code><code>],</code></p><p><code>'linkOptions'</code> <code>=&gt; [</code><code>'data-method'</code> <code>=&gt; </code><code>'post'</code><code>]],</code></p><p><code>],</code></p><p><code>]);</code></p></div></td></tr></tbody></table><p>... with the following array definition:</p><table><tbody><tr><td><div>0102<p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p></div></td><td><div><code>$navItems</code><code>=[</code><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Home'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Status'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/status/index'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'About'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/about'</code><code>]],</code></p><p><code>[</code><code>'label'</code> <code>=&gt; </code><code>'Contact'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/site/contact'</code><code>]]</code></p><p><code>];</code></p><p><code>if</code> <code>(Yii::</code><code>$app</code><code>-&gt;user-&gt;isGuest) {</code></p><p><code>array_push</code><code>(</code><code>$navItems</code><code>,[</code><code>'label'</code> <code>=&gt; </code><code>'Sign In'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/user/login'</code><code>]],[</code><code>'label'</code> <code>=&gt; </code><code>'Sign Up'</code><code>, </code><code>'url'</code> <code>=&gt; [</code><code>'/user/register'</code><code>]]);</code></p><p><code>} </code><code>else</code> <code>{</code></p><p><code>array_push</code><code>(</code><code>$navItems</code><code>,[</code><code>'label'</code> <code>=&gt; </code><code>'Logout ('</code> <code>. Yii::</code><code>$app</code><code>-&gt;user-&gt;identity-&gt;username . </code><code>')'</code><code>,</code></p><p><code>'url'</code> <code>=&gt; [</code><code>'/site/logout'</code><code>],</code></p><p><code>'linkOptions'</code> <code>=&gt; [</code><code>'data-method'</code> <code>=&gt; </code><code>'post'</code><code>]]</code></p><p><code>);</code></p><p><code>}</code></p><p><code>echo</code> <code>Nav::widget([</code></p><p><code>'options'</code> <code>=&gt; [</code><code>'class'</code> <code>=&gt; </code><code>'navbar-nav navbar-right'</code><code>],</code></p><p><code>'items'</code> <code>=&gt; </code><code>$navItems</code><code>,</code></p><p><code>]);</code></p></div></td></tr></tbody></table><p>Reload the application and click the <strong>Sign Up</strong> link in the navigation bar. You should see something like this:</p><figure><img alt=\"Yii2-User Sign Up Page\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signup.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>When you click <strong>Sign Up</strong>, you'll see the confirmation notification. This tells us an email has been sent that we need to click on to verify our registration.</p><figure><img alt=\"Yii2-User Sign Up Confirmation Notice\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signup-confirm.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>You'll receive an email much like this one:</p><figure><img alt=\"Yii2-User Confirmation Email\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/email-verify.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Click on the link in the email and you'll see something like this:</p><figure><img alt=\"Yii2-User Sign Up Confirmation\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/user-verified.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Notice the login state maintained by Yii2 and the Yii2-User component—it's displayed in the navigation bar above. Click <strong>Logout</strong> and let's walk through the <strong>Sign In</strong> page:</p><figure><img alt=\"Yii2-User Sign In Form\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/signin.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Yii2-User also includes password recovery:</p><figure><img alt=\"Yii2-User Forgot Your Password\" src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22974/image/forgot-pwd.jpeg\" style=\"outline: rgb(211, 211, 211) solid 1px; margin: 1px;\"></figure><p>Just like that, we have a hugely important core authentication component for our application.</p><p>Yii2-User also has a number of <a href=\"https://github.com/dektrium/yii2-user/blob/master/docs/configuration.md\">configuration features</a> which you can explore further on your own, e.g. third party social authentication. We'll likely return to them in a later tutorial.</p><h2>What's Next?\r\n<p>I hope you've found this useful for your own Yii2 web application. If you'd like to know when the next Yii2 tutorial arrives, follow me <a href=\"https://twitter.com/intent/user?screen_name=reifman\">@reifman</a> on Twitter or <a href=\"http://tutsplus.com/authors/jeff-reifman\">check my instructor page</a>. My instructor page will include all the articles from this series as soon as they are published.</p></h2>"], ["created_at", "2015-03-24 03:19:31.594207"], ["slug", "programming-with-yii2-integrating-user-registration"], ["title", "Programming With Yii2: Integrating User Registration"], ["updated_at", "2015-03-24 03:19:31.594208"], ["user_id", 1]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2015-03-24 12:19:39 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `current_sign_in_ip`
Binary data inserted for `string` type on column `last_sign_in_ip`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("confirmed_at", "created_at", "current_sign_in_ip", "email", "last_sign_in_ip", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?)  [["confirmed_at", "2015-03-24 03:19:39.550662"], ["created_at", "2015-03-24 03:19:39.551559"], ["current_sign_in_ip", "127.0.0.1"], ["email", "guest_14271671792112@example.com"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2015-03-24 03:19:39.551559"], ["username", "guest1427167179426"]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
손님계정: 2
  Rendered pages/home.html.erb within layouts/application (3.6ms)
  Rendered shared/_social_meta_tags.html.erb (2.6ms)
  Rendered shared/_flash.html.erb (3.4ms)
  Rendered layouts/_menu.html.erb (7.0ms)
  Rendered layouts/_header.html.erb (8.4ms)
Completed 200 OK in 467ms (Views: 369.0ms | ActiveRecord: 8.9ms)


Started GET "/blog" for 127.0.0.1 at 2015-03-24 12:19:43 +0900
Processing by PagesController#blog as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "roles" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", "2015-03-24 03:19:43.115414"], ["name", "basic"], ["updated_at", "2015-03-24 03:19:43.115414"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPost Load (0.5ms)[0m  SELECT  "posts".* FROM "posts"   ORDER BY created_at DESC LIMIT 10 OFFSET 0
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?  [["commentable_id", 1], ["commentable_type", "Post"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voteable_id" = 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ?  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  Rendered posts/_borderless.html.erb (157.6ms)
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 4]]
  Rendered layouts/_default_blog.html.erb (168.3ms)
  Rendered pages/blog.html.erb within layouts/application (169.2ms)
  Rendered shared/_social_meta_tags.html.erb (0.2ms)
  Rendered shared/_flash.html.erb (0.5ms)
  Rendered layouts/_menu.html.erb (1.8ms)
  Rendered layouts/_header.html.erb (2.7ms)
Completed 200 OK in 395ms (Views: 345.3ms | ActiveRecord: 12.0ms)


Started GET "/posts/programming-with-yii2-integrating-user-registration" for 127.0.0.1 at 2015-03-24 12:19:45 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"programming-with-yii2-integrating-user-registration"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mView Load (0.1ms)[0m  SELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."user_id" = 2  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36mView Load (0.1ms)[0m  [1mSELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."ip" = '127.0.0.1'[0m  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
Completed 500 Internal Server Error in 73ms

NoMethodError - undefined method `current_sign_in_ip' for true:TrueClass:
   () Users/geekerati/Desktop/seoyoochan-blog/app/controllers/posts_controller.rb:33:in `show'
  actionpack (4.1.4) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.4) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.4) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.4) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:678:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.4) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.4) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.4) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.4) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.4) lib/rails/engine.rb:514:in `call'
  railties (4.1.4) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.5.1) lib/thin/connection.rb:81:in `block in pre_process'
  thin (1.5.1) lib/thin/connection.rb:79:in `catch'
  thin (1.5.1) lib/thin/connection.rb:79:in `pre_process'
  thin (1.5.1) lib/thin/connection.rb:54:in `process'
  thin (1.5.1) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run_machine'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.5.1) lib/thin/backends/base.rb:63:in `start'
  thin (1.5.1) lib/thin/server.rb:159:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.4) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:76:in `tap'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.4) lib/rails/commands.rb:17:in `<top (required)>'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/rails:8:in `require'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/rails:8:in `<top (required)>'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `load'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `call'
  spring (1.1.3) lib/spring/client/command.rb:7:in `call'
  spring (1.1.3) lib/spring/client.rb:26:in `run'
  spring (1.1.3) bin/spring:48:in `<top (required)>'
  spring (1.1.3) lib/spring/binstub.rb:11:in `load'
  spring (1.1.3) lib/spring/binstub.rb:11:in `<top (required)>'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/spring:16:in `require'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/spring:16:in `<top (required)>'
   () rails:3:in `load'
   () rails:3:in `<main>'



Started GET "/posts/programming-with-yii2-integrating-user-registration" for 127.0.0.1 at 2015-03-24 12:19:46 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"programming-with-yii2-integrating-user-registration"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mView Load (0.1ms)[0m  SELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."user_id" = 2  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36mView Load (0.1ms)[0m  [1mSELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."ip" = '127.0.0.1'[0m  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
Completed 500 Internal Server Error in 103ms

NoMethodError - undefined method `current_sign_in_ip' for true:TrueClass:
   () Users/geekerati/Desktop/seoyoochan-blog/app/controllers/posts_controller.rb:33:in `show'
  actionpack (4.1.4) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.4) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.4) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.4) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:678:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.4) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.4) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.4) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.4) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.4) lib/rails/engine.rb:514:in `call'
  railties (4.1.4) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.5.1) lib/thin/connection.rb:81:in `block in pre_process'
  thin (1.5.1) lib/thin/connection.rb:79:in `catch'
  thin (1.5.1) lib/thin/connection.rb:79:in `pre_process'
  thin (1.5.1) lib/thin/connection.rb:54:in `process'
  thin (1.5.1) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run_machine'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.5.1) lib/thin/backends/base.rb:63:in `start'
  thin (1.5.1) lib/thin/server.rb:159:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.4) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:76:in `tap'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.4) lib/rails/commands.rb:17:in `<top (required)>'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/rails:8:in `require'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/rails:8:in `<top (required)>'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `load'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `call'
  spring (1.1.3) lib/spring/client/command.rb:7:in `call'
  spring (1.1.3) lib/spring/client.rb:26:in `run'
  spring (1.1.3) bin/spring:48:in `<top (required)>'
  spring (1.1.3) lib/spring/binstub.rb:11:in `load'
  spring (1.1.3) lib/spring/binstub.rb:11:in `<top (required)>'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/spring:16:in `require'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/spring:16:in `<top (required)>'
   () rails:3:in `load'
   () rails:3:in `<main>'



Started POST "/__better_errors/70106019278340/variables" for 127.0.0.1 at 2015-03-24 12:19:46 +0900
  [1m[36mComment Load (0.4ms)[0m  [1mSELECT "comments".* FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?[0m  [["commentable_id", 1], ["commentable_type", "Post"]]


Started GET "/posts/programming-with-yii2-integrating-user-registration" for 127.0.0.1 at 2015-03-24 12:21:44 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"programming-with-yii2-integrating-user-registration"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT  "posts".* FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
Completed 500 Internal Server Error in 166ms

NoMethodError - undefined method `current_sign_in_ip' for true:TrueClass:
   () Users/geekerati/Desktop/seoyoochan-blog/app/controllers/posts_controller.rb:33:in `show'
  actionpack (4.1.4) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.4) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.4) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.4) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:678:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.4) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.4) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.4) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.4) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.4) lib/rails/engine.rb:514:in `call'
  railties (4.1.4) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.5.1) lib/thin/connection.rb:81:in `block in pre_process'
  thin (1.5.1) lib/thin/connection.rb:79:in `catch'
  thin (1.5.1) lib/thin/connection.rb:79:in `pre_process'
  thin (1.5.1) lib/thin/connection.rb:54:in `process'
  thin (1.5.1) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run_machine'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.5.1) lib/thin/backends/base.rb:63:in `start'
  thin (1.5.1) lib/thin/server.rb:159:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.4) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:76:in `tap'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.4) lib/rails/commands.rb:17:in `<top (required)>'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/rails:8:in `require'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/rails:8:in `<top (required)>'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `load'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `call'
  spring (1.1.3) lib/spring/client/command.rb:7:in `call'
  spring (1.1.3) lib/spring/client.rb:26:in `run'
  spring (1.1.3) bin/spring:48:in `<top (required)>'
  spring (1.1.3) lib/spring/binstub.rb:11:in `load'
  spring (1.1.3) lib/spring/binstub.rb:11:in `<top (required)>'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/spring:16:in `require'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/spring:16:in `<top (required)>'
   () rails:3:in `load'
   () rails:3:in `<main>'



Started POST "/__better_errors/70105978608380/variables" for 127.0.0.1 at 2015-03-24 12:21:45 +0900
  [1m[35mComment Load (0.1ms)[0m  SELECT "comments".* FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?  [["commentable_id", 1], ["commentable_type", "Post"]]


Started GET "/posts/programming-with-yii2-integrating-user-registration" for 127.0.0.1 at 2015-03-24 12:22:12 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"programming-with-yii2-integrating-user-registration"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  [1m[35mPost Load (0.2ms)[0m  SELECT  "posts".* FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mView Load (0.1ms)[0m  SELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."user_id" = 2  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36mView Load (0.1ms)[0m  [1mSELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."ip" = '127.0.0.1'[0m  [["viewable_id", 1], ["viewable_type", "Post"]]
Completed 500 Internal Server Error in 165ms

NoMethodError - undefined method `current_sign_in_ip' for nil:NilClass:
   () Users/geekerati/Desktop/seoyoochan-blog/app/controllers/posts_controller.rb:33:in `show'
  actionpack (4.1.4) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.4) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.4) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.4) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:678:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.4) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.4) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.4) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.1.4) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.4) lib/rails/engine.rb:514:in `call'
  railties (4.1.4) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.5.1) lib/thin/connection.rb:81:in `block in pre_process'
  thin (1.5.1) lib/thin/connection.rb:79:in `catch'
  thin (1.5.1) lib/thin/connection.rb:79:in `pre_process'
  thin (1.5.1) lib/thin/connection.rb:54:in `process'
  thin (1.5.1) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run_machine'
  eventmachine (1.0.3) lib/eventmachine.rb:187:in `run'
  thin (1.5.1) lib/thin/backends/base.rb:63:in `start'
  thin (1.5.1) lib/thin/server.rb:159:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.4) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:76:in `tap'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.4) lib/rails/commands.rb:17:in `<top (required)>'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/rails:8:in `require'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/rails:8:in `<top (required)>'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `load'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `call'
  spring (1.1.3) lib/spring/client/command.rb:7:in `call'
  spring (1.1.3) lib/spring/client.rb:26:in `run'
  spring (1.1.3) bin/spring:48:in `<top (required)>'
  spring (1.1.3) lib/spring/binstub.rb:11:in `load'
  spring (1.1.3) lib/spring/binstub.rb:11:in `<top (required)>'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/spring:16:in `require'
   () Users/geekerati/Desktop/seoyoochan-blog/bin/spring:16:in `<top (required)>'
   () rails:3:in `load'
   () rails:3:in `<main>'



Started POST "/__better_errors/70105981551660/variables" for 127.0.0.1 at 2015-03-24 12:22:12 +0900
  [1m[35mComment Load (0.2ms)[0m  SELECT "comments".* FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?  [["commentable_id", 1], ["commentable_type", "Post"]]


Started GET "/posts/programming-with-yii2-integrating-user-registration" for 127.0.0.1 at 2015-03-24 12:22:31 +0900
Processing by PostsController#show as HTML
  Parameters: {"id"=>"programming-with-yii2-integrating-user-registration"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  [1m[35mPost Load (0.1ms)[0m  SELECT  "posts".* FROM "posts"  WHERE "posts"."slug" = 'programming-with-yii2-integrating-user-registration' LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)  ORDER BY taggings.id[0m  [["taggable_id", 1], ["taggable_type", "Post"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mView Load (0.1ms)[0m  SELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."user_id" = 2  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36mView Load (0.1ms)[0m  [1mSELECT "views".* FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ? AND "views"."ip" = '127.0.0.1'[0m  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "views" ("created_at", "ip", "updated_at", "user_id", "viewable_id", "viewable_type") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", "2015-03-24 03:22:31.607022"], ["ip", "127.0.0.1"], ["updated_at", "2015-03-24 03:22:31.607024"], ["user_id", 2], ["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?[0m  [["commentable_id", 1], ["commentable_type", "Post"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ?  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes"  WHERE "votes"."voteable_id" = 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id  [["taggable_id", 1], ["taggable_type", "Post"]]
  Rendered devise/shared/_sns_connector.html.erb (1.1ms)
  Rendered shared/_login_suggestion.html.erb (3.0ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT "comments".* FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?  ORDER BY updated_at DESC[0m  [["commentable_id", 1], ["commentable_type", "Post"]]
  Rendered comments/_comment.html.erb (0.0ms)
  Rendered posts/show.html.erb within layouts/application (46.1ms)
  Rendered shared/_social_meta_tags.html.erb (1.3ms)
  Rendered shared/_flash.html.erb (3.0ms)
  Rendered layouts/_menu.html.erb (6.5ms)
  Rendered layouts/_header.html.erb (8.8ms)
Completed 200 OK in 469ms (Views: 299.1ms | ActiveRecord: 6.8ms)


Started GET "/blog" for 127.0.0.1 at 2015-03-24 12:22:57 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#blog as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
손님계정: #<User id: 2, email: "guest_14271671792112@example.com", encrypted_password: "", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: "127.0.0.1", last_sign_in_ip: "127.0.0.1", confirmation_token: nil, confirmed_at: "2015-03-24 03:19:39", confirmation_sent_at: nil, unconfirmed_email: nil, failed_attempts: 0, unlock_token: nil, locked_at: nil, created_at: "2015-03-24 03:19:39", updated_at: "2015-03-24 03:19:39", username: "guest1427167179426", name: nil, gender: nil, birthday: nil, agreement: true, last_name: nil, first_name: nil, job: nil, description: nil, website: nil, phone: nil, locale: nil, sns_avatar: nil, address: nil, facebook_account_url: nil, twitter_account_url: nil, linkedin_account_url: nil, github_account_url: nil, googleplus_account_url: nil, avatar: nil>
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "posts"
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'basic' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1mSELECT  "posts".* FROM "posts"   ORDER BY created_at DESC LIMIT 10 OFFSET 0[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "comments"  WHERE "comments"."commentable_id" = ? AND "comments"."commentable_type" = ?[0m  [["commentable_id", 1], ["commentable_type", "Post"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes"  WHERE "votes"."voteable_id" = 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "views"  WHERE "views"."viewable_id" = ? AND "views"."viewable_type" = ?[0m  [["viewable_id", 1], ["viewable_type", "Post"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = ('tags'))  ORDER BY taggings.id  [["taggable_id", 1], ["taggable_type", "Post"]]
  Rendered posts/_borderless.html.erb (146.9ms)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?  [["category_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "posts"  WHERE "posts"."category_id" = ?[0m  [["category_id", 4]]
  Rendered layouts/_default_blog.html.erb (194.3ms)
  Rendered pages/blog.html.erb within layouts/application (198.0ms)
  Rendered shared/_social_meta_tags.html.erb (1.1ms)
  Rendered shared/_flash.html.erb (1.2ms)
  Rendered layouts/_menu.html.erb (9.1ms)
  Rendered layouts/_header.html.erb (10.7ms)
Completed 200 OK in 649ms (Views: 527.0ms | ActiveRecord: 5.5ms)
